{"attributes":{"fieldAttrs":"{}","fields":"[]","runtimeFieldMap":"{}","timeFieldName":"@timestamp","title":"fhir-report-patient"},"coreMigrationVersion":"7.13.0","id":"58537ec0-f140-11eb-bdb5-4d4ebeaf0cd2","migrationVersion":{"index-pattern":"7.11.0"},"references":[],"sort":[1627654422713,71],"type":"index-pattern","updated_at":"2021-07-30T14:13:42.713Z","version":"Wzc4LDFd"}
{"attributes":{"buildNum":40865,"defaultIndex":"58537ec0-f140-11eb-bdb5-4d4ebeaf0cd2"},"coreMigrationVersion":"7.13.0","id":"7.13.0","migrationVersion":{"config":"7.13.0"},"references":[],"sort":[1627654535523,172],"type":"config","updated_at":"2021-07-30T14:15:35.523Z","version":"WzE2MiwxXQ=="}
{"attributes":{"description":"","hits":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"optionsJSON":"{\"hidePanelTitles\":false,\"useMargins\":true}","panelsJSON":"[{\"version\":\"7.13.0\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":0,\"w\":41,\"h\":6,\"i\":\"d3726028-35c7-498b-bbc0-8efbad1ae278\"},\"panelIndex\":\"d3726028-35c7-498b-bbc0-8efbad1ae278\",\"embeddableConfig\":{\"savedVis\":{\"title\":\"\",\"description\":\"\",\"type\":\"markdown\",\"params\":{\"fontSize\":12,\"openLinksInNewTab\":true,\"markdown\":\"# Report 1A dashboard\\n\\n[View tabular report with graphs](http://localhost:5488/templates/6QHBqntgyC)\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}},\"enhancements\":{}}},{\"version\":\"7.13.0\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":6,\"w\":41,\"h\":5,\"i\":\"c468c898-0579-4c0d-97a5-cac5d6d6670c\"},\"panelIndex\":\"c468c898-0579-4c0d-97a5-cac5d6d6670c\",\"embeddableConfig\":{\"savedVis\":{\"title\":\"\",\"description\":\"\",\"type\":\"input_control_vis\",\"params\":{\"controls\":[{\"id\":\"1627033083966\",\"fieldName\":\"hivDiagEncounter.facility.state\",\"parent\":\"\",\"label\":\"State\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":true,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_c468c898-0579-4c0d-97a5-cac5d6d6670c_0_index_pattern\"},{\"id\":\"1627033108990\",\"fieldName\":\"hivDiagEncounter.facility.district\",\"parent\":\"\",\"label\":\"District\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":true,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_c468c898-0579-4c0d-97a5-cac5d6d6670c_1_index_pattern\"},{\"id\":\"1627033124811\",\"fieldName\":\"hivDiagEncounter.facility.city\",\"parent\":\"\",\"label\":\"City\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":true,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_c468c898-0579-4c0d-97a5-cac5d6d6670c_2_index_pattern\"},{\"id\":\"1627033150893\",\"fieldName\":\"hivDiagEncounter.facility.name\",\"parent\":\"\",\"label\":\"Facility\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":true,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_c468c898-0579-4c0d-97a5-cac5d6d6670c_3_index_pattern\"}],\"updateFiltersOnChange\":true,\"useTimeFilter\":true,\"pinFilters\":false},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}},\"enhancements\":{}}},{\"version\":\"7.13.0\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":11,\"w\":41,\"h\":26,\"i\":\"29810882-6bac-4029-9c9a-7a0d82a5ddb2\"},\"panelIndex\":\"29810882-6bac-4029-9c9a-7a0d82a5ddb2\",\"embeddableConfig\":{\"savedVis\":{\"title\":\"\",\"description\":\"\",\"type\":\"vega\",\"params\":{\"spec\":\"{\\n  $schema: https://vega.github.io/schema/vega-lite/v5.json\\n  data: {\\n    url: {\\n      %context%: true\\n      %timefield%: hivDiagCondition.hivPosDate\\n      index: fhir-report-patient\\n      body: {\\n        size: 0\\n        aggs: {\\n          age: {\\n            range: {\\n              script: {\\n                source: if (doc['patient.birthDate'].size()==0) { return null } ZonedDateTime dob = doc['patient.birthDate'].value;Instant i = Instant.ofEpochMilli(params.reportPeriodEnd); ZonedDateTime end = ZonedDateTime.ofInstant(i, ZoneOffset.UTC);return dob.until(end, ChronoUnit.YEARS);\\n                params: {\\n                  reportPeriodEnd: {\\n                    %timefilter%: max\\n                  }\\n                }\\n              }\\n              ranges: [\\n                {\\n                  key: 0-4\\n                  to: 5\\n                }\\n                {\\n                  key: 5-9\\n                  from: 5\\n                  to: 10\\n                }\\n                {\\n                  key: 10-14\\n                  from: 10\\n                  to: 15\\n                }\\n                {\\n                  key: 15-19\\n                  from: 15\\n                  to: 20\\n                }\\n                {\\n                  key: 20-24\\n                  from: 20\\n                  to: 25\\n                }\\n                {\\n                  key: 25-29\\n                  from: 25\\n                  to: 30\\n                }\\n                {\\n                  key: 30-24\\n                  from: 30\\n                  to: 35\\n                }\\n                {\\n                  key: 35-39\\n                  from: 35\\n                  to: 40\\n                }\\n                {\\n                  key: 40-44\\n                  from: 40\\n                  to: 45\\n                }\\n                {\\n                  key: 45-49\\n                  from: 45\\n                  to: 50\\n                }\\n                {\\n                  key: 50-54\\n                  from: 50\\n                  to: 55\\n                }\\n                {\\n                  key: 55-59\\n                  from: 55\\n                  to: 60\\n                }\\n                {\\n                  key: 60-64\\n                  from: 60\\n                  to: 65\\n                }\\n                {\\n                  key: 65+\\n                  from: 65\\n                }\\n              ]\\n            }\\n            aggs: {\\n              gender: {\\n                terms: {\\n                  field: patient.gender\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n    format: {\\n      property: aggregations.age.buckets\\n    }\\n  }\\n  mark: bar\\n  transform: [\\n    {\\n      flatten: [\\n        gender.buckets\\n      ]\\n      as: [\\n        gender_flat\\n      ]\\n    }\\n  ]\\n  encoding: {\\n    x: {\\n      field: gender_flat.doc_count\\n      type: quantitative\\n      stack: normalize\\n      title: Gender proportion\\n    }\\n    y: {\\n      field: key\\n      title: Age group\\n      sort: {}\\n    }\\n    color: {\\n      field: gender_flat.key\\n      title: Gender\\n    }\\n  }\\n}\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}}},\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"New HIV diagnosis by age and sex\"},{\"version\":\"7.13.0\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":37,\"w\":20,\"h\":21,\"i\":\"a1975eef-ee33-4add-844d-479d91f07073\"},\"panelIndex\":\"a1975eef-ee33-4add-844d-479d91f07073\",\"embeddableConfig\":{\"savedVis\":{\"title\":\"\",\"description\":\"\",\"type\":\"vega\",\"params\":{\"spec\":\"{\\n  $schema: https://vega.github.io/schema/vega-lite/v5.json\\n  data: {\\n    url: {\\n      %context%: true\\n      %timefield%: hivDiagCondition.hivPosDate\\n      index: fhir-report-patient\\n      body: {\\n        size: 0\\n        aggs: {\\n          age: {\\n            range: {\\n              script: {\\n                source: if (doc['patient.birthDate'].size()==0) { return null } ZonedDateTime dob = doc['patient.birthDate'].value;Instant i = Instant.ofEpochMilli(params.reportPeriodEnd); ZonedDateTime end = ZonedDateTime.ofInstant(i, ZoneOffset.UTC);return dob.until(end, ChronoUnit.YEARS);\\n                params: {\\n                  reportPeriodEnd: {\\n                    %timefilter%: max\\n                  }\\n                }\\n              }\\n              ranges: [\\n                {\\n                  key: 0-4\\n                  to: 5\\n                }\\n                {\\n                  key: 05-9\\n                  from: 5\\n                  to: 10\\n                }\\n                {\\n                  key: 10-14\\n                  from: 10\\n                  to: 15\\n                }\\n                {\\n                  key: 15-19\\n                  from: 15\\n                  to: 20\\n                }\\n                {\\n                  key: 20-24\\n                  from: 20\\n                  to: 25\\n                }\\n                {\\n                  key: 25-29\\n                  from: 25\\n                  to: 30\\n                }\\n                {\\n                  key: 30-24\\n                  from: 30\\n                  to: 35\\n                }\\n                {\\n                  key: 35-39\\n                  from: 35\\n                  to: 40\\n                }\\n                {\\n                  key: 40-44\\n                  from: 40\\n                  to: 45\\n                }\\n                {\\n                  key: 45-49\\n                  from: 45\\n                  to: 50\\n                }\\n                {\\n                  key: 50-54\\n                  from: 50\\n                  to: 55\\n                }\\n                {\\n                  key: 55-59\\n                  from: 55\\n                  to: 60\\n                }\\n                {\\n                  key: 60-64\\n                  from: 60\\n                  to: 65\\n                }\\n                {\\n                  key: 65+\\n                  from: 65\\n                }\\n              ]\\n            }\\n            aggs: {\\n              gender: {\\n                terms: {\\n                  field: patient.gender\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n    format: {\\n      property: aggregations.age.buckets\\n    }\\n  }\\n  transform: [\\n    {\\n      flatten: [\\n        gender.buckets\\n      ]\\n      as: [\\n        gender_flat\\n      ]\\n    }\\n  ]\\n  facet: {\\n    field: key\\n    title: Age group\\n  }\\n  spec: {\\n    mark: bar\\n    width: 35\\n    height: 400\\n    encoding: {\\n      y: {\\n        field: gender_flat.doc_count\\n        type: quantitative\\n        title: Count\\n      }\\n      x: {\\n        field: gender_flat.key\\n        axis: {\\n          title: \\\"\\\"\\n        }\\n      }\\n      color: {\\n        field: gender_flat.key\\n        title: Gender\\n      }\\n    }\\n  }\\n  config: {\\n    view: {\\n      stroke: transparent\\n    }\\n    axis: {\\n      domainWidth: 1\\n    }\\n    kibana: {\\n      hideWarnings: true\\n    }\\n  }\\n}\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}}},\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"New HIV diagnosis by age and sex\"},{\"version\":\"7.13.0\",\"type\":\"visualization\",\"gridData\":{\"x\":20,\"y\":37,\"w\":21,\"h\":21,\"i\":\"d0852d43-47aa-4fe0-8a8e-8a83c2bb3bbb\"},\"panelIndex\":\"d0852d43-47aa-4fe0-8a8e-8a83c2bb3bbb\",\"embeddableConfig\":{\"savedVis\":{\"title\":\"\",\"description\":\"\",\"type\":\"vega\",\"params\":{\"spec\":\"{\\n  $schema: https://vega.github.io/schema/vega-lite/v5.json\\n  data: {\\n    url: {\\n      %context%: true\\n      %timefield%: hivDiagCondition.hivPosDate\\n      index: fhir-report-patient\\n      body: {\\n        size: 0\\n        aggs: {\\n          age: {\\n            range: {\\n              script: {\\n                source: if (doc['patient.birthDate'].size()==0) { return null } ZonedDateTime dob = doc['patient.birthDate'].value;Instant i = Instant.ofEpochMilli(params.reportPeriodEnd); ZonedDateTime end = ZonedDateTime.ofInstant(i, ZoneOffset.UTC);return dob.until(end, ChronoUnit.YEARS);\\n                params: {\\n                  reportPeriodEnd: {\\n                    %timefilter%: max\\n                  }\\n                }\\n              }\\n              ranges: [\\n                {\\n                  key: 0-4\\n                  to: 5\\n                }\\n                {\\n                  key: 5-9\\n                  from: 5\\n                  to: 10\\n                }\\n                {\\n                  key: 10-14\\n                  from: 10\\n                  to: 15\\n                }\\n                {\\n                  key: 15-19\\n                  from: 15\\n                  to: 20\\n                }\\n                {\\n                  key: 20-24\\n                  from: 20\\n                  to: 25\\n                }\\n                {\\n                  key: 25-29\\n                  from: 25\\n                  to: 30\\n                }\\n                {\\n                  key: 30-24\\n                  from: 30\\n                  to: 35\\n                }\\n                {\\n                  key: 35-39\\n                  from: 35\\n                  to: 40\\n                }\\n                {\\n                  key: 40-44\\n                  from: 40\\n                  to: 45\\n                }\\n                {\\n                  key: 45-49\\n                  from: 45\\n                  to: 50\\n                }\\n                {\\n                  key: 50-54\\n                  from: 50\\n                  to: 55\\n                }\\n                {\\n                  key: 55-59\\n                  from: 55\\n                  to: 60\\n                }\\n                {\\n                  key: 60-64\\n                  from: 60\\n                  to: 65\\n                }\\n                {\\n                  key: 65+\\n                  from: 65\\n                }\\n              ]\\n            }\\n            aggs: {\\n              gender: {\\n                terms: {\\n                  field: patient.gender\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n    format: {\\n      property: aggregations.age.buckets\\n    }\\n  }\\n  transform: [\\n    {\\n      flatten: [\\n        gender.buckets\\n      ]\\n      as: [\\n        gender_flat\\n      ]\\n    }\\n  ]\\n  facet: {\\n    column: {\\n      field: gender_flat.key\\n      title: Gender\\n    }\\n  }\\n  spec: {\\n    mark: bar\\n    width: 400\\n    height: 400\\n    encoding: {\\n      y: {\\n        field: gender_flat.doc_count\\n        type: quantitative\\n        title: Count\\n      }\\n      x: {\\n        field: key\\n        axis: {\\n          title: \\\"\\\"\\n        }\\n        sort: {}\\n      }\\n      color: {\\n        field: key\\n        title: Gender\\n      }\\n    }\\n  }\\n  config: {\\n    view: {\\n      stroke: transparent\\n    }\\n    axis: {\\n      domainWidth: 1\\n    }\\n    kibana: {\\n      hideWarnings: true\\n    }\\n  }\\n}\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}}},\"hidePanelTitles\":false,\"enhancements\":{}},\"title\":\"New HIV diagnosis by age and sex\"}]","timeRestore":false,"title":"Report 1A","version":1},"coreMigrationVersion":"7.13.0","id":"84f2f7e0-e960-11eb-8989-876f0ccad86a","migrationVersion":{"dashboard":"7.11.0"},"references":[{"id":"58537ec0-f140-11eb-bdb5-4d4ebeaf0cd2","name":"c468c898-0579-4c0d-97a5-cac5d6d6670c:control_c468c898-0579-4c0d-97a5-cac5d6d6670c_0_index_pattern","type":"index-pattern"},{"id":"58537ec0-f140-11eb-bdb5-4d4ebeaf0cd2","name":"c468c898-0579-4c0d-97a5-cac5d6d6670c:control_c468c898-0579-4c0d-97a5-cac5d6d6670c_1_index_pattern","type":"index-pattern"},{"id":"58537ec0-f140-11eb-bdb5-4d4ebeaf0cd2","name":"c468c898-0579-4c0d-97a5-cac5d6d6670c:control_c468c898-0579-4c0d-97a5-cac5d6d6670c_2_index_pattern","type":"index-pattern"},{"id":"58537ec0-f140-11eb-bdb5-4d4ebeaf0cd2","name":"c468c898-0579-4c0d-97a5-cac5d6d6670c:control_c468c898-0579-4c0d-97a5-cac5d6d6670c_3_index_pattern","type":"index-pattern"}],"sort":[1627654673871,215],"type":"dashboard","updated_at":"2021-07-30T14:17:53.871Z","version":"WzIxNiwxXQ=="}
{"attributes":{"fieldAttrs":"{\"resource.resourceType\":{\"count\":1}}","fields":"[]","runtimeFieldMap":"{}","timeFieldName":"resource.meta.lastUpdated","title":"fhir-raw*"},"coreMigrationVersion":"7.13.0","id":"9a3d6200-e958-11eb-8147-3ba818db5375","migrationVersion":{"index-pattern":"7.11.0"},"references":[],"sort":[1627653816383,10],"type":"index-pattern","updated_at":"2021-07-30T14:03:36.383Z","version":"WzEzLDFd"}
{"exportedCount":4,"missingRefCount":0,"missingReferences":[]}