{"message":"some commit","creationDate":{"$$date":1630269759870},"changes":[{"operation":"insert","path":"/css","entitySet":"folders","entityId":"2cHuT0qq6wtS9KJb","serializedDoc":"{\n    \"name\": \"css\",\n    \"creationDate\": {\n        \"$$date\": 1620998660141\n    },\n    \"modificationDate\": {\n        \"$$date\": 1629880815873\n    },\n    \"shortid\": \"NzCW6lK\",\n    \"_id\": \"2cHuT0qq6wtS9KJb\",\n    \"visibilityPermissions\": [],\n    \"__entityPath\": \"/css\"\n}"},{"operation":"insert","path":"/js","entitySet":"folders","entityId":"taQo9iNUPErFps86","serializedDoc":"{\n    \"name\": \"js\",\n    \"creationDate\": {\n        \"$$date\": 1621254502121\n    },\n    \"modificationDate\": {\n        \"$$date\": 1629880815906\n    },\n    \"shortid\": \"NHeujbZ\",\n    \"_id\": \"taQo9iNUPErFps86\",\n    \"visibilityPermissions\": [],\n    \"__entityPath\": \"/js\"\n}"},{"operation":"insert","path":"/scripts","entitySet":"folders","entityId":"Q8KOitSCzTnO4cWk","serializedDoc":"{\n    \"name\": \"scripts\",\n    \"creationDate\": {\n        \"$$date\": 1620998660127\n    },\n    \"modificationDate\": {\n        \"$$date\": 1629880815931\n    },\n    \"shortid\": \"3Mqr0aV\",\n    \"_id\": \"Q8KOitSCzTnO4cWk\",\n    \"visibilityPermissions\": [],\n    \"__entityPath\": \"/scripts\"\n}"},{"operation":"insert","path":"/report-1a","entitySet":"templates","entityId":"IBJqaIZhMyakGfPN","serializedDoc":"{\n    \"shortid\": \"M2OHznw-n6\",\n    \"name\": \"report-1a\",\n    \"recipe\": \"chrome-pdf\",\n    \"engine\": \"handlebars\",\n    \"chrome\": {\n        \"printBackground\": true,\n        \"format\": \"A4\",\n        \"landscape\": true,\n        \"displayHeaderFooter\": false,\n        \"waitForJS\": true\n    },\n    \"creationDate\": {\n        \"$$date\": 1620998660214\n    },\n    \"modificationDate\": {\n        \"$$date\": 1621325224159\n    },\n    \"_id\": \"IBJqaIZhMyakGfPN\",\n    \"data\": null,\n    \"scripts\": [\n        {\n            \"shortid\": \"yhXbvB1S-X\"\n        }\n    ],\n    \"content\": \"<!DOCTYPE html>\\n\\n<style>{#asset /css/styles.css @encoding=utf8}</style>\\n\\n{{#unless totals.total}}\\n<h3 class=\\\"error\\\">0 results returned for given report parameters</h3>\\n{{else}}\\n<div class=\\\"table-wrapper\\\">\\n  <table class=\\\"styled-table\\\">\\n    <thead>\\n      <tr class=\\\"table-header\\\">\\n        <th colspan=\\\"4\\\">New HIV diagnosis by age and sex</th>\\n      </tr>\\n      <tr>\\n        <th class=\\\"table-disagg\\\">Age group</th>\\n        <th colspan=\\\"2\\\" class=\\\"table-disagg\\\">Sex</th>\\n        <th class=\\\"table-disagg\\\">Total</th>\\n      </tr>\\n      <tr>\\n        <th></th>\\n        <th>Male</th>\\n        <th>Female</th>\\n        <th>N</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      {{#each rows}}\\n      <tr>\\n        <td>{{ageGroup}}</td>\\n        <td>{{males}} ({{formatNumber malesPercent}}%)</td>\\n        <td>{{females}} ({{formatNumber femalesPercent}}%)</td>\\n        <td>{{total}} ({{formatNumber totalPercent}}%)</td>\\n      </tr>\\n      {{/each}}\\n    </tbody>\\n    <tfoot>\\n      {{#with totals}}\\n      <tr>\\n        <td>Total</td>\\n        <td>{{males}} ({{formatNumber malesPercent}}%)</td>\\n        <td>{{females}} ({{formatNumber femalesPercent}}%)</td>\\n        <td>{{total}} (100.0%)</td>\\n      </tr>\\n      {{/with}}\\n    </tfoot>\\n  </table>\\n</div>\\n\\n<span id=\\\"data-serialized\\\" style=\\\"display: none;\\\">{{serialize .}}</span>\\n\\n<div style='page-break-before: always;'></div>\\n\\n<div id=\\\"chartdiv1\\\" class=\\\"chart box\\\"></div>\\n\\n<div style='page-break-before: always;'></div>\\n\\n<div id=\\\"chartdiv2\\\" class=\\\"chart box\\\"></div>\\n\\n<div style='page-break-before: always;'></div>\\n\\n<div id=\\\"chartdiv3\\\" class=\\\"chart box\\\"></div>\\n{{/unless}}\\n\\n<script>\\n  function renderCharts() {\\n    am4core.ready(function () {\\n      const data = JSON.parse(document.getElementById('data-serialized').innerHTML)\\n\\n      // chart 1\\n      var chart = am4core.create(\\\"chartdiv1\\\", am4charts.XYChart);\\n      chart.data = data.rows\\n      chart.legend = new am4charts.Legend();\\n      chart.events.on('ready', () => {\\n        chartLoaded('chart1')\\n      })\\n\\n      var title = chart.titles.create();\\n      title.text = \\\"New HIV diagnosis by age and sex\\\";\\n      title.fontSize = 25;\\n      title.marginBottom = 30;\\n\\n      var categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());\\n      categoryAxis.dataFields.category = \\\"ageGroup\\\";\\n      categoryAxis.renderer.minGridDistance = 20;\\n      var valueAxis = chart.xAxes.push(new am4charts.ValueAxis());\\n      valueAxis.title.text = \\\"HIV +ve %\\\";\\n      valueAxis.min = 0\\n      valueAxis.max = 100\\n\\n      var series1 = chart.series.push(new am4charts.ColumnSeries());\\n      series1.dataFields.valueX = \\\"malesPercent\\\";\\n      series1.dataFields.categoryY = \\\"ageGroup\\\";\\n      series1.stacked = true\\n      series1.name = \\\"Male\\\"\\n\\n      var series2 = chart.series.push(new am4charts.ColumnSeries());\\n      series2.dataFields.valueX = \\\"femalesPercent\\\";\\n      series2.dataFields.categoryY = \\\"ageGroup\\\";\\n      series2.stacked = true\\n      series2.name = \\\"Female\\\"\\n\\n      // chart 2\\n      var chart = am4core.create(\\\"chartdiv2\\\", am4charts.XYChart);\\n      chart.data = data.rows\\n      chart.legend = new am4charts.Legend();\\n      chart.events.on('ready', () => {\\n        chartLoaded('chart2')\\n      })\\n\\n      var title = chart.titles.create();\\n      title.text = \\\"New HIV diagnosis by age and sex\\\";\\n      title.fontSize = 25;\\n      title.marginBottom = 30;\\n\\n      var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\\n      var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());\\n      categoryAxis.dataFields.category = \\\"ageGroup\\\";\\n      categoryAxis.renderer.grid.template.location = 0;\\n      categoryAxis.renderer.cellStartLocation = 0.1;\\n      categoryAxis.renderer.cellEndLocation = 0.9;\\n      categoryAxis.renderer.labels.template.rotation = -90;\\n      categoryAxis.renderer.labels.template.dx = -15;\\n      categoryAxis.renderer.minGridDistance = 20;\\n\\n      var series1 = chart.series.push(new am4charts.ColumnSeries());\\n      series1.dataFields.categoryX = \\\"ageGroup\\\";\\n      series1.dataFields.valueY = \\\"males\\\";\\n      series1.name = \\\"Male\\\"\\n\\n      var series2 = chart.series.push(new am4charts.ColumnSeries());\\n      series2.dataFields.categoryX = \\\"ageGroup\\\";\\n      series2.dataFields.valueY = \\\"females\\\";\\n      series2.name = \\\"Female\\\"\\n\\n      // chart 3\\n      var chart = am4core.create(\\\"chartdiv3\\\", am4charts.XYChart);\\n      chart.data = data.rows\\n      chart.legend = new am4charts.Legend();\\n      chart.events.on('ready', () => {\\n        chartLoaded('chart3')\\n      })\\n\\n      var title = chart.titles.create();\\n      title.text = \\\"New HIV diagnosis by age and sex\\\";\\n      title.fontSize = 25;\\n      title.marginBottom = 30;\\n\\n      chart.bottomAxesContainer.layout = \\\"horizontal\\\";\\n\\n      var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\\n      var categoryAxis1 = chart.xAxes.push(new am4charts.CategoryAxis());\\n      categoryAxis1.dataFields.category = \\\"ageGroup\\\";\\n      categoryAxis1.renderer.labels.template.rotation = -90;\\n      categoryAxis1.renderer.labels.template.dx = -15;\\n      categoryAxis1.renderer.minGridDistance = 20;\\n\\n      var series1 = chart.series.push(new am4charts.ColumnSeries());\\n      series1.dataFields.categoryX = \\\"ageGroup\\\";\\n      series1.dataFields.valueY = \\\"males\\\";\\n      series1.xAxis = categoryAxis1\\n      series1.name = \\\"Male\\\"\\n\\n      var categoryAxis2 = chart.xAxes.push(new am4charts.CategoryAxis());\\n      categoryAxis2.dataFields.category = \\\"ageGroup\\\";\\n      categoryAxis2.renderer.labels.template.rotation = -90;\\n      categoryAxis2.renderer.labels.template.dx = -15;\\n      categoryAxis2.renderer.minGridDistance = 20;\\n\\n      var series2 = chart.series.push(new am4charts.ColumnSeries());\\n      series2.dataFields.categoryX = \\\"ageGroup\\\";\\n      series2.dataFields.valueY = \\\"females\\\";\\n      series2.xAxis = categoryAxis2\\n      series2.name = \\\"Female\\\"\\n    })\\n  }\\n\\n  const scriptsToLoad = [\\n    'https://cdn.amcharts.com/lib/4/core.js',\\n    'https://cdn.amcharts.com/lib/4/charts.js',\\n  ]\\n\\n  function createScriptElement() {\\n    // gets the first script in the list\\n    const script = scriptsToLoad.shift()\\n    // all scripts were loaded\\n    if (!script) {\\n      console.log('All scripts loaded, rendering charts')\\n      renderCharts()\\n      return\\n    }\\n\\n    console.log(`loading script ${script}`)\\n    const js = document.createElement('script')\\n    js.type = 'text/javascript'\\n    js.src = script\\n    js.onload = loadNextScript\\n    const s = document.getElementsByTagName('script')[0]\\n    s.parentNode.insertBefore(js, s)\\n  }\\n\\n  function loadNextScript() {\\n    // loads the next script\\n    createScriptElement()\\n  }\\n  loadNextScript()\\n\\n  // wait for the charts to load and animations to complete\\n  const waitingForCharts = ['chart1', 'chart2', 'chart3']\\n  function chartLoaded(name) {\\n    if (waitingForCharts.indexOf(name) > -1) {\\n      waitingForCharts.splice(waitingForCharts.indexOf(name), 1)\\n    }\\n\\n    if (waitingForCharts.length === 0) {\\n      window.JSREPORT_READY_TO_START = true; // this will start the pdf printing\\n    }\\n  }\\n</script>\\n\",\n    \"helpers\": \"function serialize (data) {\\n  return JSON.stringify(data)\\n}\\n\\nfunction formatNumber (num) {\\n  return (num || 0).toFixed(1)\\n}\\n\",\n    \"__entityPath\": \"/report-1a\"\n}"},{"operation":"insert","path":"/report-3a","entitySet":"templates","entityId":"GRSFCkxxgB2rRf1J","serializedDoc":"{\n    \"shortid\": \"YW_MfrDTRu\",\n    \"name\": \"report-3a\",\n    \"recipe\": \"chrome-pdf\",\n    \"engine\": \"handlebars\",\n    \"chrome\": {\n        \"printBackground\": true,\n        \"waitForJS\": true\n    },\n    \"creationDate\": {\n        \"$$date\": 1629357751855\n    },\n    \"modificationDate\": {\n        \"$$date\": 1629361339577\n    },\n    \"_id\": \"GRSFCkxxgB2rRf1J\",\n    \"scripts\": [\n        {\n            \"shortid\": \"9IG7QwBZmk\"\n        }\n    ],\n    \"content\": \"<!DOCTYPE html>\\n\\n<style>{#asset /css/styles.css @encoding=utf8}</style>\\n\\n{{#unless totals.total}}\\n<h3 class=\\\"error\\\">0 results returned for given report parameters</h3>\\n{{else}}\\n<div class=\\\"table-wrapper\\\">\\n  <table class=\\\"styled-table\\\">\\n    <thead>\\n      <tr class=\\\"table-header\\\">\\n        <th colspan=\\\"4\\\">Deaths by age and sex</th>\\n      </tr>\\n      <tr>\\n        <th class=\\\"table-disagg\\\">Age group</th>\\n        <th colspan=\\\"2\\\" class=\\\"table-disagg\\\">Sex</th>\\n        <th class=\\\"table-disagg\\\">Total</th>\\n      </tr>\\n      <tr>\\n        <th></th>\\n        <th>Male</th>\\n        <th>Female</th>\\n        <th>N</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      {{#each rows}}\\n      <tr>\\n        <td>{{ageGroup}}</td>\\n        <td>{{males}} ({{formatNumber malesPercent}}%)</td>\\n        <td>{{females}} ({{formatNumber femalesPercent}}%)</td>\\n        <td>{{total}} ({{formatNumber totalPercent}}%)</td>\\n      </tr>\\n      {{/each}}\\n    </tbody>\\n    <tfoot>\\n      {{#with totals}}\\n      <tr>\\n        <td>Total</td>\\n        <td>{{males}} ({{formatNumber malesPercent}}%)</td>\\n        <td>{{females}} ({{formatNumber femalesPercent}}%)</td>\\n        <td>{{total}} (100.0%)</td>\\n      </tr>\\n      {{/with}}\\n    </tfoot>\\n  </table>\\n</div>\\n\\n<span id=\\\"data-serialized\\\" style=\\\"display: none;\\\">{{serialize .}}</span>\\n\\n<div style='page-break-before: always;'></div>\\n\\n<div id=\\\"chartdiv1\\\" class=\\\"chart box\\\"></div>\\n{{/unless}}\\n\\n<script>\\n  function renderCharts() {\\n    am4core.ready(function () {\\n      const data = JSON.parse(document.getElementById('data-serialized').innerHTML)\\n\\n      // chart 1\\n      var chart = am4core.create(\\\"chartdiv1\\\", am4charts.XYChart);\\n      chart.data = data.rows\\n      chart.legend = new am4charts.Legend();\\n      chart.events.on('ready', () => {\\n        chartLoaded('chart1')\\n      })\\n\\n      var title = chart.titles.create();\\n      title.text = \\\"Deaths by age and sex\\\";\\n      title.fontSize = 25;\\n      title.marginBottom = 30;\\n\\n      var categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());\\n      categoryAxis.dataFields.category = \\\"ageGroup\\\";\\n      categoryAxis.renderer.minGridDistance = 20;\\n      var valueAxis = chart.xAxes.push(new am4charts.ValueAxis());\\n      valueAxis.title.text = \\\"Deaths %\\\";\\n      valueAxis.min = 0\\n      valueAxis.max = 100\\n\\n      var series1 = chart.series.push(new am4charts.ColumnSeries());\\n      series1.dataFields.valueX = \\\"malesPercent\\\";\\n      series1.dataFields.categoryY = \\\"ageGroup\\\";\\n      series1.stacked = true\\n      series1.name = \\\"Male\\\"\\n\\n      var series2 = chart.series.push(new am4charts.ColumnSeries());\\n      series2.dataFields.valueX = \\\"femalesPercent\\\";\\n      series2.dataFields.categoryY = \\\"ageGroup\\\";\\n      series2.stacked = true\\n      series2.name = \\\"Female\\\"\\n    })\\n  }\\n\\n  const scriptsToLoad = [\\n    'https://cdn.amcharts.com/lib/4/core.js',\\n    'https://cdn.amcharts.com/lib/4/charts.js',\\n  ]\\n\\n  function createScriptElement() {\\n    // gets the first script in the list\\n    const script = scriptsToLoad.shift()\\n    // all scripts were loaded\\n    if (!script) {\\n      console.log('All scripts loaded, rendering charts')\\n      renderCharts()\\n      return\\n    }\\n\\n    console.log(`loading script ${script}`)\\n    const js = document.createElement('script')\\n    js.type = 'text/javascript'\\n    js.src = script\\n    js.onload = loadNextScript\\n    const s = document.getElementsByTagName('script')[0]\\n    s.parentNode.insertBefore(js, s)\\n  }\\n\\n  function loadNextScript() {\\n    // loads the next script\\n    createScriptElement()\\n  }\\n  loadNextScript()\\n\\n  // wait for the charts to load and animations to complete\\n  const waitingForCharts = ['chart1']\\n  function chartLoaded(name) {\\n    if (waitingForCharts.indexOf(name) > -1) {\\n      waitingForCharts.splice(waitingForCharts.indexOf(name), 1)\\n    }\\n\\n    if (waitingForCharts.length === 0) {\\n      window.JSREPORT_READY_TO_START = true; // this will start the pdf printing\\n    }\\n  }\\n</script>\\n\",\n    \"helpers\": \"function serialize (data) {\\n  return JSON.stringify(data)\\n}\\n\\nfunction formatNumber (num) {\\n  return (num || 0).toFixed(1)\\n}\\n\",\n    \"__entityPath\": \"/report-3a\"\n}"},{"operation":"insert","path":"/report-params","entitySet":"templates","entityId":"hJihV9aVe2Zs7CZi","serializedDoc":"{\n    \"name\": \"report-params\",\n    \"recipe\": \"html-with-browser-client\",\n    \"shortid\": \"6QHBqntgyC\",\n    \"engine\": \"handlebars\",\n    \"chrome\": {\n        \"printBackground\": true\n    },\n    \"creationDate\": {\n        \"$$date\": 1621243924877\n    },\n    \"modificationDate\": {\n        \"$$date\": 1625830238004\n    },\n    \"_id\": \"hJihV9aVe2Zs7CZi\",\n    \"scripts\": [\n        {\n            \"shortid\": \"CMuLz7MgjP\"\n        }\n    ],\n    \"content\": \"<script src=\\\"https://code.jquery.com/jquery-2.2.4.min.js\\\"></script>\\n<script type=\\\"text/javascript\\\" src=\\\"{#asset jquery.calendars.min.js @encoding=link}\\\"></script>\\n<script type=\\\"text/javascript\\\" src=\\\"{#asset jquery.calendars.plus.min.js @encoding=link}\\\"></script>\\n<script type=\\\"text/javascript\\\" src=\\\"{#asset jquery.plugin.min.js @encoding=link}\\\"></script>\\n<script type=\\\"text/javascript\\\" src=\\\"{#asset jquery.calendars.picker.min.js @encoding=link}\\\"></script>\\n\\n<link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"{#asset jquery.calendars.picker.css @encoding=link}\\\">\\n<style>{#asset /css/styles.css @encoding=utf8}</style>\\n\\n<div class=\\\"header\\\">\\n  <span class=\\\"headerContent\\\">DISI Reports</span>\\n</div>\\n\\n<div class=\\\"wrapper\\\">\\n\\n  <div class=\\\"box\\\">\\n    <span class=\\\"error\\\"></span>\\n\\n    <div class=\\\"container\\\">\\n      <span>Choose a report:</span>\\n      <select id=\\\"report\\\">\\n        <option value=\\\"report-1a\\\">Report 1A - Newly Diagnosed HIV</option>\\n        <option value=\\\"report-3a\\\">Report 3A - Newly Reported Deaths</option>\\n      </select>\\n    </div>\\n\\n    <div class=\\\"container\\\">\\n      <span id=\\\"tab-1\\\" class=\\\"styled-tab\\\" onclick=\\\"setTab('tab-1')\\\">Monthly</span>\\n      <span id=\\\"tab-2\\\" class=\\\"styled-tab\\\" onclick=\\\"setTab('tab-2')\\\">Quarterly</span>\\n      <span id=\\\"tab-3\\\" class=\\\"styled-tab\\\" onclick=\\\"setTab('tab-3')\\\">Custom dates</span>\\n    </div>\\n\\n    <div id=\\\"tab-1-contents\\\" class=\\\"container tab\\\">\\n      <span>Year:</span>\\n      <select id=\\\"year\\\">\\n        {{!-- dynamically populated --}}\\n      </select>\\n      <span>Month:</span>\\n      <select id=\\\"month\\\">\\n        <option value=\\\"1\\\">January</option>\\n        <option value=\\\"2\\\">February</option>\\n        <option value=\\\"3\\\">March</option>\\n        <option value=\\\"4\\\">April</option>\\n        <option value=\\\"5\\\">May</option>\\n        <option value=\\\"6\\\">June</option>\\n        <option value=\\\"7\\\">July</option>\\n        <option value=\\\"8\\\">August</option>\\n        <option value=\\\"9\\\">September</option>\\n        <option value=\\\"10\\\">October</option>\\n        <option value=\\\"11\\\">November</option>\\n        <option value=\\\"12\\\">December</option>\\n      </select>\\n    </div>\\n\\n    <div id=\\\"tab-2-contents\\\" class=\\\"container tab\\\">\\n      <span>Reporting Quarter:</span>\\n      <select id=\\\"quarter\\\">\\n        <option value=\\\"1\\\">Jan-Mar</option>\\n        <option value=\\\"2\\\">Apr-Jun</option>\\n        <option value=\\\"3\\\">Jul-Sep</option>\\n        <option value=\\\"4\\\">Oct-Dec</option>\\n        <option value=\\\"5\\\">Semi-Annual I</option>\\n        <option value=\\\"6\\\">Semi-Annual II</option>\\n        <option value=\\\"7\\\">Annual</option>\\n      </select>\\n    </div>\\n\\n    <div id=\\\"tab-3-contents\\\" class=\\\"container tab\\\">\\n      <span>From:</span>\\n      <input id=\\\"from\\\" autocomplete=\\\"off\\\"></input>\\n      <span>To:</span>\\n      <input id=\\\"to\\\" autocomplete=\\\"off\\\"></input>\\n    </div>\\n\\n    <div class=\\\"container\\\">\\n      <span>State:</span>\\n      <select id=\\\"state\\\">\\n        <option value=\\\"all\\\">All</option>\\n        {{#each distinctStates}}\\n        <option>{{this}}</option>\\n        {{/each}}\\n      </select>\\n\\n      <span>District:</span>\\n      <select id=\\\"district\\\">\\n        <option value=\\\"all\\\">All</option>\\n        {{#each distinctDistricts}}\\n        <option>{{this}}</option>\\n        {{/each}}\\n      </select>\\n\\n      <span>City:</span>\\n      <select id=\\\"city\\\">\\n        <option value=\\\"all\\\">All</option>\\n        {{#each distinctCities}}\\n        <option>{{this}}</option>\\n        {{/each}}\\n      </select>\\n\\n      <span>Health Facility:</span>\\n      <select id=\\\"facility\\\">\\n        <option value=\\\"all\\\">All</option>\\n        {{#each facilities}}\\n        <option value=\\\"{{facilityCode}}\\\">{{facility}}</option>\\n        {{/each}}\\n      </select>\\n    </div>\\n\\n    <button class=\\\"styled-button\\\" onclick=\\\"render('display')\\\">Display</button>\\n    <button class=\\\"styled-button\\\" onclick=\\\"render('pdf')\\\">Download PDF</button>\\n    {{!-- TODO Enable once xls support is added --}}\\n    {{!-- <button class=\\\"styled-button\\\" onclick=\\\"render('xls')\\\">Download XLS</button> --}}\\n  </div>\\n\\n  <div id=\\\"render-target\\\"></div>\\n</div>\\n\\n<script>\\n  function setTab(name) {\\n    $('.tab').hide()\\n    $('.styled-tab').removeClass('active')\\n    $('#' + name + '-contents').show()\\n    $('#' + name).addClass('active')\\n  }\\n  setTab('tab-1')\\n\\n  function convertDate(date, convertTo) {\\n    return $.calendars.instance(convertTo).fromJD(date.toJD());\\n  }\\n\\n  function render(target) {\\n    // hide any previous errors\\n    $('.error').hide()\\n    $('#render-target').html('')\\n    const c = $.calendars.instance()\\n    const currYear = c.today().year()\\n\\n    let paramType = 'monthly'\\n    if ($('.styled-tab.active').attr('id') === 'tab-2') {\\n      paramType = 'quarterly'\\n    }\\n    if ($('.styled-tab.active').attr('id') === 'tab-3') {\\n      paramType = 'custom-dates'\\n    }\\n\\n    const commonParams = {\\n      state: $('#state').children(\\\"option:selected\\\").val(),\\n      district: $('#district').children(\\\"option:selected\\\").val(),\\n      city: $('#city').children(\\\"option:selected\\\").val(),\\n      facilityCode: $('#facility').children(\\\"option:selected\\\").val()\\n    }\\n\\n    let from, to\\n\\n    if (paramType === 'monthly') {\\n      const year = $('#year').children(\\\"option:selected\\\").val()\\n      const month = $('#month').children(\\\"option:selected\\\").val()\\n\\n      from = c.newDate(year, month, 1)\\n      to = c.newDate(year, month, c.daysInMonth(year, month))\\n    }\\n\\n    if (paramType === 'quarterly') {\\n      const quarter = $('#quarter').children(\\\"option:selected\\\").val()\\n\\n      console.log(currYear, quarter, typeof quarter)\\n\\n      switch (quarter) {\\n        case '1':\\n          from = c.newDate(currYear, 1, 1)\\n          to = c.newDate(currYear, 3, c.daysInMonth(currYear, 4))\\n          break\\n        case '2':\\n          from = c.newDate(currYear, 4, 1)\\n          to = c.newDate(currYear, 6, c.daysInMonth(currYear, 7))\\n          break\\n        case '3':\\n          from = c.newDate(currYear, 7, 1)\\n          to = c.newDate(currYear, 9, c.daysInMonth(currYear, 10))\\n          break\\n        case '4':\\n          from = c.newDate(currYear, 10, 1)\\n          to = c.newDate(currYear, 12, c.daysInMonth(currYear, 12))\\n          break\\n        case '5': // semi-annual 1\\n          from = c.newDate(currYear, 1, 1)\\n          to = c.newDate(currYear, 6, c.daysInMonth(currYear, 7))\\n          break\\n        case '6': // semi-annual 2\\n          from = c.newDate(currYear, 7, 1)\\n          to = c.newDate(currYear, 12, c.daysInMonth(currYear, 12))\\n          break\\n        case '7': // annual\\n          from = c.newDate(currYear, 1, 1)\\n          to = c.newDate(currYear, 12, c.daysInMonth(currYear, 12))\\n          break\\n        default:\\n          throw new Error('illegal quarter option supplied')\\n      }\\n    }\\n\\n    if (paramType === 'custom-dates') {\\n      from = $('#from').calendarsPicker('getDate')[0]\\n      to = $('#to').calendarsPicker('getDate')[0]\\n\\n      if (!from || !to) {\\n        return $('.error').text('Both to and from dates are required').show()\\n      }\\n    }\\n\\n    commonParams.from = from.formatDate('yyyy-mm-dd')\\n    commonParams.to = to.formatDate('yyyy-mm-dd')\\n\\n    const report = $('#report').children(\\\"option:selected\\\").val()\\n\\n    const params = Object.assign({}, commonParams)\\n\\n    if (target === 'display') {\\n      jsreport.renderAsync({\\n        template: {\\n          name: report,\\n          recipe: 'html',\\n        },\\n        data: {\\n          params\\n        }\\n      }).then((r) => $('#render-target').html(r.toString()))\\n        .catch((err) => console.error(err))\\n    }\\n\\n    if (target === 'pdf') {\\n      jsreport.download(`${report}-${commonParams.from}-${commonParams.to}.pdf`, {\\n        template: {\\n          name: report\\n        },\\n        data: {\\n          params\\n        }\\n      })\\n    }\\n\\n    if (target === 'xls') {\\n      // TODO\\n    }\\n  }\\n\\n  $(document).ready(function () {\\n    $('#from').calendarsPicker({ calendar: $.calendars.instance() })\\n    $('#to').calendarsPicker({ calendar: $.calendars.instance() })\\n\\n    const c = $.calendars.instance()\\n    const year = c.today().year()\\n    const month = c.today().month()\\n\\n    // Set current year and allow selection of previous 20 years\\n    const select = $('#year')\\n    for (let i = year; i > year - 20; i--) {\\n      select.append(`<option>${i}</option>`)\\n    }\\n\\n    // set current month\\n    $('#month').val(month)\\n  })\\n\\n</script>\",\n    \"helpers\": \"\",\n    \"__entityPath\": \"/report-params\"\n}"},{"operation":"insert","path":"/report-5a","entitySet":"templates","entityId":"BUgofsmWqPjxJzYE","serializedDoc":"{\n    \"shortid\": \"YIcX9DPHmR\",\n    \"name\": \"report-5a\",\n    \"recipe\": \"chrome-pdf\",\n    \"engine\": \"handlebars\",\n    \"chrome\": {\n        \"printBackground\": true\n    },\n    \"creationDate\": {\n        \"$$date\": 1629972544316\n    },\n    \"modificationDate\": {\n        \"$$date\": 1630267230322\n    },\n    \"_id\": \"BUgofsmWqPjxJzYE\",\n    \"scripts\": [\n        {\n            \"shortid\": \"E2HOJBdp6\"\n        }\n    ],\n    \"content\": \"<!DOCTYPE html>\\n\\n<style>{#asset /css/styles.css @encoding=utf8}</style>\\n\\n{{#unless totals.total}}\\n<h3 class=\\\"error\\\">0 results returned for given report parameters</h3>\\n{{else}}\\n<div class=\\\"table-wrapper\\\">\\n  <table class=\\\"styled-table\\\">\\n    <thead>\\n      <tr class=\\\"table-header\\\">\\n        <th colspan=\\\"4\\\">Baseline CD4 count of patients newly started on ART by sex</th>\\n      </tr>\\n      <tr>\\n        <th class=\\\"table-disagg\\\">CD4 categories</th>\\n        <th colspan=\\\"2\\\" class=\\\"table-disagg\\\">Sex</th>\\n        <th class=\\\"table-disagg\\\">Total</th>\\n      </tr>\\n      <tr>\\n        <th></th>\\n        <th>Male</th>\\n        <th>Female</th>\\n        <th>Other</th>\\n        <th>Unknown</th>\\n        <th>N</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      {{#each rows}}\\n      <tr>\\n        <td>{{cd4Categories}}</td>\\n        <td>{{males}} ({{formatNumber malesPercent}}%)</td>\\n        <td>{{females}} ({{formatNumber femalesPercent}}%)</td>\\n        <td>{{other}} ({{formatNumber otherPercent}}%)</td>\\n        <td>{{unknown}} ({{formatNumber unknownPercent}}%)</td>\\n        <td>{{total}} ({{formatNumber totalPercent}}%)</td>\\n      </tr>\\n      {{/each}}\\n    </tbody>\\n    <tfoot>\\n      {{#with totals}}\\n      <tr>\\n        <td>Total</td>\\n        <td>{{cd4Categories}}</td>\\n        <td>{{males}} ({{formatNumber malesPercent}}%)</td>\\n        <td>{{females}} ({{formatNumber femalesPercent}}%)</td>\\n        <td>{{other}} ({{formatNumber otherPercent}}%)</td>\\n        <td>{{unknown}} ({{formatNumber unknownPercent}}%)</td>\\n        <td>{{total}} (100.0%)</td>\\n      </tr>\\n      {{/with}}\\n    </tfoot>\\n  </table>\\n</div>\\n\\n<span id=\\\"data-serialized\\\" style=\\\"display: none;\\\">{{serialize .}}</span>\\n\\n<div style='page-break-before: always;'></div>\\n\\n<div id=\\\"chartdiv1\\\" class=\\\"chart box\\\"></div>\\n{{/unless}}\\n\\n<script>\\n  function renderCharts() {\\n    am4core.ready(function () {\\n      const data = JSON.parse(document.getElementById('data-serialized').innerHTML)\\n\\n      // chart 1\\n      var chart = am4core.create(\\\"chartdiv1\\\", am4charts.XYChart);\\n      chart.data = data.rows\\n      chart.legend = new am4charts.Legend();\\n      chart.events.on('ready', () => {\\n        chartLoaded('chart1')\\n      })\\n\\n      var title = chart.titles.create();\\n      title.text = \\\"Baseline CD4 count of patients newly started on ART by sex\\\";\\n      title.fontSize = 25;\\n      title.marginBottom = 30;\\n\\n      var categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());\\n      categoryAxis.dataFields.category = \\\"cd4Categories\\\";\\n      categoryAxis.renderer.minGridDistance = 20;\\n      var valueAxis = chart.xAxes.push(new am4charts.ValueAxis());\\n      valueAxis.title.text = \\\"HIV +ve %\\\";\\n      valueAxis.min = 0\\n      valueAxis.max = 100\\n\\n      var series1 = chart.series.push(new am4charts.ColumnSeries());\\n      series1.dataFields.valueX = \\\"malesPercent\\\";\\n      series1.dataFields.categoryY = \\\"cd4Categories\\\";\\n      series1.stacked = true\\n      series1.name = \\\"Male\\\"\\n\\n      var series2 = chart.series.push(new am4charts.ColumnSeries());\\n      series2.dataFields.valueX = \\\"femalesPercent\\\";\\n      series2.dataFields.categoryY = \\\"cd4Categories\\\";\\n      series2.stacked = true\\n      series2.name = \\\"Female\\\"\\n    })\\n  }\\n\\n  const scriptsToLoad = [\\n    'https://cdn.amcharts.com/lib/4/core.js',\\n    'https://cdn.amcharts.com/lib/4/charts.js',\\n  ]\\n\\n  function createScriptElement() {\\n    // gets the first script in the list\\n    const script = scriptsToLoad.shift()\\n    // all scripts were loaded\\n    if (!script) {\\n      console.log('All scripts loaded, rendering charts')\\n      renderCharts()\\n      return\\n    }\\n\\n    console.log(`loading script ${script}`)\\n    const js = document.createElement('script')\\n    js.type = 'text/javascript'\\n    js.src = script\\n    js.onload = loadNextScript\\n    const s = document.getElementsByTagName('script')[0]\\n    s.parentNode.insertBefore(js, s)\\n  }\\n\\n  function loadNextScript() {\\n    // loads the next script\\n    createScriptElement()\\n  }\\n  loadNextScript()\\n\\n  // wait for the charts to load and animations to complete\\n  const waitingForCharts = ['chart1']\\n  function chartLoaded(name) {\\n    if (waitingForCharts.indexOf(name) > -1) {\\n      waitingForCharts.splice(waitingForCharts.indexOf(name), 1)\\n    }\\n\\n    if (waitingForCharts.length === 0) {\\n      window.JSREPORT_READY_TO_START = true; // this will start the pdf printing\\n    }\\n  }\\n</script>\\n\",\n    \"helpers\": \"function serialize (data) {\\n  return JSON.stringify(data)\\n}\\n\\nfunction formatNumber (num) {\\n  return (num || 0).toFixed(1)\\n}\\n\",\n    \"__entityPath\": \"/report-5a\"\n}"},{"operation":"insert","path":"/css/jquery.calendars.picker.css","entitySet":"assets","entityId":"rtEmfG5gm89me4RR","serializedDoc":"{\n    \"name\": \"jquery.calendars.picker.css\",\n    \"creationDate\": {\n        \"$$date\": 1621256089249\n    },\n    \"modificationDate\": {\n        \"$$date\": 1621256089249\n    },\n    \"shortid\": \"yFeGF~D\",\n    \"_id\": \"rtEmfG5gm89me4RR\",\n    \"content\": {\n        \"$$buffer\": \"LyogRGVmYXVsdCBzdHlsaW5nIGZvciBqUXVlcnkgQ2FsZW5kYXJzIFBpY2tlciB2Mi4wLjAuICovDQouY2FsZW5kYXJzIHsNCgliYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KCWNvbG9yOiAjMDAwOw0KCWJvcmRlcjogMXB4IHNvbGlkICM0NDQ7DQogICAgLW1vei1ib3JkZXItcmFkaXVzOiAwLjI1ZW07DQogICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwLjI1ZW07DQogICAgYm9yZGVyLXJhZGl1czogMC4yNWVtOw0KCWZvbnQtZmFtaWx5OiBBcmlhbCxIZWx2ZXRpY2EsU2Fucy1zZXJpZjsNCglmb250LXNpemU6IDkwJTsNCn0NCi5jYWxlbmRhcnMtcnRsIHsNCglkaXJlY3Rpb246IHJ0bDsNCn0NCi5jYWxlbmRhcnMtcG9wdXAgew0KCXotaW5kZXg6IDEwMDA7DQp9DQouY2FsZW5kYXJzLWRpc2FibGUgew0KCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgl6LWluZGV4OiAxMDA7DQoJYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7DQoJb3BhY2l0eTogMC41Ow0KCWZpbHRlcjogYWxwaGEob3BhY2l0eT01MCk7DQp9DQouY2FsZW5kYXJzIGEgew0KCWNvbG9yOiAjZmZmOw0KCXRleHQtZGVjb3JhdGlvbjogbm9uZTsNCn0NCi5jYWxlbmRhcnMgYS5jYWxlbmRhcnMtZGlzYWJsZWQgew0KCWNvbG9yOiAjODg4Ow0KCWN1cnNvcjogYXV0bzsNCn0NCi5jYWxlbmRhcnMgYnV0dG9uIHsNCiAgICBtYXJnaW46IDAuMjVlbTsNCiAgICBwYWRkaW5nOiAwLjEyNWVtIDBlbTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNjOw0KICAgIGJvcmRlcjogbm9uZTsNCiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDAuMjVlbTsNCiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDAuMjVlbTsNCiAgICBib3JkZXItcmFkaXVzOiAwLjI1ZW07DQogICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQp9DQouY2FsZW5kYXJzLW5hdiwgLmNhbGVuZGFycy1jdHJsIHsNCglmbG9hdDogbGVmdDsNCgl3aWR0aDogMTAwJTsNCgliYWNrZ3JvdW5kLWNvbG9yOiAjMDAwOw0KCWNvbG9yOiAjZmZmOw0KCWZvbnQtc2l6ZTogOTAlOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KLmNhbGVuZGFycy1jdHJsIHsNCgliYWNrZ3JvdW5kLWNvbG9yOiAjNjAwOw0KfQ0KLmNhbGVuZGFycy1jbWQgew0KCXdpZHRoOiAzMCU7DQp9DQouY2FsZW5kYXJzLWNtZDpob3ZlciB7DQoJYmFja2dyb3VuZC1jb2xvcjogIzc3NzsNCn0NCi5jYWxlbmRhcnMtY3RybCAuY2FsZW5kYXJzLWNtZDpob3ZlciB7DQoJYmFja2dyb3VuZC1jb2xvcjogI2YwODA4MDsNCn0NCi5jYWxlbmRhcnMtY21kLXByZXZKdW1wLCAuY2FsZW5kYXJzLWNtZC1uZXh0SnVtcCB7DQoJd2lkdGg6IDglOw0KfQ0KYS5jYWxlbmRhcnMtY21kIHsNCgloZWlnaHQ6IDEuNWVtOw0KfQ0KYnV0dG9uLmNhbGVuZGFycy1jbWQgew0KCXRleHQtYWxpZ246IGNlbnRlcjsNCn0NCi5jYWxlbmRhcnMtY21kLXByZXYsIC5jYWxlbmRhcnMtY21kLXByZXZKdW1wLCAuY2FsZW5kYXJzLWNtZC1jbGVhciB7DQoJZmxvYXQ6IGxlZnQ7DQoJcGFkZGluZy1sZWZ0OiAyJTsNCn0NCi5jYWxlbmRhcnMtY21kLWN1cnJlbnQsIC5jYWxlbmRhcnMtY21kLXRvZGF5IHsNCglmbG9hdDogbGVmdDsNCgl3aWR0aDogMzUlOw0KCXRleHQtYWxpZ246IGNlbnRlcjsNCn0NCi5jYWxlbmRhcnMtY21kLW5leHQsIC5jYWxlbmRhcnMtY21kLW5leHRKdW1wLCAuY2FsZW5kYXJzLWNtZC1jbG9zZSB7DQoJZmxvYXQ6IHJpZ2h0Ow0KCXBhZGRpbmctcmlnaHQ6IDIlOw0KCXRleHQtYWxpZ246IHJpZ2h0Ow0KfQ0KLmNhbGVuZGFycy1ydGwgLmNhbGVuZGFycy1jbWQtcHJldiwgLmNhbGVuZGFycy1ydGwgLmNhbGVuZGFycy1jbWQtcHJldkp1bXAsDQouY2FsZW5kYXJzLXJ0bCAuY2FsZW5kYXJzLWNtZC1jbGVhciB7DQoJZmxvYXQ6IHJpZ2h0Ow0KCXBhZGRpbmctbGVmdDogMCU7DQoJcGFkZGluZy1yaWdodDogMiU7DQoJdGV4dC1hbGlnbjogcmlnaHQ7DQp9DQouY2FsZW5kYXJzLXJ0bCAuY2FsZW5kYXJzLWNtZC1jdXJyZW50LCAuY2FsZW5kYXJzLXJ0bCAuY2FsZW5kYXJzLWNtZC10b2RheSB7DQoJZmxvYXQ6IHJpZ2h0Ow0KfQ0KLmNhbGVuZGFycy1ydGwgLmNhbGVuZGFycy1jbWQtbmV4dCwgLmNhbGVuZGFycy1ydGwgLmNhbGVuZGFycy1jbWQtbmV4dEp1bXAsDQouY2FsZW5kYXJzLXJ0bCAuY2FsZW5kYXJzLWNtZC1jbG9zZSB7DQoJZmxvYXQ6IGxlZnQ7DQoJcGFkZGluZy1sZWZ0OiAyJTsNCglwYWRkaW5nLXJpZ2h0OiAwJTsNCgl0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KLmNhbGVuZGFycy1tb250aC1uYXYgew0KCWZsb2F0OiBsZWZ0Ow0KCWJhY2tncm91bmQtY29sb3I6ICM3Nzc7DQoJdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KLmNhbGVuZGFycy1tb250aC1uYXYgZGl2IHsNCglmbG9hdDogbGVmdDsNCgl3aWR0aDogMTIuNSU7DQoJbWFyZ2luOiAxJTsNCglwYWRkaW5nOiAxJTsNCn0NCi5jYWxlbmRhcnMtbW9udGgtbmF2IHNwYW4gew0KCWNvbG9yOiAjODg4Ow0KfQ0KLmNhbGVuZGFycy1tb250aC1yb3cgew0KCWNsZWFyOiBsZWZ0Ow0KfQ0KLmNhbGVuZGFycy1tb250aCB7DQoJZmxvYXQ6IGxlZnQ7DQoJd2lkdGg6IDE1ZW07DQoJYm9yZGVyOiAxcHggc29saWQgIzQ0NDsNCgl0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQouY2FsZW5kYXJzLW1vbnRoLWhlYWRlciwgLmNhbGVuZGFycy1tb250aC1oZWFkZXIgc2VsZWN0LCAuY2FsZW5kYXJzLW1vbnRoLWhlYWRlciBpbnB1dCB7DQoJaGVpZ2h0OiAxLjVlbTsNCgliYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0Ow0KCWNvbG9yOiAjZmZmOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KLmNhbGVuZGFycy1tb250aC1oZWFkZXIgc2VsZWN0LCAuY2FsZW5kYXJzLW1vbnRoLWhlYWRlciBpbnB1dCB7DQoJaGVpZ2h0OiAxLjRlbTsNCglib3JkZXI6IG5vbmU7DQp9DQouY2FsZW5kYXJzLW1vbnRoLWhlYWRlciBpbnB1dCB7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCWRpc3BsYXk6IG5vbmU7DQp9DQouY2FsZW5kYXJzLW1vbnRoIHRhYmxlIHsNCgl3aWR0aDogMTAwJTsNCglib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOw0KfQ0KLmNhbGVuZGFycy1tb250aCB0aGVhZCB7DQoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNhYWE7DQp9DQouY2FsZW5kYXJzLW1vbnRoIHRoLCAuY2FsZW5kYXJzLW1vbnRoIHRkIHsNCgltYXJnaW46IDBlbTsNCglwYWRkaW5nOiAwZW07DQoJZm9udC13ZWlnaHQ6IG5vcm1hbDsNCgl0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQouY2FsZW5kYXJzLW1vbnRoIHRoIHsNCglib3JkZXI6IDFweCBzb2xpZCAjNzc3Ow0KfQ0KLmNhbGVuZGFycy1tb250aCB0aCwgLmNhbGVuZGFycy1tb250aCB0aCBhIHsNCgliYWNrZ3JvdW5kLWNvbG9yOiAjNzc3Ow0KCWNvbG9yOiAjZmZmOw0KfQ0KLmNhbGVuZGFycy1tb250aCB0ZCB7DQoJYmFja2dyb3VuZC1jb2xvcjogI2VlZTsNCglib3JkZXI6IDFweCBzb2xpZCAjYWFhOw0KfQ0KLmNhbGVuZGFycy1tb250aCB0ZC5jYWxlbmRhcnMtd2VlayB7DQoJYm9yZGVyOiAxcHggc29saWQgIzc3NzsNCn0NCi5jYWxlbmRhcnMtbW9udGggdGQuY2FsZW5kYXJzLXdlZWsgKiB7DQoJYmFja2dyb3VuZC1jb2xvcjogIzc3NzsNCgljb2xvcjogI2ZmZjsNCglib3JkZXI6IG5vbmU7DQp9DQouY2FsZW5kYXJzLW1vbnRoIGEgew0KCWRpc3BsYXk6IGJsb2NrOw0KCXdpZHRoOiAxMDAlOw0KCXBhZGRpbmc6IDAuMTI1ZW0gMGVtOw0KCWJhY2tncm91bmQtY29sb3I6ICNlZWU7DQoJY29sb3I6ICMwMDA7DQoJdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KfQ0KLmNhbGVuZGFycy1tb250aCBzcGFuIHsNCglkaXNwbGF5OiBibG9jazsNCgl3aWR0aDogMTAwJTsNCglwYWRkaW5nOiAwLjEyNWVtIDBlbTsNCn0NCi5jYWxlbmRhcnMtbW9udGggdGQgc3BhbiB7DQoJY29sb3I6ICM4ODg7DQp9DQouY2FsZW5kYXJzLW1vbnRoIHRkIC5jYWxlbmRhcnMtb3RoZXItbW9udGggew0KCWJhY2tncm91bmQtY29sb3I6ICNmZmY7DQp9DQouY2FsZW5kYXJzLW1vbnRoIHRkIC5jYWxlbmRhcnMtd2Vla2VuZCB7DQoJYmFja2dyb3VuZC1jb2xvcjogI2RkZDsNCn0NCi5jYWxlbmRhcnMtbW9udGggdGQgLmNhbGVuZGFycy10b2RheSB7DQoJYmFja2dyb3VuZC1jb2xvcjogI2YwYzBjMDsNCn0NCi5jYWxlbmRhcnMtbW9udGggdGQgLmNhbGVuZGFycy1oaWdobGlnaHQgew0KCWJhY2tncm91bmQtY29sb3I6ICNmMDgwODA7DQp9DQouY2FsZW5kYXJzLW1vbnRoIHRkIC5jYWxlbmRhcnMtc2VsZWN0ZWQgew0KCWJhY2tncm91bmQtY29sb3I6ICM3Nzc7DQoJY29sb3I6ICNmZmY7DQp9DQouY2FsZW5kYXJzLW1vbnRoIHRoLmNhbGVuZGFycy13ZWVrIHsNCgliYWNrZ3JvdW5kLWNvbG9yOiAjNzc3Ow0KCWNvbG9yOiAjZmZmOw0KfQ0KLmNhbGVuZGFycy1zdGF0dXMgew0KCWNsZWFyOiBib3RoOw0KCWJhY2tncm91bmQtY29sb3I6ICNkZGQ7DQoJdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KLmNhbGVuZGFycy1jbGVhci1maXggew0KCWNsZWFyOiBib3RoOw0KfQ0K\"\n    },\n    \"folder\": {\n        \"shortid\": \"NzCW6lK\"\n    },\n    \"__entityPath\": \"/css/jquery.calendars.picker.css\"\n}"},{"operation":"insert","path":"/js/jquery.calendars.min.js","entitySet":"assets","entityId":"mIsGjkf5HI3m2McT","serializedDoc":"{\n    \"name\": \"jquery.calendars.min.js\",\n    \"creationDate\": {\n        \"$$date\": 1621256584473\n    },\n    \"modificationDate\": {\n        \"$$date\": 1621256584473\n    },\n    \"shortid\": \"1FYtqFb\",\n    \"_id\": \"mIsGjkf5HI3m2McT\",\n    \"content\": {\n        \"$$buffer\": \"IWZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7dGhpcy5yZWdpb25hbE9wdGlvbnM9W10sdGhpcy5yZWdpb25hbE9wdGlvbnNbIiJdPXtpbnZhbGlkQ2FsZW5kYXI6IkNhbGVuZGFyIHswfSBub3QgZm91bmQiLGludmFsaWREYXRlOiJJbnZhbGlkIHswfSBkYXRlIixpbnZhbGlkTW9udGg6IkludmFsaWQgezB9IG1vbnRoIixpbnZhbGlkWWVhcjoiSW52YWxpZCB7MH0geWVhciIsZGlmZmVyZW50Q2FsZW5kYXJzOiJDYW5ub3QgbWl4IHswfSBhbmQgezF9IGRhdGVzIn0sdGhpcy5sb2NhbD10aGlzLnJlZ2lvbmFsT3B0aW9uc1siIl0sdGhpcy5jYWxlbmRhcnM9e30sdGhpcy5fbG9jYWxDYWxzPXt9fWZ1bmN0aW9uIGMoYixjLGQsZSl7aWYodGhpcy5fY2FsZW5kYXI9Yix0aGlzLl95ZWFyPWMsdGhpcy5fbW9udGg9ZCx0aGlzLl9kYXk9ZSwwPT09dGhpcy5fY2FsZW5kYXIuX3ZhbGlkYXRlTGV2ZWwmJiF0aGlzLl9jYWxlbmRhci5pc1ZhbGlkKHRoaXMuX3llYXIsdGhpcy5fbW9udGgsdGhpcy5fZGF5KSl0aHJvdyhhLmNhbGVuZGFycy5sb2NhbC5pbnZhbGlkRGF0ZXx8YS5jYWxlbmRhcnMucmVnaW9uYWxPcHRpb25zWyIiXS5pbnZhbGlkRGF0ZSkucmVwbGFjZSgvXHswXH0vLHRoaXMuX2NhbGVuZGFyLmxvY2FsLm5hbWUpfWZ1bmN0aW9uIGQoYSxiKXtyZXR1cm4gYT0iIithLCIwMDAwMDAiLnN1YnN0cmluZygwLGItYS5sZW5ndGgpK2F9ZnVuY3Rpb24gZSgpe3RoaXMuc2hvcnRZZWFyQ3V0b2ZmPSIrMTAifWZ1bmN0aW9uIGYoYSl7dGhpcy5sb2NhbD10aGlzLnJlZ2lvbmFsT3B0aW9uc1thXXx8dGhpcy5yZWdpb25hbE9wdGlvbnNbIiJdfWEuZXh0ZW5kKGIucHJvdG90eXBlLHtpbnN0YW5jZTpmdW5jdGlvbihhLGIpe2E9KGF8fCJncmVnb3JpYW4iKS50b0xvd2VyQ2FzZSgpLGI9Ynx8IiI7dmFyIGM9dGhpcy5fbG9jYWxDYWxzW2ErIi0iK2JdO2lmKCFjJiZ0aGlzLmNhbGVuZGFyc1thXSYmKGM9bmV3IHRoaXMuY2FsZW5kYXJzW2FdKGIpLHRoaXMuX2xvY2FsQ2Fsc1thKyItIitiXT1jKSwhYyl0aHJvdyh0aGlzLmxvY2FsLmludmFsaWRDYWxlbmRhcnx8dGhpcy5yZWdpb25hbE9wdGlvbnNbIiJdLmludmFsaWRDYWxlbmRhcikucmVwbGFjZSgvXHswXH0vLGEpO3JldHVybiBjfSxuZXdEYXRlOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGQ9KHZvaWQgMCE9PWEmJm51bGwhPT1hJiZhLnllYXI/YS5jYWxlbmRhcigpOiJzdHJpbmciPT10eXBlb2YgZD90aGlzLmluc3RhbmNlKGQsZSk6ZCl8fHRoaXMuaW5zdGFuY2UoKSxkLm5ld0RhdGUoYSxiLGMpfSxzdWJzdGl0dXRlRGlnaXRzOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4oYisiIikucmVwbGFjZSgvWzAtOV0vZyxmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfX0sc3Vic3RpdHV0ZUNoaW5lc2VEaWdpdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Zm9yKHZhciBkPSIiLGU9MDtjPjA7KXt2YXIgZj1jJTEwO2Q9KDA9PT1mPyIiOmFbZl0rYltlXSkrZCxlKyssYz1NYXRoLmZsb29yKGMvMTApfXJldHVybiAwPT09ZC5pbmRleE9mKGFbMV0rYlsxXSkmJihkPWQuc3Vic3RyKDEpKSxkfHxhWzBdfX19KSxhLmV4dGVuZChjLnByb3RvdHlwZSx7bmV3RGF0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuX2NhbGVuZGFyLm5ld0RhdGUodm9pZCAwPT09YXx8bnVsbD09PWE/dGhpczphLGIsYyl9LHllYXI6ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX3llYXI6dGhpcy5zZXQoYSwieSIpfSxtb250aDpmdW5jdGlvbihhKXtyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fbW9udGg6dGhpcy5zZXQoYSwibSIpfSxkYXk6ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX2RheTp0aGlzLnNldChhLCJkIil9LGRhdGU6ZnVuY3Rpb24oYixjLGQpe2lmKCF0aGlzLl9jYWxlbmRhci5pc1ZhbGlkKGIsYyxkKSl0aHJvdyhhLmNhbGVuZGFycy5sb2NhbC5pbnZhbGlkRGF0ZXx8YS5jYWxlbmRhcnMucmVnaW9uYWxPcHRpb25zWyIiXS5pbnZhbGlkRGF0ZSkucmVwbGFjZSgvXHswXH0vLHRoaXMuX2NhbGVuZGFyLmxvY2FsLm5hbWUpO3JldHVybiB0aGlzLl95ZWFyPWIsdGhpcy5fbW9udGg9Yyx0aGlzLl9kYXk9ZCx0aGlzfSxsZWFwWWVhcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWxlbmRhci5sZWFwWWVhcih0aGlzKX0sZXBvY2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FsZW5kYXIuZXBvY2godGhpcyl9LGZvcm1hdFllYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FsZW5kYXIuZm9ybWF0WWVhcih0aGlzKX0sbW9udGhPZlllYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FsZW5kYXIubW9udGhPZlllYXIodGhpcyl9LHdlZWtPZlllYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FsZW5kYXIud2Vla09mWWVhcih0aGlzKX0sZGF5c0luWWVhcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWxlbmRhci5kYXlzSW5ZZWFyKHRoaXMpfSxkYXlPZlllYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FsZW5kYXIuZGF5T2ZZZWFyKHRoaXMpfSxkYXlzSW5Nb250aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWxlbmRhci5kYXlzSW5Nb250aCh0aGlzKX0sZGF5T2ZXZWVrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbGVuZGFyLmRheU9mV2Vlayh0aGlzKX0sd2Vla0RheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWxlbmRhci53ZWVrRGF5KHRoaXMpfSxleHRyYUluZm86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FsZW5kYXIuZXh0cmFJbmZvKHRoaXMpfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fY2FsZW5kYXIuYWRkKHRoaXMsYSxiKX0sc2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2NhbGVuZGFyLnNldCh0aGlzLGEsYil9LGNvbXBhcmVUbzpmdW5jdGlvbihiKXtpZih0aGlzLl9jYWxlbmRhci5uYW1lIT09Yi5fY2FsZW5kYXIubmFtZSl0aHJvdyhhLmNhbGVuZGFycy5sb2NhbC5kaWZmZXJlbnRDYWxlbmRhcnN8fGEuY2FsZW5kYXJzLnJlZ2lvbmFsT3B0aW9uc1siIl0uZGlmZmVyZW50Q2FsZW5kYXJzKS5yZXBsYWNlKC9cezBcfS8sdGhpcy5fY2FsZW5kYXIubG9jYWwubmFtZSkucmVwbGFjZSgvXHsxXH0vLGIuX2NhbGVuZGFyLmxvY2FsLm5hbWUpO3ZhciBjPXRoaXMuX3llYXIhPT1iLl95ZWFyP3RoaXMuX3llYXItYi5feWVhcjp0aGlzLl9tb250aCE9PWIuX21vbnRoP3RoaXMubW9udGhPZlllYXIoKS1iLm1vbnRoT2ZZZWFyKCk6dGhpcy5fZGF5LWIuX2RheTtyZXR1cm4gMD09PWM/MDpjPDA/LTE6MX0sY2FsZW5kYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FsZW5kYXJ9LHRvSkQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FsZW5kYXIudG9KRCh0aGlzKX0sZnJvbUpEOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jYWxlbmRhci5mcm9tSkQoYSl9LHRvSlNEYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbGVuZGFyLnRvSlNEYXRlKHRoaXMpfSxmcm9tSlNEYXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jYWxlbmRhci5mcm9tSlNEYXRlKGEpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybih0aGlzLnllYXIoKTwwPyItIjoiIikrZChNYXRoLmFicyh0aGlzLnllYXIoKSksNCkrIi0iK2QodGhpcy5tb250aCgpLDIpKyItIitkKHRoaXMuZGF5KCksMil9fSksYS5leHRlbmQoZS5wcm90b3R5cGUse192YWxpZGF0ZUxldmVsOjAsbmV3RGF0ZTpmdW5jdGlvbihiLGQsZSl7cmV0dXJuIHZvaWQgMD09PWJ8fG51bGw9PT1iP3RoaXMudG9kYXkoKTooYi55ZWFyJiYodGhpcy5fdmFsaWRhdGUoYixkLGUsYS5jYWxlbmRhcnMubG9jYWwuaW52YWxpZERhdGV8fGEuY2FsZW5kYXJzLnJlZ2lvbmFsT3B0aW9uc1siIl0uaW52YWxpZERhdGUpLGU9Yi5kYXkoKSxkPWIubW9udGgoKSxiPWIueWVhcigpKSxuZXcgYyh0aGlzLGIsZCxlKSl9LHRvZGF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJvbUpTRGF0ZShuZXcgRGF0ZSl9LGVwb2NoOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl92YWxpZGF0ZShiLHRoaXMubWluTW9udGgsdGhpcy5taW5EYXksYS5jYWxlbmRhcnMubG9jYWwuaW52YWxpZFllYXJ8fGEuY2FsZW5kYXJzLnJlZ2lvbmFsT3B0aW9uc1siIl0uaW52YWxpZFllYXIpLnllYXIoKTwwP3RoaXMubG9jYWwuZXBvY2hzWzBdOnRoaXMubG9jYWwuZXBvY2hzWzFdfSxmb3JtYXRZZWFyOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX3ZhbGlkYXRlKGIsdGhpcy5taW5Nb250aCx0aGlzLm1pbkRheSxhLmNhbGVuZGFycy5sb2NhbC5pbnZhbGlkWWVhcnx8YS5jYWxlbmRhcnMucmVnaW9uYWxPcHRpb25zWyIiXS5pbnZhbGlkWWVhcik7cmV0dXJuKGMueWVhcigpPDA/Ii0iOiIiKStkKE1hdGguYWJzKGMueWVhcigpKSw0KX0sbW9udGhzSW5ZZWFyOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl92YWxpZGF0ZShiLHRoaXMubWluTW9udGgsdGhpcy5taW5EYXksYS5jYWxlbmRhcnMubG9jYWwuaW52YWxpZFllYXJ8fGEuY2FsZW5kYXJzLnJlZ2lvbmFsT3B0aW9uc1siIl0uaW52YWxpZFllYXIpLDEyfSxtb250aE9mWWVhcjpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuX3ZhbGlkYXRlKGIsYyx0aGlzLm1pbkRheSxhLmNhbGVuZGFycy5sb2NhbC5pbnZhbGlkTW9udGh8fGEuY2FsZW5kYXJzLnJlZ2lvbmFsT3B0aW9uc1siIl0uaW52YWxpZE1vbnRoKTtyZXR1cm4oZC5tb250aCgpK3RoaXMubW9udGhzSW5ZZWFyKGQpLXRoaXMuZmlyc3RNb250aCkldGhpcy5tb250aHNJblllYXIoZCkrdGhpcy5taW5Nb250aH0sZnJvbU1vbnRoT2ZZZWFyOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9KGMrdGhpcy5maXJzdE1vbnRoLTIqdGhpcy5taW5Nb250aCkldGhpcy5tb250aHNJblllYXIoYikrdGhpcy5taW5Nb250aDtyZXR1cm4gdGhpcy5fdmFsaWRhdGUoYixkLHRoaXMubWluRGF5LGEuY2FsZW5kYXJzLmxvY2FsLmludmFsaWRNb250aHx8YS5jYWxlbmRhcnMucmVnaW9uYWxPcHRpb25zWyIiXS5pbnZhbGlkTW9udGgpLGR9LGRheXNJblllYXI6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fdmFsaWRhdGUoYix0aGlzLm1pbk1vbnRoLHRoaXMubWluRGF5LGEuY2FsZW5kYXJzLmxvY2FsLmludmFsaWRZZWFyfHxhLmNhbGVuZGFycy5yZWdpb25hbE9wdGlvbnNbIiJdLmludmFsaWRZZWFyKTtyZXR1cm4gdGhpcy5sZWFwWWVhcihjKT8zNjY6MzY1fSxkYXlPZlllYXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXMuX3ZhbGlkYXRlKGIsYyxkLGEuY2FsZW5kYXJzLmxvY2FsLmludmFsaWREYXRlfHxhLmNhbGVuZGFycy5yZWdpb25hbE9wdGlvbnNbIiJdLmludmFsaWREYXRlKTtyZXR1cm4gZS50b0pEKCktdGhpcy5uZXdEYXRlKGUueWVhcigpLHRoaXMuZnJvbU1vbnRoT2ZZZWFyKGUueWVhcigpLHRoaXMubWluTW9udGgpLHRoaXMubWluRGF5KS50b0pEKCkrMX0sZGF5c0luV2VlazpmdW5jdGlvbigpe3JldHVybiA3fSxkYXlPZldlZWs6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXMuX3ZhbGlkYXRlKGIsYyxkLGEuY2FsZW5kYXJzLmxvY2FsLmludmFsaWREYXRlfHxhLmNhbGVuZGFycy5yZWdpb25hbE9wdGlvbnNbIiJdLmludmFsaWREYXRlKTtyZXR1cm4oTWF0aC5mbG9vcih0aGlzLnRvSkQoZSkpKzIpJXRoaXMuZGF5c0luV2VlaygpfSxleHRyYUluZm86ZnVuY3Rpb24oYixjLGQpe3JldHVybiB0aGlzLl92YWxpZGF0ZShiLGMsZCxhLmNhbGVuZGFycy5sb2NhbC5pbnZhbGlkRGF0ZXx8YS5jYWxlbmRhcnMucmVnaW9uYWxPcHRpb25zWyIiXS5pbnZhbGlkRGF0ZSkse319LGFkZDpmdW5jdGlvbihiLGMsZCl7cmV0dXJuIHRoaXMuX3ZhbGlkYXRlKGIsdGhpcy5taW5Nb250aCx0aGlzLm1pbkRheSxhLmNhbGVuZGFycy5sb2NhbC5pbnZhbGlkRGF0ZXx8YS5jYWxlbmRhcnMucmVnaW9uYWxPcHRpb25zWyIiXS5pbnZhbGlkRGF0ZSksdGhpcy5fY29ycmVjdEFkZChiLHRoaXMuX2FkZChiLGMsZCksYyxkKX0sX2FkZDpmdW5jdGlvbihhLGIsYyl7dGhpcy5fdmFsaWRhdGVMZXZlbCsrO3ZhciBkO2lmKCJkIj09PWN8fCJ3Ij09PWMpe3ZhciBlPWEudG9KRCgpK2IqKCJ3Ij09PWM/dGhpcy5kYXlzSW5XZWVrKCk6MSk7cmV0dXJuIGQ9YS5jYWxlbmRhcigpLmZyb21KRChlKSx0aGlzLl92YWxpZGF0ZUxldmVsLS0sW2QueWVhcigpLGQubW9udGgoKSxkLmRheSgpXX10cnl7dmFyIGY9YS55ZWFyKCkrKCJ5Ij09PWM/YjowKSxnPWEubW9udGhPZlllYXIoKSsoIm0iPT09Yz9iOjApO2Q9YS5kYXkoKTt2YXIgaD1mdW5jdGlvbihhKXtmb3IoO2c8YS5taW5Nb250aDspZi0tLGcrPWEubW9udGhzSW5ZZWFyKGYpO2Zvcih2YXIgYj1hLm1vbnRoc0luWWVhcihmKTtnPmItMSthLm1pbk1vbnRoOylmKyssZy09YixiPWEubW9udGhzSW5ZZWFyKGYpfTsieSI9PT1jPyhhLm1vbnRoKCkhPT10aGlzLmZyb21Nb250aE9mWWVhcihmLGcpJiYoZz10aGlzLm5ld0RhdGUoZixhLm1vbnRoKCksdGhpcy5taW5EYXkpLm1vbnRoT2ZZZWFyKCkpLGc9TWF0aC5taW4oZyx0aGlzLm1vbnRoc0luWWVhcihmKSksZD1NYXRoLm1pbihkLHRoaXMuZGF5c0luTW9udGgoZix0aGlzLmZyb21Nb250aE9mWWVhcihmLGcpKSkpOiJtIj09PWMmJihoKHRoaXMpLGQ9TWF0aC5taW4oZCx0aGlzLmRheXNJbk1vbnRoKGYsdGhpcy5mcm9tTW9udGhPZlllYXIoZixnKSkpKTt2YXIgaT1bZix0aGlzLmZyb21Nb250aE9mWWVhcihmLGcpLGRdO3JldHVybiB0aGlzLl92YWxpZGF0ZUxldmVsLS0saX1jYXRjaChhKXt0aHJvdyB0aGlzLl92YWxpZGF0ZUxldmVsLS0sYX19LF9jb3JyZWN0QWRkOmZ1bmN0aW9uKGEsYixjLGQpe2lmKCEodGhpcy5oYXNZZWFyWmVyb3x8InkiIT09ZCYmIm0iIT09ZHx8MCE9PWJbMF0mJmEueWVhcigpPjA9PWJbMF0+MCkpe3ZhciBlPXt5OlsxLDEsInkiXSxtOlsxLHRoaXMubW9udGhzSW5ZZWFyKC0xKSwibSJdLHc6W3RoaXMuZGF5c0luV2VlaygpLHRoaXMuZGF5c0luWWVhcigtMSksImQiXSxkOlsxLHRoaXMuZGF5c0luWWVhcigtMSksImQiXX1bZF0sZj1jPDA/LTE6MTtiPXRoaXMuX2FkZChhLGMqZVswXStmKmVbMV0sZVsyXSl9cmV0dXJuIGEuZGF0ZShiWzBdLGJbMV0sYlsyXSl9LHNldDpmdW5jdGlvbihiLGMsZCl7dGhpcy5fdmFsaWRhdGUoYix0aGlzLm1pbk1vbnRoLHRoaXMubWluRGF5LGEuY2FsZW5kYXJzLmxvY2FsLmludmFsaWREYXRlfHxhLmNhbGVuZGFycy5yZWdpb25hbE9wdGlvbnNbIiJdLmludmFsaWREYXRlKTt2YXIgZT0ieSI9PT1kP2M6Yi55ZWFyKCksZj0ibSI9PT1kP2M6Yi5tb250aCgpLGc9ImQiPT09ZD9jOmIuZGF5KCk7cmV0dXJuInkiIT09ZCYmIm0iIT09ZHx8KGc9TWF0aC5taW4oZyx0aGlzLmRheXNJbk1vbnRoKGUsZikpKSxiLmRhdGUoZSxmLGcpfSxpc1ZhbGlkOmZ1bmN0aW9uKGEsYixjKXt0aGlzLl92YWxpZGF0ZUxldmVsKys7dmFyIGQ9dGhpcy5oYXNZZWFyWmVyb3x8MCE9PWE7aWYoZCl7dmFyIGU9dGhpcy5uZXdEYXRlKGEsYix0aGlzLm1pbkRheSk7ZD1iPj10aGlzLm1pbk1vbnRoJiZiLXRoaXMubWluTW9udGg8dGhpcy5tb250aHNJblllYXIoZSkmJmM+PXRoaXMubWluRGF5JiZjLXRoaXMubWluRGF5PHRoaXMuZGF5c0luTW9udGgoZSl9cmV0dXJuIHRoaXMuX3ZhbGlkYXRlTGV2ZWwtLSxkfSx0b0pTRGF0ZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcy5fdmFsaWRhdGUoYixjLGQsYS5jYWxlbmRhcnMubG9jYWwuaW52YWxpZERhdGV8fGEuY2FsZW5kYXJzLnJlZ2lvbmFsT3B0aW9uc1siIl0uaW52YWxpZERhdGUpO3JldHVybiBhLmNhbGVuZGFycy5pbnN0YW5jZSgpLmZyb21KRCh0aGlzLnRvSkQoZSkpLnRvSlNEYXRlKCl9LGZyb21KU0RhdGU6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZnJvbUpEKGEuY2FsZW5kYXJzLmluc3RhbmNlKCkuZnJvbUpTRGF0ZShiKS50b0pEKCkpfSxfdmFsaWRhdGU6ZnVuY3Rpb24oYixjLGQsZSl7aWYoYi55ZWFyKXtpZigwPT09dGhpcy5fdmFsaWRhdGVMZXZlbCYmdGhpcy5uYW1lIT09Yi5jYWxlbmRhcigpLm5hbWUpdGhyb3coYS5jYWxlbmRhcnMubG9jYWwuZGlmZmVyZW50Q2FsZW5kYXJzfHxhLmNhbGVuZGFycy5yZWdpb25hbE9wdGlvbnNbIiJdLmRpZmZlcmVudENhbGVuZGFycykucmVwbGFjZSgvXHswXH0vLHRoaXMubG9jYWwubmFtZSkucmVwbGFjZSgvXHsxXH0vLGIuY2FsZW5kYXIoKS5sb2NhbC5uYW1lKTtyZXR1cm4gYn10cnl7aWYoMT09PSsrdGhpcy5fdmFsaWRhdGVMZXZlbCYmIXRoaXMuaXNWYWxpZChiLGMsZCkpdGhyb3cgZS5yZXBsYWNlKC9cezBcfS8sdGhpcy5sb2NhbC5uYW1lKTt2YXIgZj10aGlzLm5ld0RhdGUoYixjLGQpO3JldHVybiB0aGlzLl92YWxpZGF0ZUxldmVsLS0sZn1jYXRjaChhKXt0aHJvdyB0aGlzLl92YWxpZGF0ZUxldmVsLS0sYX19fSksZi5wcm90b3R5cGU9bmV3IGUsYS5leHRlbmQoZi5wcm90b3R5cGUse25hbWU6IkdyZWdvcmlhbiIsamRFcG9jaDoxNzIxNDI1LjUsZGF5c1Blck1vbnRoOlszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV0saGFzWWVhclplcm86ITEsbWluTW9udGg6MSxmaXJzdE1vbnRoOjEsbWluRGF5OjEscmVnaW9uYWxPcHRpb25zOnsiIjp7bmFtZToiR3JlZ29yaWFuIixlcG9jaHM6WyJCQ0UiLCJDRSJdLG1vbnRoTmFtZXM6WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdLG1vbnRoTmFtZXNTaG9ydDpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLGRheU5hbWVzOlsiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiXSxkYXlOYW1lc1Nob3J0OlsiU3VuIiwiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0Il0sZGF5TmFtZXNNaW46WyJTdSIsIk1vIiwiVHUiLCJXZSIsIlRoIiwiRnIiLCJTYSJdLGRpZ2l0czpudWxsLGRhdGVGb3JtYXQ6Im1tL2RkL3l5eXkiLGZpcnN0RGF5OjAsaXNSVEw6ITF9fSxsZWFwWWVhcjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl92YWxpZGF0ZShiLHRoaXMubWluTW9udGgsdGhpcy5taW5EYXksYS5jYWxlbmRhcnMubG9jYWwuaW52YWxpZFllYXJ8fGEuY2FsZW5kYXJzLnJlZ2lvbmFsT3B0aW9uc1siIl0uaW52YWxpZFllYXIpO3JldHVybihiPWMueWVhcigpKyhjLnllYXIoKTwwPzE6MCkpJTQ9PTAmJihiJTEwMCE9MHx8YiU0MDA9PTApfSx3ZWVrT2ZZZWFyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLm5ld0RhdGUoYSxiLGMpO3JldHVybiBkLmFkZCg0LShkLmRheU9mV2VlaygpfHw3KSwiZCIpLE1hdGguZmxvb3IoKGQuZGF5T2ZZZWFyKCktMSkvNykrMX0sZGF5c0luTW9udGg6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLl92YWxpZGF0ZShiLGMsdGhpcy5taW5EYXksYS5jYWxlbmRhcnMubG9jYWwuaW52YWxpZE1vbnRofHxhLmNhbGVuZGFycy5yZWdpb25hbE9wdGlvbnNbIiJdLmludmFsaWRNb250aCk7cmV0dXJuIHRoaXMuZGF5c1Blck1vbnRoW2QubW9udGgoKS0xXSsoMj09PWQubW9udGgoKSYmdGhpcy5sZWFwWWVhcihkLnllYXIoKSk/MTowKX0sd2Vla0RheTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuKHRoaXMuZGF5T2ZXZWVrKGEsYixjKXx8Nyk8Nn0sdG9KRDpmdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcy5fdmFsaWRhdGUoYixjLGQsYS5jYWxlbmRhcnMubG9jYWwuaW52YWxpZERhdGV8fGEuY2FsZW5kYXJzLnJlZ2lvbmFsT3B0aW9uc1siIl0uaW52YWxpZERhdGUpO2I9ZS55ZWFyKCksYz1lLm1vbnRoKCksZD1lLmRheSgpLGI8MCYmYisrLGM8MyYmKGMrPTEyLGItLSk7dmFyIGY9TWF0aC5mbG9vcihiLzEwMCksZz0yLWYrTWF0aC5mbG9vcihmLzQpO3JldHVybiBNYXRoLmZsb29yKDM2NS4yNSooYis0NzE2KSkrTWF0aC5mbG9vcigzMC42MDAxKihjKzEpKStkK2ctMTUyNC41fSxmcm9tSkQ6ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5mbG9vcihhKy41KSxjPU1hdGguZmxvb3IoKGItMTg2NzIxNi4yNSkvMzY1MjQuMjUpO2M9YisxK2MtTWF0aC5mbG9vcihjLzQpO3ZhciBkPWMrMTUyNCxlPU1hdGguZmxvb3IoKGQtMTIyLjEpLzM2NS4yNSksZj1NYXRoLmZsb29yKDM2NS4yNSplKSxnPU1hdGguZmxvb3IoKGQtZikvMzAuNjAwMSksaD1kLWYtTWF0aC5mbG9vcigzMC42MDAxKmcpLGk9Zy0oZz4xMy41PzEzOjEpLGo9ZS0oaT4yLjU/NDcxNjo0NzE1KTtyZXR1cm4gajw9MCYmai0tLHRoaXMubmV3RGF0ZShqLGksaCl9LHRvSlNEYXRlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzLl92YWxpZGF0ZShiLGMsZCxhLmNhbGVuZGFycy5sb2NhbC5pbnZhbGlkRGF0ZXx8YS5jYWxlbmRhcnMucmVnaW9uYWxPcHRpb25zWyIiXS5pbnZhbGlkRGF0ZSksZj1uZXcgRGF0ZShlLnllYXIoKSxlLm1vbnRoKCktMSxlLmRheSgpKTtyZXR1cm4gZi5zZXRIb3VycygwKSxmLnNldE1pbnV0ZXMoMCksZi5zZXRTZWNvbmRzKDApLGYuc2V0TWlsbGlzZWNvbmRzKDApLGYuc2V0SG91cnMoZi5nZXRIb3VycygpPjEyP2YuZ2V0SG91cnMoKSsyOjApLGZ9LGZyb21KU0RhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubmV3RGF0ZShhLmdldEZ1bGxZZWFyKCksYS5nZXRNb250aCgpKzEsYS5nZXREYXRlKCkpfX0pLGEuY2FsZW5kYXJzPW5ldyBiLGEuY2FsZW5kYXJzLmNkYXRlPWMsYS5jYWxlbmRhcnMuYmFzZUNhbGVuZGFyPWUsYS5jYWxlbmRhcnMuY2FsZW5kYXJzLmdyZWdvcmlhbj1mfShqUXVlcnkpOwovLyMgc291cmNlTWFwcGluZ1VSTD1qcXVlcnkuY2FsZW5kYXJzLm1pbi5tYXA=\"\n    },\n    \"folder\": {\n        \"shortid\": \"NHeujbZ\"\n    },\n    \"__entityPath\": \"/js/jquery.calendars.min.js\"\n}"},{"operation":"insert","path":"/css/styles.css","entitySet":"assets","entityId":"DnZ0hm211LYLbz6G","serializedDoc":"{\n    \"name\": \"styles.css\",\n    \"creationDate\": {\n        \"$$date\": 1620998660234\n    },\n    \"modificationDate\": {\n        \"$$date\": 1623670333900\n    },\n    \"shortid\": \"huXWxfi\",\n    \"_id\": \"DnZ0hm211LYLbz6G\",\n    \"content\": {\n        \"$$buffer\": \"Ym9keSB7CiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7CiAgbWFyZ2luOiAwOwogIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7Cn0KCi5oZWFkZXIgewogIGhlaWdodDogNjRweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWQ4YWQxOwogIGNvbG9yOiB3aGl0ZTsKICBib3gtc2hhZG93OiAwIDAgMjBweCByZ2JhKDAsIDAsIDAsIDAuMTUpOwp9CgouaGVhZGVyQ29udGVudCB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIHBhZGRpbmc6IDAgMTZweDsKICBtYXgtd2lkdGg6IDEyMDBweDsKICBtYXJnaW46IDAgYXV0bzsKICBoZWlnaHQ6IDEwMCU7CiAgZm9udC1zaXplOiB4LWxhcmdlOwp9Cgoud3JhcHBlciB7CiAgbWFyZ2luOiAwIGF1dG87CiAgbWF4LXdpZHRoOiAxMjAwcHg7Cn0KCmgxIHsKICBmb250LWZhbWlseTogc2Fucy1zZXJpZjsKICBtYXJnaW4tdG9wOiA1MHB4Owp9CgpoMyB7CiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7CiAgY29sb3I6ICNhMGEwYTA7CiAgZm9udC13ZWlnaHQ6IDEwMDsKfQoKLmNvbnRhaW5lciB7CiAgZGlzcGxheTogZmxleDsKICBtYXJnaW46IDE2cHggMDsKICBnYXA6IDEycHg7Cn0KCi5ib3ggewogIGJveC1zaGFkb3c6IDAgMCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7CiAgcGFkZGluZzogMTZweDsKICBib3JkZXItcmFkaXVzOiA1cHg7CiAgbWFyZ2luOiAzMnB4IDE2cHg7CiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7Cn0KCi5zdHlsZWQtdGFiIHsKICBwYWRkaW5nOiA4cHggMTRweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5zdHlsZWQtdGFiLmFjdGl2ZSB7CiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM3MDgzYWM7Cn0KCi50YWJsZS13cmFwcGVyIHsKICBtYXJnaW46IDMycHggMTZweDsKICBib3gtc2hhZG93OiAwIDAgMjBweCByZ2JhKDAsIDAsIDAsIDAuMTUpOwogIGJvcmRlci1yYWRpdXM6IDVweDsKfQoKLnN0eWxlZC10YWJsZSB7CiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsKICBmb250LXNpemU6IDAuOGVtOwogIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOwogIHdpZHRoOiAxMDAlOwp9Cgouc3R5bGVkLXRhYmxlIHRoZWFkIHRyIHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5zdHlsZWQtdGFibGUgdGgsCi5zdHlsZWQtdGFibGUgdGQgewogIHBhZGRpbmc6IDEycHggNnB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLnN0eWxlZC10YWJsZSB0Ym9keSB0ciB7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGRkZGQ7Cn0KCi5zdHlsZWQtdGFibGUgdGJvZHkgdHI6bnRoLW9mLXR5cGUoZXZlbikgewogIGJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7Cn0KCi5zdHlsZWQtdGFibGUgdGJvZHkgdHI6bnRoLW9mLXR5cGUob2RkKSB7CiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7Cn0KCi5zdHlsZWQtdGFibGUgdGhlYWQgdHI6Zmlyc3Qtb2YtdHlwZSB7CiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM3MDgzYWM7Cn0KCi5zdHlsZWQtdGFibGUgdGJvZHkgdHI6Zmlyc3Qtb2YtdHlwZSB7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICM3MDgzYWM7Cn0KCi5zdHlsZWQtdGFibGUgdGJvZHkgdHI6bGFzdC1vZi10eXBlIHsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzcwODNhYzsKfQoKLnN0eWxlZC10YWJsZSB0Zm9vdCB7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi50YWJsZS1oZWFkZXIgewogIGJhY2tncm91bmQtY29sb3I6ICM5MmE4ZDk7CiAgZm9udC1zaXplOiBsYXJnZXI7Cn0KCi50YWJsZS1kaXNhZ2cgewogIGJhY2tncm91bmQtY29sb3I6ICNkYWUxZjI7Cn0KCi50YWJsZS1pbmRpY2F0b3JzLW9rIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWRkMDkxOwogIHRleHQtb3JpZW50YXRpb246IHNpZGV3YXlzOwp9CgoudGFibGUtaW5kaWNhdG9ycy1ub2sgewogIGJhY2tncm91bmQtY29sb3I6ICNlZGI0ODc7CiAgdGV4dC1vcmllbnRhdGlvbjogc2lkZXdheXM7Cn0KCi50YWJsZS1oMSB7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgYmFja2dyb3VuZC1jb2xvcjogIzFkMzQ1YiAhaW1wb3J0YW50OwogIGNvbG9yOiB3aGl0ZTsKfQoKLnRhYmxlLWgyIHsKICBmb250LXdlaWdodDogYm9sZDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWQ4YWQxICFpbXBvcnRhbnQ7Cn0KCi50YWJsZS1oMyB7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgYmFja2dyb3VuZC1jb2xvcjogIzkyYThkOSAhaW1wb3J0YW50Owp9CgoudGFibGUtaDQgewogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGJhY2tncm91bmQtY29sb3I6ICNkYWUxZjIgIWltcG9ydGFudDsKfQoKLnRhYmxlLWg1IHsKICBmb250LXdlaWdodDogYm9sZDsKICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50Owp9CgoubmVzdGVkLXRhYmxlIHsKICBtYXJnaW46IDA7CiAgYm94LXNoYWRvdzogbm9uZTsKfQoKLm5lc3RlZC10YWJsZSB0cjpudGgtY2hpbGQob2RkKSB7CiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7Cn0KCi5zdHlsZWQtYnV0dG9uIHsKICBwYWRkaW5nOiA4cHggMzJweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzA4M2FjOwogIGJvcmRlcjogbm9uZTsKICBmb250LXNpemU6IDE2cHg7CiAgY29sb3I6IHdoaXRlOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLnN0eWxlZC1idXR0b246aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6ICM5MmE4ZDk7Cn0KCi5lcnJvciB7CiAgY29sb3I6IHJlZDsKfQoKLndpZHRoLTUgewogIHdpZHRoOiA1JTsKfQoKLndpZHRoLTEwIHsKICB3aWR0aDogMTAlOwp9CgouZm9yY2UtbGVmdC1hbGlnbiB7CiAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50Owp9CgouY2hhcnQgewogIGhlaWdodDogNjAwcHg7Cn0KCkBtZWRpYSBwcmludCB7CiAgYm9keSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICB9CgogIC5ib3ggewogICAgYm94LXNoYWRvdzogbm9uZTsKICB9CgogIC50YWJsZS13cmFwcGVyIHsKICAgIGJveC1zaGFkb3c6IG5vbmU7CiAgfQp9Cg==\"\n    },\n    \"folder\": {\n        \"shortid\": \"NzCW6lK\"\n    },\n    \"__entityPath\": \"/css/styles.css\"\n}"},{"operation":"insert","path":"/js/jquery.calendars.picker.min.js","entitySet":"assets","entityId":"FtxusPAlIF2fHw6r","serializedDoc":"{\n    \"name\": \"jquery.calendars.picker.min.js\",\n    \"creationDate\": {\n        \"$$date\": 1621255655811\n    },\n    \"modificationDate\": {\n        \"$$date\": 1621255659902\n    },\n    \"shortid\": \"EuPHmLa\",\n    \"_id\": \"FtxusPAlIF2fHw6r\",\n    \"content\": {\n        \"$$buffer\": \"IWZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj0iY2FsZW5kYXJzUGlja2VyIjthLkpRUGx1Z2luLmNyZWF0ZVBsdWdpbih7bmFtZTpiLGRlZmF1bHRSZW5kZXJlcjp7cGlja2VyOic8ZGl2IGNsYXNzPSJjYWxlbmRhcnMiPjxkaXYgY2xhc3M9ImNhbGVuZGFycy1uYXYiPntsaW5rOnByZXZ9e2xpbms6dG9kYXl9e2xpbms6bmV4dH08L2Rpdj57bW9udGhzfXtwb3B1cDpzdGFydH08ZGl2IGNsYXNzPSJjYWxlbmRhcnMtY3RybCI+e2xpbms6Y2xlYXJ9e2xpbms6Y2xvc2V9PC9kaXY+e3BvcHVwOmVuZH08ZGl2IGNsYXNzPSJjYWxlbmRhcnMtY2xlYXItZml4Ij48L2Rpdj48L2Rpdj4nLG1vbnRoUm93Oic8ZGl2IGNsYXNzPSJjYWxlbmRhcnMtbW9udGgtcm93Ij57bW9udGhzfTwvZGl2PicsbW9udGg6JzxkaXYgY2xhc3M9ImNhbGVuZGFycy1tb250aCI+PGRpdiBjbGFzcz0iY2FsZW5kYXJzLW1vbnRoLWhlYWRlciI+e21vbnRoSGVhZGVyfTwvZGl2Pjx0YWJsZT48dGhlYWQ+e3dlZWtIZWFkZXJ9PC90aGVhZD48dGJvZHk+e3dlZWtzfTwvdGJvZHk+PC90YWJsZT48L2Rpdj4nLHdlZWtIZWFkZXI6Ijx0cj57ZGF5c308L3RyPiIsZGF5SGVhZGVyOiI8dGg+e2RheX08L3RoPiIsd2VlazoiPHRyPntkYXlzfTwvdHI+IixkYXk6Ijx0ZD57ZGF5fTwvdGQ+Iixtb250aFNlbGVjdG9yOiIuY2FsZW5kYXJzLW1vbnRoIixkYXlTZWxlY3RvcjoidGQiLHJ0bENsYXNzOiJjYWxlbmRhcnMtcnRsIixtdWx0aUNsYXNzOiJjYWxlbmRhcnMtbXVsdGkiLGRlZmF1bHRDbGFzczoiIixzZWxlY3RlZENsYXNzOiJjYWxlbmRhcnMtc2VsZWN0ZWQiLGhpZ2hsaWdodGVkQ2xhc3M6ImNhbGVuZGFycy1oaWdobGlnaHQiLHRvZGF5Q2xhc3M6ImNhbGVuZGFycy10b2RheSIsb3RoZXJNb250aENsYXNzOiJjYWxlbmRhcnMtb3RoZXItbW9udGgiLHdlZWtlbmRDbGFzczoiY2FsZW5kYXJzLXdlZWtlbmQiLGNvbW1hbmRDbGFzczoiY2FsZW5kYXJzLWNtZCIsY29tbWFuZEJ1dHRvbkNsYXNzOiIiLGNvbW1hbmRMaW5rQ2xhc3M6IiIsZGlzYWJsZWRDbGFzczoiY2FsZW5kYXJzLWRpc2FibGVkIn0sY29tbWFuZHM6e3ByZXY6e3RleHQ6InByZXZUZXh0IixzdGF0dXM6InByZXZTdGF0dXMiLGtleXN0cm9rZTp7a2V5Q29kZTozM30sZW5hYmxlZDpmdW5jdGlvbihhKXt2YXIgYj1hLmN1ck1pbkRhdGUoKTtyZXR1cm4hYnx8LTEhPT1hLmRyYXdEYXRlLm5ld0RhdGUoKS5hZGQoMS1hLm9wdGlvbnMubW9udGhzVG9TdGVwLWEub3B0aW9ucy5tb250aHNPZmZzZXQsIm0iKS5kYXkoYS5vcHRpb25zLmNhbGVuZGFyLm1pbkRheSkuYWRkKC0xLCJkIikuY29tcGFyZVRvKGIpfSxkYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRyYXdEYXRlLm5ld0RhdGUoKS5hZGQoLWEub3B0aW9ucy5tb250aHNUb1N0ZXAtYS5vcHRpb25zLm1vbnRoc09mZnNldCwibSIpLmRheShhLm9wdGlvbnMuY2FsZW5kYXIubWluRGF5KX0sYWN0aW9uOmZ1bmN0aW9uKGEpe2MuY2hhbmdlTW9udGgodGhpcywtYS5vcHRpb25zLm1vbnRoc1RvU3RlcCl9fSxwcmV2SnVtcDp7dGV4dDoicHJldkp1bXBUZXh0IixzdGF0dXM6InByZXZKdW1wU3RhdHVzIixrZXlzdHJva2U6e2tleUNvZGU6MzMsY3RybEtleTohMH0sZW5hYmxlZDpmdW5jdGlvbihhKXt2YXIgYj1hLmN1ck1pbkRhdGUoKTtyZXR1cm4hYnx8LTEhPT1hLmRyYXdEYXRlLm5ld0RhdGUoKS5hZGQoMS1hLm9wdGlvbnMubW9udGhzVG9KdW1wLWEub3B0aW9ucy5tb250aHNPZmZzZXQsIm0iKS5kYXkoYS5vcHRpb25zLmNhbGVuZGFyLm1pbkRheSkuYWRkKC0xLCJkIikuY29tcGFyZVRvKGIpfSxkYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRyYXdEYXRlLm5ld0RhdGUoKS5hZGQoLWEub3B0aW9ucy5tb250aHNUb0p1bXAtYS5vcHRpb25zLm1vbnRoc09mZnNldCwibSIpLmRheShhLm9wdGlvbnMuY2FsZW5kYXIubWluRGF5KX0sYWN0aW9uOmZ1bmN0aW9uKGEpe2MuY2hhbmdlTW9udGgodGhpcywtYS5vcHRpb25zLm1vbnRoc1RvSnVtcCl9fSxuZXh0Ont0ZXh0OiJuZXh0VGV4dCIsc3RhdHVzOiJuZXh0U3RhdHVzIixrZXlzdHJva2U6e2tleUNvZGU6MzR9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXQoIm1heERhdGUiKTtyZXR1cm4hYnx8MSE9PWEuZHJhd0RhdGUubmV3RGF0ZSgpLmFkZChhLm9wdGlvbnMubW9udGhzVG9TdGVwLWEub3B0aW9ucy5tb250aHNPZmZzZXQsIm0iKS5kYXkoYS5vcHRpb25zLmNhbGVuZGFyLm1pbkRheSkuY29tcGFyZVRvKGIpfSxkYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRyYXdEYXRlLm5ld0RhdGUoKS5hZGQoYS5vcHRpb25zLm1vbnRoc1RvU3RlcC1hLm9wdGlvbnMubW9udGhzT2Zmc2V0LCJtIikuZGF5KGEub3B0aW9ucy5jYWxlbmRhci5taW5EYXkpfSxhY3Rpb246ZnVuY3Rpb24oYSl7Yy5jaGFuZ2VNb250aCh0aGlzLGEub3B0aW9ucy5tb250aHNUb1N0ZXApfX0sbmV4dEp1bXA6e3RleHQ6Im5leHRKdW1wVGV4dCIsc3RhdHVzOiJuZXh0SnVtcFN0YXR1cyIsa2V5c3Ryb2tlOntrZXlDb2RlOjM0LGN0cmxLZXk6ITB9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXQoIm1heERhdGUiKTtyZXR1cm4hYnx8MSE9PWEuZHJhd0RhdGUubmV3RGF0ZSgpLmFkZChhLm9wdGlvbnMubW9udGhzVG9KdW1wLWEub3B0aW9ucy5tb250aHNPZmZzZXQsIm0iKS5kYXkoYS5vcHRpb25zLmNhbGVuZGFyLm1pbkRheSkuY29tcGFyZVRvKGIpfSxkYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRyYXdEYXRlLm5ld0RhdGUoKS5hZGQoYS5vcHRpb25zLm1vbnRoc1RvSnVtcC1hLm9wdGlvbnMubW9udGhzT2Zmc2V0LCJtIikuZGF5KGEub3B0aW9ucy5jYWxlbmRhci5taW5EYXkpfSxhY3Rpb246ZnVuY3Rpb24oYSl7Yy5jaGFuZ2VNb250aCh0aGlzLGEub3B0aW9ucy5tb250aHNUb0p1bXApfX0sY3VycmVudDp7dGV4dDoiY3VycmVudFRleHQiLHN0YXR1czoiY3VycmVudFN0YXR1cyIsa2V5c3Ryb2tlOntrZXlDb2RlOjM2LGN0cmxLZXk6ITB9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jdXJNaW5EYXRlKCksYz1hLmdldCgibWF4RGF0ZSIpLGQ9YS5zZWxlY3RlZERhdGVzWzBdfHxhLm9wdGlvbnMuY2FsZW5kYXIudG9kYXkoKTtyZXR1cm4hKGImJi0xPT09ZC5jb21wYXJlVG8oYil8fGMmJjE9PT1kLmNvbXBhcmVUbyhjKSl9LGRhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2VsZWN0ZWREYXRlc1swXXx8YS5vcHRpb25zLmNhbGVuZGFyLnRvZGF5KCl9LGFjdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hLnNlbGVjdGVkRGF0ZXNbMF18fGEub3B0aW9ucy5jYWxlbmRhci50b2RheSgpO2Muc2hvd01vbnRoKHRoaXMsYi55ZWFyKCksYi5tb250aCgpKX19LHRvZGF5Ont0ZXh0OiJ0b2RheVRleHQiLHN0YXR1czoidG9kYXlTdGF0dXMiLGtleXN0cm9rZTp7a2V5Q29kZTozNixjdHJsS2V5OiEwfSxlbmFibGVkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY3VyTWluRGF0ZSgpLGM9YS5nZXQoIm1heERhdGUiKTtyZXR1cm4hKGImJi0xPT09YS5vcHRpb25zLmNhbGVuZGFyLnRvZGF5KCkuY29tcGFyZVRvKGIpfHxjJiYxPT09YS5vcHRpb25zLmNhbGVuZGFyLnRvZGF5KCkuY29tcGFyZVRvKGMpKX0sZGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5vcHRpb25zLmNhbGVuZGFyLnRvZGF5KCl9LGFjdGlvbjpmdW5jdGlvbigpe2Muc2hvd01vbnRoKHRoaXMpfX0sY2xlYXI6e3RleHQ6ImNsZWFyVGV4dCIsc3RhdHVzOiJjbGVhclN0YXR1cyIsa2V5c3Ryb2tlOntrZXlDb2RlOjM1LGN0cmxLZXk6ITB9LGVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGF0ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfSxhY3Rpb246ZnVuY3Rpb24oKXtjLmNsZWFyKHRoaXMpfX0sY2xvc2U6e3RleHQ6ImNsb3NlVGV4dCIsc3RhdHVzOiJjbG9zZVN0YXR1cyIsa2V5c3Ryb2tlOntrZXlDb2RlOjI3fSxlbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sYWN0aW9uOmZ1bmN0aW9uKCl7Yy5oaWRlKHRoaXMpfX0scHJldldlZWs6e3RleHQ6InByZXZXZWVrVGV4dCIsc3RhdHVzOiJwcmV2V2Vla1N0YXR1cyIsa2V5c3Ryb2tlOntrZXlDb2RlOjM4LGN0cmxLZXk6ITB9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jdXJNaW5EYXRlKCk7cmV0dXJuIWJ8fC0xIT09YS5kcmF3RGF0ZS5uZXdEYXRlKCkuYWRkKC1hLm9wdGlvbnMuY2FsZW5kYXIuZGF5c0luV2VlaygpLCJkIikuY29tcGFyZVRvKGIpfSxkYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRyYXdEYXRlLm5ld0RhdGUoKS5hZGQoLWEub3B0aW9ucy5jYWxlbmRhci5kYXlzSW5XZWVrKCksImQiKX0sYWN0aW9uOmZ1bmN0aW9uKGEpe2MuY2hhbmdlRGF5KHRoaXMsLWEub3B0aW9ucy5jYWxlbmRhci5kYXlzSW5XZWVrKCkpfX0scHJldkRheTp7dGV4dDoicHJldkRheVRleHQiLHN0YXR1czoicHJldkRheVN0YXR1cyIsa2V5c3Ryb2tlOntrZXlDb2RlOjM3LGN0cmxLZXk6ITB9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jdXJNaW5EYXRlKCk7cmV0dXJuIWJ8fC0xIT09YS5kcmF3RGF0ZS5uZXdEYXRlKCkuYWRkKC0xLCJkIikuY29tcGFyZVRvKGIpfSxkYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRyYXdEYXRlLm5ld0RhdGUoKS5hZGQoLTEsImQiKX0sYWN0aW9uOmZ1bmN0aW9uKCl7Yy5jaGFuZ2VEYXkodGhpcywtMSl9fSxuZXh0RGF5Ont0ZXh0OiJuZXh0RGF5VGV4dCIsc3RhdHVzOiJuZXh0RGF5U3RhdHVzIixrZXlzdHJva2U6e2tleUNvZGU6MzksY3RybEtleTohMH0sZW5hYmxlZDpmdW5jdGlvbihhKXt2YXIgYj1hLmdldCgibWF4RGF0ZSIpO3JldHVybiFifHwxIT09YS5kcmF3RGF0ZS5uZXdEYXRlKCkuYWRkKDEsImQiKS5jb21wYXJlVG8oYil9LGRhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZHJhd0RhdGUubmV3RGF0ZSgpLmFkZCgxLCJkIil9LGFjdGlvbjpmdW5jdGlvbigpe2MuY2hhbmdlRGF5KHRoaXMsMSl9fSxuZXh0V2Vlazp7dGV4dDoibmV4dFdlZWtUZXh0IixzdGF0dXM6Im5leHRXZWVrU3RhdHVzIixrZXlzdHJva2U6e2tleUNvZGU6NDAsY3RybEtleTohMH0sZW5hYmxlZDpmdW5jdGlvbihhKXt2YXIgYj1hLmdldCgibWF4RGF0ZSIpO3JldHVybiFifHwxIT09YS5kcmF3RGF0ZS5uZXdEYXRlKCkuYWRkKGEub3B0aW9ucy5jYWxlbmRhci5kYXlzSW5XZWVrKCksImQiKS5jb21wYXJlVG8oYil9LGRhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZHJhd0RhdGUubmV3RGF0ZSgpLmFkZChhLm9wdGlvbnMuY2FsZW5kYXIuZGF5c0luV2VlaygpLCJkIil9LGFjdGlvbjpmdW5jdGlvbihhKXtjLmNoYW5nZURheSh0aGlzLGEub3B0aW9ucy5jYWxlbmRhci5kYXlzSW5XZWVrKCkpfX19LGRlZmF1bHRPcHRpb25zOntjYWxlbmRhcjphLmNhbGVuZGFycy5pbnN0YW5jZSgpLHBpY2tlckNsYXNzOiIiLHNob3dPbkZvY3VzOiEwLHNob3dUcmlnZ2VyOm51bGwsc2hvd0FuaW06InNob3ciLHNob3dPcHRpb25zOnt9LHNob3dTcGVlZDoibm9ybWFsIixwb3B1cENvbnRhaW5lcjpudWxsLGFsaWdubWVudDoiYm90dG9tIixmaXhlZFdlZWtzOiExLGZpcnN0RGF5Om51bGwsY2FsY3VsYXRlV2VlazpudWxsLGxvY2FsTnVtYmVyczohMSxtb250aHNUb1Nob3c6MSxtb250aHNPZmZzZXQ6MCxtb250aHNUb1N0ZXA6MSxtb250aHNUb0p1bXA6MTIsdXNlTW91c2VXaGVlbDohMCxjaGFuZ2VNb250aDohMCx5ZWFyUmFuZ2U6ImMtMTA6YysxMCIsc2hvd090aGVyTW9udGhzOiExLHNlbGVjdE90aGVyTW9udGhzOiExLGRlZmF1bHREYXRlOm51bGwsc2VsZWN0RGVmYXVsdERhdGU6ITEsbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbCxkYXRlRm9ybWF0Om51bGwsYXV0b1NpemU6ITEscmFuZ2VTZWxlY3Q6ITEscmFuZ2VTZXBhcmF0b3I6IiAtICIsbXVsdGlTZWxlY3Q6MCxtdWx0aVNlcGFyYXRvcjoiLCIsb25EYXRlOm51bGwsb25TaG93Om51bGwsb25DaGFuZ2VNb250aFllYXI6bnVsbCxvblNlbGVjdDpudWxsLG9uQ2xvc2U6bnVsbCxhbHRGaWVsZDpudWxsLGFsdEZvcm1hdDpudWxsLGNvbnN0cmFpbklucHV0OiEwLGNvbW1hbmRzQXNEYXRlRm9ybWF0OiExLGNvbW1hbmRzOnt9fSxyZWdpb25hbE9wdGlvbnM6eyIiOntyZW5kZXJlcjp7fSxwcmV2VGV4dDoiJmx0O1ByZXYiLHByZXZTdGF0dXM6IlNob3cgdGhlIHByZXZpb3VzIG1vbnRoIixwcmV2SnVtcFRleHQ6IiZsdDsmbHQ7IixwcmV2SnVtcFN0YXR1czoiU2hvdyB0aGUgcHJldmlvdXMgeWVhciIsbmV4dFRleHQ6Ik5leHQmZ3Q7IixuZXh0U3RhdHVzOiJTaG93IHRoZSBuZXh0IG1vbnRoIixuZXh0SnVtcFRleHQ6IiZndDsmZ3Q7IixuZXh0SnVtcFN0YXR1czoiU2hvdyB0aGUgbmV4dCB5ZWFyIixjdXJyZW50VGV4dDoiQ3VycmVudCIsY3VycmVudFN0YXR1czoiU2hvdyB0aGUgY3VycmVudCBtb250aCIsdG9kYXlUZXh0OiJUb2RheSIsdG9kYXlTdGF0dXM6IlNob3cgdG9kYXkncyBtb250aCIsY2xlYXJUZXh0OiJDbGVhciIsY2xlYXJTdGF0dXM6IkNsZWFyIGFsbCB0aGUgZGF0ZXMiLGNsb3NlVGV4dDoiQ2xvc2UiLGNsb3NlU3RhdHVzOiJDbG9zZSB0aGUgZGF0ZXBpY2tlciIseWVhclN0YXR1czoiQ2hhbmdlIHRoZSB5ZWFyIixlYXJsaWVyVGV4dDoiJiMxNjA7JiMxNjA74payIixsYXRlclRleHQ6IiYjMTYwOyYjMTYwO+KWvCIsbW9udGhTdGF0dXM6IkNoYW5nZSB0aGUgbW9udGgiLHdlZWtUZXh0OiJXayIsd2Vla1N0YXR1czoiV2VlayBvZiB0aGUgeWVhciIsZGF5U3RhdHVzOiJTZWxlY3QgREQsIE0gZCwgeXl5eSIsZGVmYXVsdFN0YXR1czoiU2VsZWN0IGEgZGF0ZSIsaXNSVEw6ITF9fSxfZGlzYWJsZWQ6W10sX3BvcHVwQ2xhc3M6ImNhbGVuZGFycy1wb3B1cCIsX3RyaWdnZXJDbGFzczoiY2FsZW5kYXJzLXRyaWdnZXIiLF9kaXNhYmxlQ2xhc3M6ImNhbGVuZGFycy1kaXNhYmxlIixfbW9udGhZZWFyQ2xhc3M6ImNhbGVuZGFycy1tb250aC15ZWFyIixfY3VyTW9udGhDbGFzczoiY2FsZW5kYXJzLW1vbnRoLSIsX2FueVllYXJDbGFzczoiY2FsZW5kYXJzLWFueS15ZWFyIixfY3VyRG9XQ2xhc3M6ImNhbGVuZGFycy1kb3ctIixfaW5pdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdE9wdGlvbnMuY29tbWFuZHM9dGhpcy5jb21tYW5kcyx0aGlzLnJlZ2lvbmFsT3B0aW9uc1siIl0ucmVuZGVyZXI9dGhpcy5kZWZhdWx0UmVuZGVyZXIsdGhpcy5fc3VwZXIoKX0sX2luc3RTZXR0aW5nczpmdW5jdGlvbihiLGMpe3JldHVybntzZWxlY3RlZERhdGVzOltdLGRyYXdEYXRlOm51bGwscGlja2luZ1JhbmdlOiExLGlubGluZTphLmluQXJyYXkoYlswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFsiZGl2Iiwic3BhbiJdKT4tMSxnZXQ6ZnVuY3Rpb24oYil7cmV0dXJuIGEuaW5BcnJheShiLFsiZGVmYXVsdERhdGUiLCJtaW5EYXRlIiwibWF4RGF0ZSJdKT4tMT90aGlzLm9wdGlvbnMuY2FsZW5kYXIuZGV0ZXJtaW5lRGF0ZSh0aGlzLm9wdGlvbnNbYl0sbnVsbCx0aGlzLnNlbGVjdGVkRGF0ZXNbMF0sdGhpcy5nZXQoImRhdGVGb3JtYXQiKSx0aGlzLmdldENvbmZpZygpKToiZGF0ZUZvcm1hdCI9PT1iP3RoaXMub3B0aW9ucy5kYXRlRm9ybWF0fHx0aGlzLm9wdGlvbnMuY2FsZW5kYXIubG9jYWwuZGF0ZUZvcm1hdDp0aGlzLm9wdGlvbnNbYl19LGN1ck1pbkRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waWNraW5nUmFuZ2U/dGhpcy5zZWxlY3RlZERhdGVzWzBdOnRoaXMuZ2V0KCJtaW5EYXRlIil9LGdldENvbmZpZzpmdW5jdGlvbigpe3JldHVybntkYXlOYW1lc1Nob3J0OnRoaXMub3B0aW9ucy5kYXlOYW1lc1Nob3J0LGRheU5hbWVzOnRoaXMub3B0aW9ucy5kYXlOYW1lcyxtb250aE5hbWVzU2hvcnQ6dGhpcy5vcHRpb25zLm1vbnRoTmFtZXNTaG9ydCxtb250aE5hbWVzOnRoaXMub3B0aW9ucy5tb250aE5hbWVzLGNhbGN1bGF0ZVdlZWs6dGhpcy5vcHRpb25zLmNhbGN1bGF0ZVdlZWssc2hvcnRZZWFyQ3V0b2ZmOnRoaXMub3B0aW9ucy5zaG9ydFllYXJDdXRvZmZ9fX19LF9wb3N0QXR0YWNoOmZ1bmN0aW9uKGIsZCl7ZC5pbmxpbmU/KGQuZHJhd0RhdGU9Yy5fY2hlY2tNaW5NYXgoKGQuc2VsZWN0ZWREYXRlc1swXXx8ZC5nZXQoImRlZmF1bHREYXRlIil8fGQub3B0aW9ucy5jYWxlbmRhci50b2RheSgpKS5uZXdEYXRlKCksZCksZC5wcmV2RGF0ZT1kLmRyYXdEYXRlLm5ld0RhdGUoKSx0aGlzLl91cGRhdGUoYlswXSksYS5mbi5tb3VzZXdoZWVsJiZiLm1vdXNld2hlZWwodGhpcy5fZG9Nb3VzZVdoZWVsKSk6KHRoaXMuX2F0dGFjaG1lbnRzKGIsZCksYi5vbigia2V5ZG93bi4iK2QubmFtZSx0aGlzLl9rZXlEb3duKS5vbigia2V5cHJlc3MuIitkLm5hbWUsdGhpcy5fa2V5UHJlc3MpLm9uKCJrZXl1cC4iK2QubmFtZSx0aGlzLl9rZXlVcCksYi5hdHRyKCJkaXNhYmxlZCIpJiZ0aGlzLmRpc2FibGUoYlswXSkpfSxfb3B0aW9uc0NoYW5nZWQ6ZnVuY3Rpb24oYixjLGQpe2lmKGQuY2FsZW5kYXImJmQuY2FsZW5kYXIhPT1jLm9wdGlvbnMuY2FsZW5kYXIpe3ZhciBlPWZ1bmN0aW9uKGEpe3JldHVybiJvYmplY3QiPT10eXBlb2YgYy5vcHRpb25zW2FdP251bGw6Yy5vcHRpb25zW2FdfTtkPWEuZXh0ZW5kKHtkZWZhdWx0RGF0ZTplKCJkZWZhdWx0RGF0ZSIpLG1pbkRhdGU6ZSgibWluRGF0ZSIpLG1heERhdGU6ZSgibWF4RGF0ZSIpfSxkKSxjLnNlbGVjdGVkRGF0ZXM9W10sYy5kcmF3RGF0ZT1udWxsfXZhciBmPWMuc2VsZWN0ZWREYXRlczthLmV4dGVuZChjLm9wdGlvbnMsZCksdGhpcy5zZXREYXRlKGJbMF0sZixudWxsLCExLCEwKSxjLnBpY2tpbmdSYW5nZT0hMTt2YXIgZz1jLm9wdGlvbnMuY2FsZW5kYXIsaD1jLmdldCgiZGVmYXVsdERhdGUiKTtjLmRyYXdEYXRlPXRoaXMuX2NoZWNrTWluTWF4KGh8fGMuZHJhd0RhdGV8fGh8fGcudG9kYXkoKSxjKS5uZXdEYXRlKCksYy5pbmxpbmV8fHRoaXMuX2F0dGFjaG1lbnRzKGIsYyksKGMuaW5saW5lfHxjLmRpdikmJnRoaXMuX3VwZGF0ZShiWzBdKX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKGIsZCl7Yi5vZmYoImZvY3VzLiIrZC5uYW1lKSxkLm9wdGlvbnMuc2hvd09uRm9jdXMmJmIub24oImZvY3VzLiIrZC5uYW1lLHRoaXMuc2hvdyksZC50cmlnZ2VyJiZkLnRyaWdnZXIucmVtb3ZlKCk7dmFyIGU9ZC5vcHRpb25zLnNob3dUcmlnZ2VyO2QudHJpZ2dlcj1lP2EoZSkuY2xvbmUoKS5yZW1vdmVBdHRyKCJpZCIpLmFkZENsYXNzKHRoaXMuX3RyaWdnZXJDbGFzcylbZC5vcHRpb25zLmlzUlRMPyJpbnNlcnRCZWZvcmUiOiJpbnNlcnRBZnRlciJdKGIpLmNsaWNrKGZ1bmN0aW9uKCl7Yy5pc0Rpc2FibGVkKGJbMF0pfHxjW2MuY3VySW5zdD09PWQ/ImhpZGUiOiJzaG93Il0oYlswXSl9KTphKFtdKSx0aGlzLl9hdXRvU2l6ZShiLGQpO3ZhciBmPXRoaXMuX2V4dHJhY3REYXRlcyhkLGIudmFsKCkpO2YmJnRoaXMuc2V0RGF0ZShiWzBdLGYsbnVsbCwhMCk7dmFyIGc9ZC5nZXQoImRlZmF1bHREYXRlIik7ZC5vcHRpb25zLnNlbGVjdERlZmF1bHREYXRlJiZnJiYwPT09ZC5zZWxlY3RlZERhdGVzLmxlbmd0aCYmdGhpcy5zZXREYXRlKGJbMF0sKGd8fGQub3B0aW9ucy5jYWxlbmRhci50b2RheSgpKS5uZXdEYXRlKCkpfSxfYXV0b1NpemU6ZnVuY3Rpb24oYSxiKXtpZihiLm9wdGlvbnMuYXV0b1NpemUmJiFiLmlubGluZSl7dmFyIGM9Yi5vcHRpb25zLmNhbGVuZGFyLGQ9Yy5uZXdEYXRlKDIwMDksMTAsMjApLGU9Yi5nZXQoImRhdGVGb3JtYXQiKTtpZihlLm1hdGNoKC9bRE1dLykpe3ZhciBmPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9MCxkPTA7ZDxhLmxlbmd0aDtkKyspYVtkXS5sZW5ndGg+YiYmKGI9YVtkXS5sZW5ndGgsYz1kKTtyZXR1cm4gY307ZC5tb250aChmKGMubG9jYWxbZS5tYXRjaCgvTU0vKT8ibW9udGhOYW1lcyI6Im1vbnRoTmFtZXNTaG9ydCJdKSsxKSxkLmRheShmKGMubG9jYWxbZS5tYXRjaCgvREQvKT8iZGF5TmFtZXMiOiJkYXlOYW1lc1Nob3J0Il0pKzIwLWQuZGF5T2ZXZWVrKCkpfWIuZWxlbS5hdHRyKCJzaXplIixkLmZvcm1hdERhdGUoZSx7bG9jYWxOdW1iZXJzOmIub3B0aW9ucy5sb2NhbG51bWJlcnN9KS5sZW5ndGgpfX0sX3ByZURlc3Ryb3k6ZnVuY3Rpb24oYixjKXtjLnRyaWdnZXImJmMudHJpZ2dlci5yZW1vdmUoKSxiLmVtcHR5KCkub2ZmKCIuIitjLm5hbWUpLGMuaW5saW5lJiZhLmZuLm1vdXNld2hlZWwmJmIudW5tb3VzZXdoZWVsKCksIWMuaW5saW5lJiZjLm9wdGlvbnMuYXV0b1NpemUmJmIucmVtb3ZlQXR0cigic2l6ZSIpfSxtdWx0aXBsZUV2ZW50czpmdW5jdGlvbihhKXt2YXIgYj1hcmd1bWVudHM7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxiLmxlbmd0aDthKyspYlthXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxlbmFibGU6ZnVuY3Rpb24oYil7aWYoYj1hKGIpLGIuaGFzQ2xhc3ModGhpcy5fZ2V0TWFya2VyKCkpKXt2YXIgYz10aGlzLl9nZXRJbnN0KGIpO2MuaW5saW5lP2IuY2hpbGRyZW4oIi4iK3RoaXMuX2Rpc2FibGVDbGFzcykucmVtb3ZlKCkuZW5kKCkuZmluZCgiYnV0dG9uLHNlbGVjdCIpLnByb3AoImRpc2FibGVkIiwhMSkuZW5kKCkuZmluZCgiYSIpLmF0dHIoImhyZWYiLCIjIik6KGIucHJvcCgiZGlzYWJsZWQiLCExKSxjLnRyaWdnZXIuZmlsdGVyKCJidXR0b24uIit0aGlzLl90cmlnZ2VyQ2xhc3MpLnByb3AoImRpc2FibGVkIiwhMSkuZW5kKCkuZmlsdGVyKCJpbWcuIit0aGlzLl90cmlnZ2VyQ2xhc3MpLmNzcyh7b3BhY2l0eToiMS4wIixjdXJzb3I6IiJ9KSksdGhpcy5fZGlzYWJsZWQ9YS5tYXAodGhpcy5fZGlzYWJsZWQsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iWzBdP251bGw6YX0pfX0sZGlzYWJsZTpmdW5jdGlvbihiKXtpZihiPWEoYiksYi5oYXNDbGFzcyh0aGlzLl9nZXRNYXJrZXIoKSkpe3ZhciBjPXRoaXMuX2dldEluc3QoYik7aWYoYy5pbmxpbmUpe3ZhciBkPWIuY2hpbGRyZW4oIjpsYXN0IiksZT1kLm9mZnNldCgpLGY9e2xlZnQ6MCx0b3A6MH07ZC5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe2lmKCJyZWxhdGl2ZSI9PT1hKHRoaXMpLmNzcygicG9zaXRpb24iKSlyZXR1cm4gZj1hKHRoaXMpLm9mZnNldCgpLCExfSk7dmFyIGc9Yi5jc3MoInpJbmRleCIpO2c9KCJhdXRvIj09PWc/MDpwYXJzZUludChnLDEwKSkrMSxiLnByZXBlbmQoJzxkaXYgY2xhc3M9IicrdGhpcy5fZGlzYWJsZUNsYXNzKyciIHN0eWxlPSJ3aWR0aDogJytkLm91dGVyV2lkdGgoKSsicHg7IGhlaWdodDogIitkLm91dGVySGVpZ2h0KCkrInB4OyBsZWZ0OiAiKyhlLmxlZnQtZi5sZWZ0KSsicHg7IHRvcDogIisoZS50b3AtZi50b3ApKyJweDsgei1pbmRleDogIitnKyciPjwvZGl2PicpLmZpbmQoImJ1dHRvbixzZWxlY3QiKS5wcm9wKCJkaXNhYmxlZCIsITApLmVuZCgpLmZpbmQoImEiKS5yZW1vdmVBdHRyKCJocmVmIil9ZWxzZSBiLnByb3AoImRpc2FibGVkIiwhMCksYy50cmlnZ2VyLmZpbHRlcigiYnV0dG9uLiIrdGhpcy5fdHJpZ2dlckNsYXNzKS5wcm9wKCJkaXNhYmxlZCIsITApLmVuZCgpLmZpbHRlcigiaW1nLiIrdGhpcy5fdHJpZ2dlckNsYXNzKS5jc3Moe29wYWNpdHk6IjAuNSIsY3Vyc29yOiJkZWZhdWx0In0pO3RoaXMuX2Rpc2FibGVkPWEubWFwKHRoaXMuX2Rpc2FibGVkLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09YlswXT9udWxsOmF9KSx0aGlzLl9kaXNhYmxlZC5wdXNoKGJbMF0pfX0saXNEaXNhYmxlZDpmdW5jdGlvbihiKXtyZXR1cm4gYiYmYS5pbkFycmF5KGIsdGhpcy5fZGlzYWJsZWQpPi0xfSxzaG93OmZ1bmN0aW9uKGIpe2I9YShiLnRhcmdldHx8Yik7dmFyIGQ9Yy5fZ2V0SW5zdChiKTtpZihjLmN1ckluc3QhPT1kJiYoYy5jdXJJbnN0JiZjLmhpZGUoYy5jdXJJbnN0LCEwKSwhYS5pc0VtcHR5T2JqZWN0KGQpKSl7ZC5sYXN0VmFsPW51bGwsZC5zZWxlY3RlZERhdGVzPWMuX2V4dHJhY3REYXRlcyhkLGIudmFsKCkpLGQucGlja2luZ1JhbmdlPSExLGQuZHJhd0RhdGU9Yy5fY2hlY2tNaW5NYXgoKGQuc2VsZWN0ZWREYXRlc1swXXx8ZC5nZXQoImRlZmF1bHREYXRlIil8fGQub3B0aW9ucy5jYWxlbmRhci50b2RheSgpKS5uZXdEYXRlKCksZCksZC5wcmV2RGF0ZT1kLmRyYXdEYXRlLm5ld0RhdGUoKSxjLmN1ckluc3Q9ZCxjLl91cGRhdGUoYlswXSwhMCk7dmFyIGU9Yy5fY2hlY2tPZmZzZXQoZCk7ZC5kaXYuY3NzKHtsZWZ0OmUubGVmdCx0b3A6ZS50b3B9KTt2YXIgZj1kLm9wdGlvbnMuc2hvd0FuaW0sZz1kLm9wdGlvbnMuc2hvd1NwZWVkO2lmKGc9Im5vcm1hbCI9PT1nJiZhLnVpJiZwYXJzZUludChhLnVpLnZlcnNpb24uc3Vic3RyaW5nKDIpKT49OD8iX2RlZmF1bHQiOmcsYS5lZmZlY3RzJiYoYS5lZmZlY3RzW2ZdfHxhLmVmZmVjdHMuZWZmZWN0JiZhLmVmZmVjdHMuZWZmZWN0W2ZdKSl7dmFyIGg9ZC5kaXYuZGF0YSgpO2Zvcih2YXIgaSBpbiBoKWkubWF0Y2goL15lY1wuc3RvcmFnZVwuLykmJihoW2ldPWQuX21haW5EaXYuY3NzKGkucmVwbGFjZSgvZWNcLnN0b3JhZ2VcLi8sIiIpKSk7ZC5kaXYuZGF0YShoKS5zaG93KGYsZC5vcHRpb25zLnNob3dPcHRpb25zLGcpfWVsc2UgZC5kaXZbZnx8InNob3ciXShmP2c6MCl9fSxfZXh0cmFjdERhdGVzOmZ1bmN0aW9uKGEsYil7aWYoYiE9PWEubGFzdFZhbCl7YS5sYXN0VmFsPWIsYj1iLnNwbGl0KGEub3B0aW9ucy5tdWx0aVNlbGVjdD9hLm9wdGlvbnMubXVsdGlTZXBhcmF0b3I6YS5vcHRpb25zLnJhbmdlU2VsZWN0P2Eub3B0aW9ucy5yYW5nZVNlcGFyYXRvcjoiXDAiKTtmb3IodmFyIGM9W10sZD0wO2Q8Yi5sZW5ndGg7ZCsrKXRyeXt2YXIgZT1hLm9wdGlvbnMuY2FsZW5kYXIucGFyc2VEYXRlKGEuZ2V0KCJkYXRlRm9ybWF0IiksYltkXSk7aWYoZSl7Zm9yKHZhciBmPSExLGc9MDtnPGMubGVuZ3RoO2crKylpZigwPT09Y1tnXS5jb21wYXJlVG8oZSkpe2Y9ITA7YnJlYWt9Znx8Yy5wdXNoKGUpfX1jYXRjaChhKXt9cmV0dXJuIGMuc3BsaWNlKGEub3B0aW9ucy5tdWx0aVNlbGVjdHx8KGEub3B0aW9ucy5yYW5nZVNlbGVjdD8yOjEpLGMubGVuZ3RoKSxhLm9wdGlvbnMucmFuZ2VTZWxlY3QmJjE9PT1jLmxlbmd0aCYmKGNbMV09Y1swXSksY319LF91cGRhdGU6ZnVuY3Rpb24oYixkKXtiPWEoYi50YXJnZXR8fGIpO3ZhciBlPWMuX2dldEluc3QoYik7aWYoIWEuaXNFbXB0eU9iamVjdChlKSlpZigoZS5pbmxpbmV8fGMuY3VySW5zdD09PWUpJiYoIWEuaXNGdW5jdGlvbihlLm9wdGlvbnMub25DaGFuZ2VNb250aFllYXIpfHxlLnByZXZEYXRlJiZlLnByZXZEYXRlLnllYXIoKT09PWUuZHJhd0RhdGUueWVhcigpJiZlLnByZXZEYXRlLm1vbnRoKCk9PT1lLmRyYXdEYXRlLm1vbnRoKCl8fGUub3B0aW9ucy5vbkNoYW5nZU1vbnRoWWVhci5hcHBseShiWzBdLFtlLmRyYXdEYXRlLnllYXIoKSxlLmRyYXdEYXRlLm1vbnRoKCldKSksZS5pbmxpbmUpe3ZhciBmPWEoImEsIDppbnB1dCIsYikuaW5kZXgoYSgiOmZvY3VzIixiKSk7Yi5odG1sKHRoaXMuX2dlbmVyYXRlQ29udGVudChiWzBdLGUpKTt2YXIgZz1iLmZpbmQoImEsIDppbnB1dCIpO2cuZXEoTWF0aC5tYXgoTWF0aC5taW4oZixnLmxlbmd0aC0xKSwwKSkuZm9jdXMoKX1lbHNlIGMuY3VySW5zdD09PWUmJihlLmRpdnx8KGUuZGl2PWEoIjxkaXY+PC9kaXY+IikuYWRkQ2xhc3ModGhpcy5fcG9wdXBDbGFzcykuY3NzKHtkaXNwbGF5OmQ/Im5vbmUiOiJzdGF0aWMiLHBvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDpiLm9mZnNldCgpLmxlZnQsdG9wOmIub2Zmc2V0KCkudG9wK2Iub3V0ZXJIZWlnaHQoKX0pLmFwcGVuZFRvKGEoZS5vcHRpb25zLnBvcHVwQ29udGFpbmVyfHwiYm9keSIpKSxhLmZuLm1vdXNld2hlZWwmJmUuZGl2Lm1vdXNld2hlZWwodGhpcy5fZG9Nb3VzZVdoZWVsKSksZS5kaXYuaHRtbCh0aGlzLl9nZW5lcmF0ZUNvbnRlbnQoYlswXSxlKSksYi5mb2N1cygpKX0sX3VwZGF0ZUlucHV0OmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5fZ2V0SW5zdChiKTtpZighYS5pc0VtcHR5T2JqZWN0KGQpKXtmb3IodmFyIGU9IiIsZj0iIixnPWQub3B0aW9ucy5tdWx0aVNlbGVjdD9kLm9wdGlvbnMubXVsdGlTZXBhcmF0b3I6ZC5vcHRpb25zLnJhbmdlU2VwYXJhdG9yLGg9ZC5vcHRpb25zLmNhbGVuZGFyLGk9ZC5nZXQoImRhdGVGb3JtYXQiKSxqPWQub3B0aW9ucy5hbHRGb3JtYXR8fGksaz17bG9jYWxOdW1iZXJzOmQub3B0aW9ucy5sb2NhbE51bWJlcnN9LGw9MDtsPGQuc2VsZWN0ZWREYXRlcy5sZW5ndGg7bCsrKWUrPWM/IiI6KGw+MD9nOiIiKStoLmZvcm1hdERhdGUoaSxkLnNlbGVjdGVkRGF0ZXNbbF0sayksZis9KGw+MD9nOiIiKStoLmZvcm1hdERhdGUoaixkLnNlbGVjdGVkRGF0ZXNbbF0sayk7ZC5pbmxpbmV8fGN8fGEoYikudmFsKGUpLGEoZC5vcHRpb25zLmFsdEZpZWxkKS52YWwoZiksIWEuaXNGdW5jdGlvbihkLm9wdGlvbnMub25TZWxlY3QpfHxjfHxkLmluU2VsZWN0fHwoZC5pblNlbGVjdD0hMCxkLm9wdGlvbnMub25TZWxlY3QuYXBwbHkoYixbZC5zZWxlY3RlZERhdGVzXSksZC5pblNlbGVjdD0hMSksYShiKS5jaGFuZ2UoKX19LF9nZXRCb3JkZXJzOmZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybnt0aGluOjEsbWVkaXVtOjMsdGhpY2s6NX1bYV18fGF9O3JldHVybltwYXJzZUZsb2F0KGIoYS5jc3MoImJvcmRlci1sZWZ0LXdpZHRoIikpKSxwYXJzZUZsb2F0KGIoYS5jc3MoImJvcmRlci10b3Atd2lkdGgiKSkpXX0sX2NoZWNrT2Zmc2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWIuZWxlbS5pcygiOmhpZGRlbiIpJiZiLnRyaWdnZXI/Yi50cmlnZ2VyOmIuZWxlbSxkPWMub2Zmc2V0KCksZT1hKHdpbmRvdykud2lkdGgoKSxmPWEod2luZG93KS5oZWlnaHQoKTtpZigwPT09ZSlyZXR1cm4gZDt2YXIgZz0hMTthKGIuZWxlbSkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4hKGc9Z3x8ImZpeGVkIj09PWEodGhpcykuY3NzKCJwb3NpdGlvbiIpKX0pO3ZhciBoPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsaT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCxqPWQudG9wLShnP2k6MCktYi5kaXYub3V0ZXJIZWlnaHQoKSxrPWQudG9wLShnP2k6MCkrYy5vdXRlckhlaWdodCgpLGw9ZC5sZWZ0LShnP2g6MCksbT1kLmxlZnQtKGc/aDowKStjLm91dGVyV2lkdGgoKS1iLmRpdi5vdXRlcldpZHRoKCksbj1kLmxlZnQtaCtiLmRpdi5vdXRlcldpZHRoKCk+ZSxvPWQudG9wLWkrYi5lbGVtLm91dGVySGVpZ2h0KCkrYi5kaXYub3V0ZXJIZWlnaHQoKT5mO2IuZGl2LmNzcygicG9zaXRpb24iLGc/ImZpeGVkIjoiYWJzb2x1dGUiKTt2YXIgcD1iLm9wdGlvbnMuYWxpZ25tZW50O3JldHVybiBkPSJ0b3BMZWZ0Ij09PXA/e2xlZnQ6bCx0b3A6an06InRvcFJpZ2h0Ij09PXA/e2xlZnQ6bSx0b3A6an06ImJvdHRvbUxlZnQiPT09cD97bGVmdDpsLHRvcDprfToiYm90dG9tUmlnaHQiPT09cD97bGVmdDptLHRvcDprfToidG9wIj09PXA/e2xlZnQ6Yi5vcHRpb25zLmlzUlRMfHxuP206bCx0b3A6an06e2xlZnQ6Yi5vcHRpb25zLmlzUlRMfHxuP206bCx0b3A6bz9qOmt9LGQubGVmdD1NYXRoLm1heChnPzA6aCxkLmxlZnQpLGQudG9wPU1hdGgubWF4KGc/MDppLGQudG9wKSxkfSxfY2hlY2tFeHRlcm5hbENsaWNrOmZ1bmN0aW9uKGIpe2lmKGMuY3VySW5zdCl7dmFyIGQ9YShiLnRhcmdldCk7MCE9PWQuY2xvc2VzdCgiLiIrYy5fcG9wdXBDbGFzcysiLC4iK2MuX3RyaWdnZXJDbGFzcykubGVuZ3RofHxkLmhhc0NsYXNzKGMuX2dldE1hcmtlcigpKXx8Yy5oaWRlKGMuY3VySW5zdCl9fSxoaWRlOmZ1bmN0aW9uKGIsZCl7aWYoYil7dmFyIGU9dGhpcy5fZ2V0SW5zdChiKTtpZihhLmlzRW1wdHlPYmplY3QoZSkmJihlPWIpLGUmJmU9PT1jLmN1ckluc3Qpe3ZhciBmPWQ/IiI6ZS5vcHRpb25zLnNob3dBbmltLGc9ZS5vcHRpb25zLnNob3dTcGVlZDtnPSJub3JtYWwiPT09ZyYmYS51aSYmcGFyc2VJbnQoYS51aS52ZXJzaW9uLnN1YnN0cmluZygyKSk+PTg/Il9kZWZhdWx0IjpnO3ZhciBoPWZ1bmN0aW9uKCl7ZS5kaXYmJihlLmRpdi5yZW1vdmUoKSxlLmRpdj1udWxsLGMuY3VySW5zdD1udWxsLGEuaXNGdW5jdGlvbihlLm9wdGlvbnMub25DbG9zZSkmJmUub3B0aW9ucy5vbkNsb3NlLmFwcGx5KGIsW2Uuc2VsZWN0ZWREYXRlc10pKX07aWYoZS5kaXYuc3RvcCgpLGEuZWZmZWN0cyYmKGEuZWZmZWN0c1tmXXx8YS5lZmZlY3RzLmVmZmVjdCYmYS5lZmZlY3RzLmVmZmVjdFtmXSkpZS5kaXYuaGlkZShmLGUub3B0aW9ucy5zaG93T3B0aW9ucyxnLGgpO2Vsc2V7dmFyIGk9InNsaWRlRG93biI9PT1mPyJzbGlkZVVwIjoiZmFkZUluIj09PWY/ImZhZGVPdXQiOiJoaWRlIjtlLmRpdltpXShmP2c6IiIsaCl9Znx8aCgpfX19LF9rZXlEb3duOmZ1bmN0aW9uKGIpe3ZhciBkLGU9Yi5kYXRhJiZiLmRhdGEuZWxlbXx8Yi50YXJnZXQsZj1jLl9nZXRJbnN0KGUpLGc9ITE7aWYoZi5pbmxpbmV8fGYuZGl2KWlmKDk9PT1iLmtleUNvZGUpYy5oaWRlKGUpO2Vsc2UgaWYoMTM9PT1iLmtleUNvZGUpYy5zZWxlY3REYXRlKGUsYSgiYS4iK2Yub3B0aW9ucy5yZW5kZXJlci5oaWdobGlnaHRlZENsYXNzLGYuZGl2KVswXSksZz0hMDtlbHNle3ZhciBoPWYub3B0aW9ucy5jb21tYW5kcztmb3IodmFyIGkgaW4gaClpZihmLm9wdGlvbnMuY29tbWFuZHMuaGFzT3duUHJvcGVydHkoaSkmJihkPWhbaV0sZC5rZXlzdHJva2Uua2V5Q29kZT09PWIua2V5Q29kZSYmISFkLmtleXN0cm9rZS5jdHJsS2V5PT0hKCFiLmN0cmxLZXkmJiFiLm1ldGFLZXkpJiYhIWQua2V5c3Ryb2tlLmFsdEtleT09PWIuYWx0S2V5JiYhIWQua2V5c3Ryb2tlLnNoaWZ0S2V5PT09Yi5zaGlmdEtleSkpe2MucGVyZm9ybUFjdGlvbihlLGkpLGc9ITA7YnJlYWt9fWVsc2UgZD1mLm9wdGlvbnMuY29tbWFuZHMuY3VycmVudCxkLmtleXN0cm9rZS5rZXlDb2RlPT09Yi5rZXlDb2RlJiYhIWQua2V5c3Ryb2tlLmN0cmxLZXk9PSEoIWIuY3RybEtleSYmIWIubWV0YUtleSkmJiEhZC5rZXlzdHJva2UuYWx0S2V5PT09Yi5hbHRLZXkmJiEhZC5rZXlzdHJva2Uuc2hpZnRLZXk9PT1iLnNoaWZ0S2V5JiYoYy5zaG93KGUpLGc9ITApO3JldHVybiBmLmN0cmxLZXk9Yi5rZXlDb2RlPDQ4JiYzMiE9PWIua2V5Q29kZXx8Yi5jdHJsS2V5fHxiLm1ldGFLZXksZyYmKGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpKSwhZ30sX2tleVByZXNzOmZ1bmN0aW9uKGIpe3ZhciBkPWMuX2dldEluc3QoYi5kYXRhJiZiLmRhdGEuZWxlbXx8Yi50YXJnZXQpO2lmKCFhLmlzRW1wdHlPYmplY3QoZCkmJmQub3B0aW9ucy5jb25zdHJhaW5JbnB1dCl7dmFyIGU9U3RyaW5nLmZyb21DaGFyQ29kZShiLmtleUNvZGV8fGIuY2hhckNvZGUpLGY9Yy5fYWxsb3dlZENoYXJzKGQpO3JldHVybiBiLm1ldGFLZXl8fGQuY3RybEtleXx8ZTwiICJ8fCFmfHxmLmluZGV4T2YoZSk+LTF9cmV0dXJuITB9LF9hbGxvd2VkQ2hhcnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEub3B0aW9ucy5tdWx0aVNlbGVjdD9hLm9wdGlvbnMubXVsdGlTZXBhcmF0b3I6YS5vcHRpb25zLnJhbmdlU2VsZWN0P2Eub3B0aW9ucy5yYW5nZVNlcGFyYXRvcjoiIixjPSExLGQ9ITEsZT1hLmdldCgiZGF0ZUZvcm1hdCIpLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZS5jaGFyQXQoZik7aWYoYykiJyI9PT1nJiYiJyIhPT1lLmNoYXJBdChmKzEpP2M9ITE6Yis9ZztlbHNlIHN3aXRjaChnKXtjYXNlImQiOmNhc2UibSI6Y2FzZSJvIjpjYXNlInciOmIrPWQ/IiI6IjAxMjM0NTY3ODkiLGQ9ITA7YnJlYWs7Y2FzZSJ5IjpjYXNlIkAiOmNhc2UiISI6Yis9KGQ/IiI6IjAxMjM0NTY3ODkiKSsiLSIsZD0hMDticmVhaztjYXNlIkoiOmIrPShkPyIiOiIwMTIzNDU2Nzg5IikrIi0uIixkPSEwO2JyZWFrO2Nhc2UiRCI6Y2FzZSJNIjpjYXNlIlkiOnJldHVybiBudWxsO2Nhc2UiJyI6IiciPT09ZS5jaGFyQXQoZisxKT9iKz0iJyI6Yz0hMDticmVhaztkZWZhdWx0OmIrPWd9fXJldHVybiBifSxfa2V5VXA6ZnVuY3Rpb24oYil7dmFyIGQ9Yi5kYXRhJiZiLmRhdGEuZWxlbXx8Yi50YXJnZXQsZT1jLl9nZXRJbnN0KGQpO2lmKCFhLmlzRW1wdHlPYmplY3QoZSkmJiFlLmN0cmxLZXkmJmUubGFzdFZhbCE9PWUuZWxlbS52YWwoKSl0cnl7dmFyIGY9Yy5fZXh0cmFjdERhdGVzKGUsZS5lbGVtLnZhbCgpKTtmLmxlbmd0aD4wJiZjLnNldERhdGUoZCxmLG51bGwsITApfWNhdGNoKGEpe31yZXR1cm4hMH0sX2RvTW91c2VXaGVlbDpmdW5jdGlvbihiLGQpe3ZhciBlPWMuY3VySW5zdCYmYy5jdXJJbnN0LmVsZW1bMF18fGEoYi50YXJnZXQpLmNsb3Nlc3QoIi4iK2MuX2dldE1hcmtlcigpKVswXTtpZighYy5pc0Rpc2FibGVkKGUpKXt2YXIgZj1jLl9nZXRJbnN0KGUpO2Yub3B0aW9ucy51c2VNb3VzZVdoZWVsJiYoZD1kPDA/LTE6MSxjLmNoYW5nZU1vbnRoKGUsLWYub3B0aW9uc1tiLmN0cmxLZXk/Im1vbnRoc1RvSnVtcCI6Im1vbnRoc1RvU3RlcCJdKmQpKSxiLnByZXZlbnREZWZhdWx0KCl9fSxjbGVhcjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl9nZXRJbnN0KGIpO2lmKCFhLmlzRW1wdHlPYmplY3QoYykpe2Muc2VsZWN0ZWREYXRlcz1bXSx0aGlzLmhpZGUoYik7dmFyIGQ9Yy5nZXQoImRlZmF1bHREYXRlIik7Yy5vcHRpb25zLnNlbGVjdERlZmF1bHREYXRlJiZkP3RoaXMuc2V0RGF0ZShiLChkfHxjLm9wdGlvbnMuY2FsZW5kYXIudG9kYXkoKSkubmV3RGF0ZSgpKTp0aGlzLl91cGRhdGVJbnB1dChiKX19LGdldERhdGU6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fZ2V0SW5zdChiKTtyZXR1cm4gYS5pc0VtcHR5T2JqZWN0KGMpP1tdOmMuc2VsZWN0ZWREYXRlc30sc2V0RGF0ZTpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnPXRoaXMuX2dldEluc3QoYik7aWYoIWEuaXNFbXB0eU9iamVjdChnKSl7YS5pc0FycmF5KGMpfHwoYz1bY10sZCYmYy5wdXNoKGQpKTt2YXIgaD1nLmdldCgibWluRGF0ZSIpLGk9Zy5nZXQoIm1heERhdGUiKSxqPWcuc2VsZWN0ZWREYXRlc1swXTtnLnNlbGVjdGVkRGF0ZXM9W107Zm9yKHZhciBrPTA7azxjLmxlbmd0aDtrKyspe3ZhciBsPWcub3B0aW9ucy5jYWxlbmRhci5kZXRlcm1pbmVEYXRlKGNba10sbnVsbCxqLGcuZ2V0KCJkYXRlRm9ybWF0IiksZy5nZXRDb25maWcoKSk7aWYobCYmIShoJiYtMT09PWwuY29tcGFyZVRvKGgpfHxpJiYxPT09bC5jb21wYXJlVG8oaSkpKXtmb3IodmFyIG09ITEsbj0wO248Zy5zZWxlY3RlZERhdGVzLmxlbmd0aDtuKyspaWYoMD09PWcuc2VsZWN0ZWREYXRlc1tuXS5jb21wYXJlVG8obCkpe209ITA7YnJlYWt9bXx8Zy5zZWxlY3RlZERhdGVzLnB1c2gobCl9fWlmKGcuc2VsZWN0ZWREYXRlcy5zcGxpY2UoZy5vcHRpb25zLm11bHRpU2VsZWN0fHwoZy5vcHRpb25zLnJhbmdlU2VsZWN0PzI6MSksZy5zZWxlY3RlZERhdGVzLmxlbmd0aCksZy5vcHRpb25zLnJhbmdlU2VsZWN0KXtzd2l0Y2goZy5zZWxlY3RlZERhdGVzLmxlbmd0aCl7Y2FzZSAxOmcuc2VsZWN0ZWREYXRlc1sxXT1nLnNlbGVjdGVkRGF0ZXNbMF07YnJlYWs7Y2FzZSAyOmcuc2VsZWN0ZWREYXRlc1sxXT0xPT09Zy5zZWxlY3RlZERhdGVzWzBdLmNvbXBhcmVUbyhnLnNlbGVjdGVkRGF0ZXNbMV0pP2cuc2VsZWN0ZWREYXRlc1swXTpnLnNlbGVjdGVkRGF0ZXNbMV19Zy5waWNraW5nUmFuZ2U9ITF9Zy5wcmV2RGF0ZT1nLmRyYXdEYXRlP2cuZHJhd0RhdGUubmV3RGF0ZSgpOm51bGwsZy5kcmF3RGF0ZT10aGlzLl9jaGVja01pbk1heCgoZy5zZWxlY3RlZERhdGVzWzBdfHxnLmdldCgiZGVmYXVsdERhdGUiKXx8Zy5vcHRpb25zLmNhbGVuZGFyLnRvZGF5KCkpLm5ld0RhdGUoKSxnKSxmfHwodGhpcy5fdXBkYXRlKGIpLHRoaXMuX3VwZGF0ZUlucHV0KGIsZSkpfX0saXNTZWxlY3RhYmxlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5fZ2V0SW5zdChiKTtyZXR1cm4hYS5pc0VtcHR5T2JqZWN0KGQpJiYoYz1kLm9wdGlvbnMuY2FsZW5kYXIuZGV0ZXJtaW5lRGF0ZShjLGQuc2VsZWN0ZWREYXRlc1swXXx8ZC5vcHRpb25zLmNhbGVuZGFyLnRvZGF5KCksbnVsbCxkLm9wdGlvbnMuZGF0ZUZvcm1hdCxkLmdldENvbmZpZygpKSx0aGlzLl9pc1NlbGVjdGFibGUoYixjLGQub3B0aW9ucy5vbkRhdGUsZC5nZXQoIm1pbkRhdGUiKSxkLmdldCgibWF4RGF0ZSIpKSl9LF9pc1NlbGVjdGFibGU6ZnVuY3Rpb24oYixjLGQsZSxmKXtyZXR1cm4hMSE9PSgiYm9vbGVhbiI9PXR5cGVvZiBkP3tzZWxlY3RhYmxlOmR9OmEuaXNGdW5jdGlvbihkKT9kLmFwcGx5KGIsW2MsITBdKTp7fSkuc2VsZWN0YWJsZSYmKCFlfHxjLnRvSkQoKT49ZS50b0pEKCkpJiYoIWZ8fGMudG9KRCgpPD1mLnRvSkQoKSl9LHBlcmZvcm1BY3Rpb246ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLl9nZXRJbnN0KGIpO2lmKCFhLmlzRW1wdHlPYmplY3QoZCkmJiF0aGlzLmlzRGlzYWJsZWQoYikpe3ZhciBlPWQub3B0aW9ucy5jb21tYW5kcztlW2NdJiZlW2NdLmVuYWJsZWQuYXBwbHkoYixbZF0pJiZlW2NdLmFjdGlvbi5hcHBseShiLFtkXSl9fSxzaG93TW9udGg6ZnVuY3Rpb24oYixjLGQsZSl7dmFyIGY9dGhpcy5fZ2V0SW5zdChiKTtpZighYS5pc0VtcHR5T2JqZWN0KGYpJiYodm9pZCAwIT09ZSYmbnVsbCE9PWV8fGYuZHJhd0RhdGUueWVhcigpIT09Y3x8Zi5kcmF3RGF0ZS5tb250aCgpIT09ZCkpe2YucHJldkRhdGU9Zi5kcmF3RGF0ZS5uZXdEYXRlKCk7dmFyIGc9Zi5vcHRpb25zLmNhbGVuZGFyLGg9dGhpcy5fY2hlY2tNaW5NYXgodm9pZCAwIT09YyYmbnVsbCE9PWM/Zy5uZXdEYXRlKGMsZCwxKTpnLnRvZGF5KCksZik7Zi5kcmF3RGF0ZS5kYXRlKGgueWVhcigpLGgubW9udGgoKSx2b2lkIDAhPT1lJiZudWxsIT09ZT9lOk1hdGgubWluKGYuZHJhd0RhdGUuZGF5KCksZy5kYXlzSW5Nb250aChoLnllYXIoKSxoLm1vbnRoKCkpKSksdGhpcy5fdXBkYXRlKGIpfX0sY2hhbmdlTW9udGg6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLl9nZXRJbnN0KGIpO2lmKCFhLmlzRW1wdHlPYmplY3QoZCkpe3ZhciBlPWQuZHJhd0RhdGUubmV3RGF0ZSgpLmFkZChjLCJtIik7dGhpcy5zaG93TW9udGgoYixlLnllYXIoKSxlLm1vbnRoKCkpfX0sY2hhbmdlRGF5OmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5fZ2V0SW5zdChiKTtpZighYS5pc0VtcHR5T2JqZWN0KGQpKXt2YXIgZT1kLmRyYXdEYXRlLm5ld0RhdGUoKS5hZGQoYywiZCIpO3RoaXMuc2hvd01vbnRoKGIsZS55ZWFyKCksZS5tb250aCgpLGUuZGF5KCkpfX0sX2NoZWNrTWluTWF4OmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXQoIm1pbkRhdGUiKSxkPWIuZ2V0KCJtYXhEYXRlIik7cmV0dXJuIGE9YyYmLTE9PT1hLmNvbXBhcmVUbyhjKT9jLm5ld0RhdGUoKTphLGE9ZCYmMT09PWEuY29tcGFyZVRvKGQpP2QubmV3RGF0ZSgpOmF9LHJldHJpZXZlRGF0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuX2dldEluc3QoYik7cmV0dXJuIGEuaXNFbXB0eU9iamVjdChkKT9udWxsOmQub3B0aW9ucy5jYWxlbmRhci5mcm9tSkQocGFyc2VGbG9hdChjLmNsYXNzTmFtZS5yZXBsYWNlKC9eLipqZChcZCtcLjUpLiokLywiJDEiKSkpfSxzZWxlY3REYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5fZ2V0SW5zdChiKTtpZighYS5pc0VtcHR5T2JqZWN0KGQpJiYhdGhpcy5pc0Rpc2FibGVkKGIpKXt2YXIgZT10aGlzLnJldHJpZXZlRGF0ZShiLGMpO2lmKGQub3B0aW9ucy5tdWx0aVNlbGVjdCl7Zm9yKHZhciBmPSExLGc9MDtnPGQuc2VsZWN0ZWREYXRlcy5sZW5ndGg7ZysrKWlmKDA9PT1lLmNvbXBhcmVUbyhkLnNlbGVjdGVkRGF0ZXNbZ10pKXtkLnNlbGVjdGVkRGF0ZXMuc3BsaWNlKGcsMSksZj0hMDticmVha30hZiYmZC5zZWxlY3RlZERhdGVzLmxlbmd0aDxkLm9wdGlvbnMubXVsdGlTZWxlY3QmJmQuc2VsZWN0ZWREYXRlcy5wdXNoKGUpfWVsc2UgZC5vcHRpb25zLnJhbmdlU2VsZWN0PyhkLnBpY2tpbmdSYW5nZT9kLnNlbGVjdGVkRGF0ZXNbMV09ZTpkLnNlbGVjdGVkRGF0ZXM9W2UsZV0sZC5waWNraW5nUmFuZ2U9IWQucGlja2luZ1JhbmdlKTpkLnNlbGVjdGVkRGF0ZXM9W2VdO2QucHJldkRhdGU9ZC5kcmF3RGF0ZT1lLm5ld0RhdGUoKSx0aGlzLl91cGRhdGVJbnB1dChiKSxkLmlubGluZXx8ZC5waWNraW5nUmFuZ2V8fGQuc2VsZWN0ZWREYXRlcy5sZW5ndGg8KGQub3B0aW9ucy5tdWx0aVNlbGVjdHx8KGQub3B0aW9ucy5yYW5nZVNlbGVjdD8yOjEpKT90aGlzLl91cGRhdGUoYik6dGhpcy5oaWRlKGIpfX0sX2dlbmVyYXRlQ29udGVudDpmdW5jdGlvbihiLGQpe2Z1bmN0aW9uIGUoYil7KGQuaW5saW5lP2EoYikuY2xvc2VzdCgiLiIrcC5fZ2V0TWFya2VyKCkpOmQuZGl2KS5maW5kKGQub3B0aW9ucy5yZW5kZXJlci5kYXlTZWxlY3RvcisiIGEiKS5yZW1vdmVDbGFzcyhkLm9wdGlvbnMucmVuZGVyZXIuaGlnaGxpZ2h0ZWRDbGFzcyl9dmFyIGY9ZC5vcHRpb25zLm1vbnRoc1RvU2hvdztmPWEuaXNBcnJheShmKT9mOlsxLGZdLGQuZHJhd0RhdGU9dGhpcy5fY2hlY2tNaW5NYXgoZC5kcmF3RGF0ZXx8ZC5nZXQoImRlZmF1bHREYXRlIil8fGQub3B0aW9ucy5jYWxlbmRhci50b2RheSgpLGQpO2Zvcih2YXIgZz1kLmRyYXdEYXRlLm5ld0RhdGUoKS5hZGQoLWQub3B0aW9ucy5tb250aHNPZmZzZXQsIm0iKSxoPSIiLGk9MDtpPGZbMF07aSsrKXtmb3IodmFyIGo9IiIsaz0wO2s8ZlsxXTtrKyspais9dGhpcy5fZ2VuZXJhdGVNb250aChiLGQsZy55ZWFyKCksZy5tb250aCgpLGQub3B0aW9ucy5jYWxlbmRhcixkLm9wdGlvbnMucmVuZGVyZXIsMD09PWkmJjA9PT1rKSxnLmFkZCgxLCJtIik7aCs9dGhpcy5fcHJlcGFyZShkLm9wdGlvbnMucmVuZGVyZXIubW9udGhSb3csZCkucmVwbGFjZSgvXHttb250aHNcfS8sail9dmFyIGw9dGhpcy5fcHJlcGFyZShkLm9wdGlvbnMucmVuZGVyZXIucGlja2VyLGQpLnJlcGxhY2UoL1x7bW9udGhzXH0vLGgpLnJlcGxhY2UoL1x7d2Vla0hlYWRlclx9L2csdGhpcy5fZ2VuZXJhdGVEYXlIZWFkZXJzKGQsZC5vcHRpb25zLmNhbGVuZGFyLGQub3B0aW9ucy5yZW5kZXJlcikpLG09ZnVuY3Rpb24oYSxjLGUsZixnKXtpZigtMSE9PWwuaW5kZXhPZigieyIrYSsiOiIrZisifSIpKXt2YXIgaD1kLm9wdGlvbnMuY29tbWFuZHNbZl0saT1kLm9wdGlvbnMuY29tbWFuZHNBc0RhdGVGb3JtYXQ/aC5kYXRlLmFwcGx5KGIsW2RdKTpudWxsO2w9bC5yZXBsYWNlKG5ldyBSZWdFeHAoIlxceyIrYSsiOiIrZisiXFx9IiwiZyIpLCI8IitjKyhoLnN0YXR1cz8nIHRpdGxlPSInK2Qub3B0aW9uc1toLnN0YXR1c10rJyInOiIiKSsnIGNsYXNzPSInK2Qub3B0aW9ucy5yZW5kZXJlci5jb21tYW5kQ2xhc3MrIiAiK2Qub3B0aW9ucy5yZW5kZXJlci5jb21tYW5kQ2xhc3MrIi0iK2YrIiAiK2crKGguZW5hYmxlZChkKT8iIjoiICIrZC5vcHRpb25zLnJlbmRlcmVyLmRpc2FibGVkQ2xhc3MpKyciPicrKGk/aS5mb3JtYXREYXRlKGQub3B0aW9uc1toLnRleHRdLHtsb2NhbE51bWJlcnM6ZC5vcHRpb25zLmxvY2FsTnVtYmVyc30pOmQub3B0aW9uc1toLnRleHRdKSsiPC8iK2UrIj4iKX19O2Zvcih2YXIgbiBpbiBkLm9wdGlvbnMuY29tbWFuZHMpZC5vcHRpb25zLmNvbW1hbmRzLmhhc093blByb3BlcnR5KG4pJiYobSgiYnV0dG9uIiwnYnV0dG9uIHR5cGU9ImJ1dHRvbiInLCJidXR0b24iLG4sZC5vcHRpb25zLnJlbmRlcmVyLmNvbW1hbmRCdXR0b25DbGFzcyksbSgibGluayIsJ2EgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIicsImEiLG4sZC5vcHRpb25zLnJlbmRlcmVyLmNvbW1hbmRMaW5rQ2xhc3MpKTtpZihsPWEobCksZlsxXT4xKXt2YXIgbz0wO2EoZC5vcHRpb25zLnJlbmRlcmVyLm1vbnRoU2VsZWN0b3IsbCkuZWFjaChmdW5jdGlvbigpe3ZhciBiPSsrbyVmWzFdO2EodGhpcykuYWRkQ2xhc3MoMT09PWI/ImZpcnN0IjowPT09Yj8ibGFzdCI6IiIpfSl9dmFyIHA9dGhpcztsLmZpbmQoZC5vcHRpb25zLnJlbmRlcmVyLmRheVNlbGVjdG9yKyIgYSIpLmhvdmVyKGZ1bmN0aW9uKCl7ZSh0aGlzKSxhKHRoaXMpLmFkZENsYXNzKGQub3B0aW9ucy5yZW5kZXJlci5oaWdobGlnaHRlZENsYXNzKX0sZnVuY3Rpb24oKXtlKHRoaXMpfSkuY2xpY2soZnVuY3Rpb24oKXtwLnNlbGVjdERhdGUoYix0aGlzKX0pLmVuZCgpLmZpbmQoInNlbGVjdC4iK3RoaXMuX21vbnRoWWVhckNsYXNzKyI6bm90KC4iK3RoaXMuX2FueVllYXJDbGFzcysiKSIpLmNoYW5nZShmdW5jdGlvbigpe3ZhciBjPWEodGhpcykudmFsKCkuc3BsaXQoIi8iKTtwLnNob3dNb250aChiLHBhcnNlSW50KGNbMV0sMTApLHBhcnNlSW50KGNbMF0sMTApKX0pLmVuZCgpLmZpbmQoInNlbGVjdC4iK3RoaXMuX2FueVllYXJDbGFzcykuY2xpY2soZnVuY3Rpb24oKXthKHRoaXMpLmNzcygidmlzaWJpbGl0eSIsImhpZGRlbiIpLm5leHQoImlucHV0IikuY3NzKHtsZWZ0OnRoaXMub2Zmc2V0TGVmdCx0b3A6dGhpcy5vZmZzZXRUb3Asd2lkdGg6dGhpcy5vZmZzZXRXaWR0aCxoZWlnaHQ6dGhpcy5vZmZzZXRIZWlnaHR9KS5zaG93KCkuZm9jdXMoKX0pLmVuZCgpLmZpbmQoImlucHV0LiIrcC5fbW9udGhZZWFyQ2xhc3MpLmNoYW5nZShmdW5jdGlvbigpe3RyeXt2YXIgYz1wYXJzZUludChhKHRoaXMpLnZhbCgpLDEwKTtjPWlzTmFOKGMpP2QuZHJhd0RhdGUueWVhcigpOmMscC5zaG93TW9udGgoYixjLGQuZHJhd0RhdGUubW9udGgoKSxkLmRyYXdEYXRlLmRheSgpKX1jYXRjaChhKXt9fSkua2V5ZG93bihmdW5jdGlvbihiKXsxMz09PWIua2V5Q29kZT9hKGIuZWxlbSkuY2hhbmdlKCk6Mjc9PT1iLmtleUNvZGUmJihhKGIuZWxlbSkuaGlkZSgpLnByZXYoInNlbGVjdCIpLmNzcygidmlzaWJpbGl0eSIsInZpc2libGUiKSxkLmVsZW0uZm9jdXMoKSl9KTt2YXIgcT17ZWxlbTpkLmVsZW1bMF19O2wua2V5ZG93bihxLHRoaXMuX2tleURvd24pLmtleXByZXNzKHEsdGhpcy5fa2V5UHJlc3MpLmtleXVwKHEsdGhpcy5fa2V5VXApLGwuZmluZCgiLiIrZC5vcHRpb25zLnJlbmRlcmVyLmNvbW1hbmRDbGFzcykuY2xpY2soZnVuY3Rpb24oKXtpZighYSh0aGlzKS5oYXNDbGFzcyhkLm9wdGlvbnMucmVuZGVyZXIuZGlzYWJsZWRDbGFzcykpe3ZhciBlPXRoaXMuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgiXi4qIitkLm9wdGlvbnMucmVuZGVyZXIuY29tbWFuZENsYXNzKyItKFteIF0rKS4qJCIpLCIkMSIpO2MucGVyZm9ybUFjdGlvbihiLGUpfX0pLGQub3B0aW9ucy5pc1JUTCYmbC5hZGRDbGFzcyhkLm9wdGlvbnMucmVuZGVyZXIucnRsQ2xhc3MpLGZbMF0qZlsxXT4xJiZsLmFkZENsYXNzKGQub3B0aW9ucy5yZW5kZXJlci5tdWx0aUNsYXNzKSxkLm9wdGlvbnMucGlja2VyQ2xhc3MmJmwuYWRkQ2xhc3MoZC5vcHRpb25zLnBpY2tlckNsYXNzKSxhKCJib2R5IikuYXBwZW5kKGwpO3ZhciByPTA7cmV0dXJuIGwuZmluZChkLm9wdGlvbnMucmVuZGVyZXIubW9udGhTZWxlY3RvcikuZWFjaChmdW5jdGlvbigpe3IrPWEodGhpcykub3V0ZXJXaWR0aCgpfSksbC53aWR0aChyL2ZbMF0pLGEuaXNGdW5jdGlvbihkLm9wdGlvbnMub25TaG93KSYmZC5vcHRpb25zLm9uU2hvdy5hcHBseShiLFtsLGQub3B0aW9ucy5jYWxlbmRhcixkXSksbH0sX2dlbmVyYXRlTW9udGg6ZnVuY3Rpb24oYixjLGQsZSxmLGcsaCl7dmFyIGk9Zi5kYXlzSW5Nb250aChkLGUpLGo9Yy5vcHRpb25zLm1vbnRoc1RvU2hvdztqPWEuaXNBcnJheShqKT9qOlsxLGpdO3ZhciBrPWMub3B0aW9ucy5maXhlZFdlZWtzfHxqWzBdKmpbMV0+MSxsPWMub3B0aW9ucy5maXJzdERheTtsPXZvaWQgMD09PWx8fG51bGw9PT1sP2YubG9jYWwuZmlyc3REYXk6bDt2YXIgbT0oZi5kYXlPZldlZWsoZCxlLGYubWluRGF5KS1sK2YuZGF5c0luV2VlaygpKSVmLmRheXNJbldlZWsoKSxuPWs/NjpNYXRoLmNlaWwoKG0raSkvZi5kYXlzSW5XZWVrKCkpLG89Yy5vcHRpb25zLnNlbGVjdE90aGVyTW9udGhzJiZjLm9wdGlvbnMuc2hvd090aGVyTW9udGhzLHA9Yy5waWNraW5nUmFuZ2U/Yy5zZWxlY3RlZERhdGVzWzBdOmMuZ2V0KCJtaW5EYXRlIikscT1jLmdldCgibWF4RGF0ZSIpLHI9Zy53ZWVrLmluZGV4T2YoInt3ZWVrT2ZZZWFyfSIpPi0xLHM9Zi50b2RheSgpLHQ9Zi5uZXdEYXRlKGQsZSxmLm1pbkRheSk7dC5hZGQoLW0tKGsmJih0LmRheU9mV2VlaygpPT09bHx8dC5kYXlzSW5Nb250aCgpPGYuZGF5c0luV2VlaygpKT9mLmRheXNJbldlZWsoKTowKSwiZCIpO2Zvcih2YXIgdT10LnRvSkQoKSx2PWZ1bmN0aW9uKGEpe3JldHVybiBjLm9wdGlvbnMubG9jYWxOdW1iZXJzJiZmLmxvY2FsLmRpZ2l0cz9mLmxvY2FsLmRpZ2l0cyhhKTphfSx3PSIiLHg9MDt4PG47eCsrKXtmb3IodmFyIHk9cj8nPHNwYW4gY2xhc3M9ImpkJyt1KyciPicrKGEuaXNGdW5jdGlvbihjLm9wdGlvbnMuY2FsY3VsYXRlV2Vlayk/Yy5vcHRpb25zLmNhbGN1bGF0ZVdlZWsodCk6dC53ZWVrT2ZZZWFyKCkpKyI8L3NwYW4+IjoiIix6PSIiLEE9MDtBPGYuZGF5c0luV2VlaygpO0ErKyl7dmFyIEI9ITE7aWYoYy5vcHRpb25zLnJhbmdlU2VsZWN0JiZjLnNlbGVjdGVkRGF0ZXMubGVuZ3RoPjApQj0tMSE9PXQuY29tcGFyZVRvKGMuc2VsZWN0ZWREYXRlc1swXSkmJjEhPT10LmNvbXBhcmVUbyhjLnNlbGVjdGVkRGF0ZXNbMV0pO2Vsc2UgZm9yKHZhciBDPTA7QzxjLnNlbGVjdGVkRGF0ZXMubGVuZ3RoO0MrKylpZigwPT09Yy5zZWxlY3RlZERhdGVzW0NdLmNvbXBhcmVUbyh0KSl7Qj0hMDticmVha312YXIgRD1hLmlzRnVuY3Rpb24oYy5vcHRpb25zLm9uRGF0ZSk/Yy5vcHRpb25zLm9uRGF0ZS5hcHBseShiLFt0LHQubW9udGgoKT09PWVdKTp7fSxFPShvfHx0Lm1vbnRoKCk9PT1lKSYmdGhpcy5faXNTZWxlY3RhYmxlKGIsdCxELnNlbGVjdGFibGUscCxxKTt6Kz10aGlzLl9wcmVwYXJlKGcuZGF5LGMpLnJlcGxhY2UoL1x7ZGF5XH0vZywoRT8nPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIic6IjxzcGFuIikrJyBjbGFzcz0iamQnK3UrIiAiKyhELmRhdGVDbGFzc3x8IiIpKyhCJiYob3x8dC5tb250aCgpPT09ZSk/IiAiK2cuc2VsZWN0ZWRDbGFzczoiIikrKEU/IiAiK2cuZGVmYXVsdENsYXNzOiIiKSsodC53ZWVrRGF5KCk/IiI6IiAiK2cud2Vla2VuZENsYXNzKSsodC5tb250aCgpPT09ZT8iIjoiICIrZy5vdGhlck1vbnRoQ2xhc3MpKygwPT09dC5jb21wYXJlVG8ocykmJnQubW9udGgoKT09PWU/IiAiK2cudG9kYXlDbGFzczoiIikrKDA9PT10LmNvbXBhcmVUbyhjLmRyYXdEYXRlKSYmdC5tb250aCgpPT09ZT8iICIrZy5oaWdobGlnaHRlZENsYXNzOiIiKSsnIicrKEQudGl0bGV8fGMub3B0aW9ucy5kYXlTdGF0dXMmJkU/JyB0aXRsZT0iJysoRC50aXRsZXx8dC5mb3JtYXREYXRlKGMub3B0aW9ucy5kYXlTdGF0dXMse2xvY2FsTnVtYmVyczpjLm9wdGlvbnMubG9jYWxOdW1iZXJzfSkpKyciJzoiIikrIj4iKyhjLm9wdGlvbnMuc2hvd090aGVyTW9udGhzfHx0Lm1vbnRoKCk9PT1lP0QuY29udGVudHx8dih0LmRheSgpKToiJiMxNjA7IikrKEU/IjwvYT4iOiI8L3NwYW4+IikpLHQuYWRkKDEsImQiKSx1Kyt9dys9dGhpcy5fcHJlcGFyZShnLndlZWssYykucmVwbGFjZSgvXHtkYXlzXH0vZyx6KS5yZXBsYWNlKC9ce3dlZWtPZlllYXJcfS9nLHkpfXZhciBGPXRoaXMuX3ByZXBhcmUoZy5tb250aCxjKS5tYXRjaCgvXHttb250aEhlYWRlcig6W15cfV0rKT9cfS8pO0Y9RlswXS5sZW5ndGg8PTEzPyJNTSB5eXl5IjpGWzBdLnN1YnN0cmluZygxMyxGWzBdLmxlbmd0aC0xKSxGPWg/dGhpcy5fZ2VuZXJhdGVNb250aFNlbGVjdGlvbihjLGQsZSxwLHEsRixmLGcpOmYuZm9ybWF0RGF0ZShGLGYubmV3RGF0ZShkLGUsZi5taW5EYXkpLHtsb2NhbE51bWJlcnM6Yy5vcHRpb25zLmxvY2FsTnVtYmVyc30pO3ZhciBHPXRoaXMuX3ByZXBhcmUoZy53ZWVrSGVhZGVyLGMpLnJlcGxhY2UoL1x7ZGF5c1x9L2csdGhpcy5fZ2VuZXJhdGVEYXlIZWFkZXJzKGMsZixnKSk7cmV0dXJuIHRoaXMuX3ByZXBhcmUoZy5tb250aCxjKS5yZXBsYWNlKC9ce21vbnRoSGVhZGVyKDpbXlx9XSspP1x9L2csRikucmVwbGFjZSgvXHt3ZWVrSGVhZGVyXH0vZyxHKS5yZXBsYWNlKC9ce3dlZWtzXH0vZyx3KX0sX2dlbmVyYXRlRGF5SGVhZGVyczpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5vcHRpb25zLmZpcnN0RGF5O2Q9dm9pZCAwPT09ZHx8bnVsbD09PWQ/Yi5sb2NhbC5maXJzdERheTpkO2Zvcih2YXIgZT0iIixmPTA7ZjxiLmRheXNJbldlZWsoKTtmKyspe3ZhciBnPShmK2QpJWIuZGF5c0luV2VlaygpO2UrPXRoaXMuX3ByZXBhcmUoYy5kYXlIZWFkZXIsYSkucmVwbGFjZSgvXHtkYXlcfS9nLCc8c3BhbiBjbGFzcz0iJyt0aGlzLl9jdXJEb1dDbGFzcytnKyciIHRpdGxlPSInK2IubG9jYWwuZGF5TmFtZXNbZ10rJyI+JytiLmxvY2FsLmRheU5hbWVzTWluW2ddKyI8L3NwYW4+Iil9cmV0dXJuIGV9LF9nZW5lcmF0ZU1vbnRoU2VsZWN0aW9uOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2lmKCFhLm9wdGlvbnMuY2hhbmdlTW9udGgpcmV0dXJuIGcuZm9ybWF0RGF0ZShmLGcubmV3RGF0ZShiLGMsMSkse2xvY2FsTnVtYmVyczphLm9wdGlvbnMubG9jYWxOdW1iZXJzfSk7Zm9yKHZhciBoPWcubG9jYWxbIm1vbnRoTmFtZXMiKyhmLm1hdGNoKC9tbS9pKT8iIjoiU2hvcnQiKV0saT1mLnJlcGxhY2UoL20rL2ksIlxceDJFIikucmVwbGFjZSgveSsvaSwiXFx4MkYiKSxqPSc8c2VsZWN0IGNsYXNzPSInK3RoaXMuX21vbnRoWWVhckNsYXNzKyciIHRpdGxlPSInK2Eub3B0aW9ucy5tb250aFN0YXR1cysnIj4nLGs9Zy5tb250aHNJblllYXIoYikrZy5taW5Nb250aCxsPWcubWluTW9udGg7bDxrO2wrKylkJiYtMT09PWcubmV3RGF0ZShiLGwsZy5kYXlzSW5Nb250aChiLGwpLTErZy5taW5EYXkpLmNvbXBhcmVUbyhkKXx8ZSYmMT09PWcubmV3RGF0ZShiLGwsZy5taW5EYXkpLmNvbXBhcmVUbyhlKXx8KGorPSc8b3B0aW9uIHZhbHVlPSInK2wrIi8iK2IrJyInKyhjPT09bD8nIHNlbGVjdGVkPSJzZWxlY3RlZCInOiIiKSsiPiIraFtsLWcubWluTW9udGhdKyI8L29wdGlvbj4iKTtqKz0iPC9zZWxlY3Q+IixpPWkucmVwbGFjZSgvXFx4MkUvLGopO3ZhciBtPWZ1bmN0aW9uKGIpe3JldHVybiBhLm9wdGlvbnMubG9jYWxOdW1iZXJzJiZnLmxvY2FsLmRpZ2l0cz9nLmxvY2FsLmRpZ2l0cyhiKTpifSxuPWEub3B0aW9ucy55ZWFyUmFuZ2U7aWYoImFueSI9PT1uKWo9JzxzZWxlY3QgY2xhc3M9IicrdGhpcy5fbW9udGhZZWFyQ2xhc3MrIiAiK3RoaXMuX2FueVllYXJDbGFzcysnIiB0aXRsZT0iJythLm9wdGlvbnMueWVhclN0YXR1cysnIj48b3B0aW9uIHZhbHVlPSInK2IrJyI+JyttKGIpKyc8L29wdGlvbj48L3NlbGVjdD48aW5wdXQgY2xhc3M9IicrdGhpcy5fbW9udGhZZWFyQ2xhc3MrIiAiK3RoaXMuX2N1ck1vbnRoQ2xhc3MrYysnIiB2YWx1ZT0iJytiKyciPic7ZWxzZXtuPW4uc3BsaXQoIjoiKTt2YXIgbz1nLnRvZGF5KCkueWVhcigpLHA9blswXS5tYXRjaCgiY1srLV0uKiIpP2IrcGFyc2VJbnQoblswXS5zdWJzdHJpbmcoMSksMTApOihuWzBdLm1hdGNoKCJbKy1dLioiKT9vOjApK3BhcnNlSW50KG5bMF0sMTApLHE9blsxXS5tYXRjaCgiY1srLV0uKiIpP2IrcGFyc2VJbnQoblsxXS5zdWJzdHJpbmcoMSksMTApOihuWzFdLm1hdGNoKCJbKy1dLioiKT9vOjApK3BhcnNlSW50KG5bMV0sMTApO2o9JzxzZWxlY3QgY2xhc3M9IicrdGhpcy5fbW9udGhZZWFyQ2xhc3MrJyIgdGl0bGU9IicrYS5vcHRpb25zLnllYXJTdGF0dXMrJyI+JyxwPWcubmV3RGF0ZShwKzEsZy5maXJzdE1vbnRoLGcubWluRGF5KS5hZGQoLTEsImQiKSxxPWcubmV3RGF0ZShxLGcuZmlyc3RNb250aCxnLm1pbkRheSk7dmFyIHIscyx0PWZ1bmN0aW9uKGEsZCl7KDAhPT1hfHxnLmhhc1llYXJaZXJvKSYmKGorPSc8b3B0aW9uIHZhbHVlPSInK01hdGgubWluKGMsZy5tb250aHNJblllYXIoYSktMStnLm1pbk1vbnRoKSsiLyIrYSsnIicrKGI9PT1hPycgc2VsZWN0ZWQ9InNlbGVjdGVkIic6IiIpKyI+IisoZHx8bShhKSkrIjwvb3B0aW9uPiIpfTtpZihwLnRvSkQoKTxxLnRvSkQoKSl7Zm9yKHA9KGQmJjE9PT1kLmNvbXBhcmVUbyhwKT9kOnApLnllYXIoKSxxPShlJiYtMT09PWUuY29tcGFyZVRvKHEpP2U6cSkueWVhcigpLHI9TWF0aC5mbG9vcigocS1wKS8yKSwoIWR8fGQueWVhcigpPHApJiZ0KHAtcixhLm9wdGlvbnMuZWFybGllclRleHQpLHM9cDtzPD1xO3MrKyl0KHMpOyghZXx8ZS55ZWFyKCk+cSkmJnQocStyLGEub3B0aW9ucy5sYXRlclRleHQpfWVsc2V7Zm9yKHA9KGUmJi0xPT09ZS5jb21wYXJlVG8ocCk/ZTpwKS55ZWFyKCkscT0oZCYmMT09PWQuY29tcGFyZVRvKHEpP2Q6cSkueWVhcigpLHI9TWF0aC5mbG9vcigocC1xKS8yKSwoIWV8fGUueWVhcigpPnApJiZ0KHArcixhLm9wdGlvbnMuZWFybGllclRleHQpLHM9cDtzPj1xO3MtLSl0KHMpOyghZHx8ZC55ZWFyKCk8cSkmJnQocS1yLGEub3B0aW9ucy5sYXRlclRleHQpfWorPSI8L3NlbGVjdD4ifXJldHVybiBpPWkucmVwbGFjZSgvXFx4MkYvLGopfSxfcHJlcGFyZTpmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGIsYyl7Zm9yKDs7KXt2YXIgZD1hLmluZGV4T2YoInsiK2IrIjpzdGFydH0iKTtpZigtMT09PWQpcmV0dXJuO3ZhciBlPWEuc3Vic3RyaW5nKGQpLmluZGV4T2YoInsiK2IrIjplbmR9Iik7ZT4tMSYmKGE9YS5zdWJzdHJpbmcoMCxkKSsoYz9hLnN1YnN0cihkK2IubGVuZ3RoKzgsZS1iLmxlbmd0aC04KToiIikrYS5zdWJzdHJpbmcoZCtlK2IubGVuZ3RoKzYpKX19O2MoImlubGluZSIsYi5pbmxpbmUpLGMoInBvcHVwIiwhYi5pbmxpbmUpO2Zvcih2YXIgZD0vXHtsMTBuOihbXlx9XSspXH0vLGU9ZC5leGVjKGEpO2U7KWE9YS5yZXBsYWNlKGVbMF0sYi5vcHRpb25zW2VbMV1dKSxlPWQuZXhlYyhhKTtyZXR1cm4gYX19KTt2YXIgYz1hLmNhbGVuZGFyc1BpY2tlcjthKGZ1bmN0aW9uKCl7YShkb2N1bWVudCkub24oIm1vdXNlZG93bi4iK2IsYy5fY2hlY2tFeHRlcm5hbENsaWNrKS5vbigicmVzaXplLiIrYixmdW5jdGlvbigpe2MuaGlkZShjLmN1ckluc3QpfSl9KX0oalF1ZXJ5KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5LmNhbGVuZGFycy5waWNrZXIubWluLm1hcA==\"\n    },\n    \"folder\": {\n        \"shortid\": \"NHeujbZ\"\n    },\n    \"__entityPath\": \"/js/jquery.calendars.picker.min.js\"\n}"},{"operation":"insert","path":"/js/jquery.calendars.plus.min.js","entitySet":"assets","entityId":"Ek7Z4MAIsokHi4kl","serializedDoc":"{\n    \"name\": \"jquery.calendars.plus.min.js\",\n    \"creationDate\": {\n        \"$$date\": 1621255691824\n    },\n    \"modificationDate\": {\n        \"$$date\": 1621255694772\n    },\n    \"shortid\": \"iCB_oAC\",\n    \"_id\": \"Ek7Z4MAIsokHi4kl\",\n    \"content\": {\n        \"$$buffer\": \"IWZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjthLmV4dGVuZChhLmNhbGVuZGFycy5yZWdpb25hbE9wdGlvbnNbIiJdLHtpbnZhbGlkQXJndW1lbnRzOiJJbnZhbGlkIGFyZ3VtZW50cyIsaW52YWxpZEZvcm1hdDoiQ2Fubm90IGZvcm1hdCBhIGRhdGUgZnJvbSBhbm90aGVyIGNhbGVuZGFyIixtaXNzaW5nTnVtYmVyQXQ6Ik1pc3NpbmcgbnVtYmVyIGF0IHBvc2l0aW9uIHswfSIsdW5rbm93bk5hbWVBdDoiVW5rbm93biBuYW1lIGF0IHBvc2l0aW9uIHswfSIsdW5leHBlY3RlZExpdGVyYWxBdDoiVW5leHBlY3RlZCBsaXRlcmFsIGF0IHBvc2l0aW9uIHswfSIsdW5leHBlY3RlZFRleHQ6IkFkZGl0aW9uYWwgdGV4dCBmb3VuZCBhdCBlbmQifSksYS5jYWxlbmRhcnMubG9jYWw9YS5jYWxlbmRhcnMucmVnaW9uYWxPcHRpb25zWyIiXSxhLmV4dGVuZChhLmNhbGVuZGFycy5jZGF0ZS5wcm90b3R5cGUse2Zvcm1hdERhdGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihiPWEsYT0iIiksdGhpcy5fY2FsZW5kYXIuZm9ybWF0RGF0ZShhfHwiIix0aGlzLGIpfX0pLGEuZXh0ZW5kKGEuY2FsZW5kYXJzLmJhc2VDYWxlbmRhci5wcm90b3R5cGUse1VOSVhfRVBPQ0g6YS5jYWxlbmRhcnMuaW5zdGFuY2UoKS5uZXdEYXRlKDE5NzAsMSwxKS50b0pEKCksU0VDU19QRVJfREFZOjg2NDAwLFRJQ0tTX0VQT0NIOmEuY2FsZW5kYXJzLmluc3RhbmNlKCkuamRFcG9jaCxUSUNLU19QRVJfREFZOjg2NGU5LEFUT006Inl5eXktbW0tZGQiLENPT0tJRToiRCwgZGQgTSB5eXl5IixGVUxMOiJERCwgTU0gZCwgeXl5eSIsSVNPXzg2MDE6Inl5eXktbW0tZGQiLEpVTElBTjoiSiIsUkZDXzgyMjoiRCwgZCBNIHl5IixSRkNfODUwOiJERCwgZGQtTS15eSIsUkZDXzEwMzY6IkQsIGQgTSB5eSIsUkZDXzExMjM6IkQsIGQgTSB5eXl5IixSRkNfMjgyMjoiRCwgZCBNIHl5eXkiLFJTUzoiRCwgZCBNIHl5IixUSUNLUzoiISIsVElNRVNUQU1QOiJAIixXM0M6Inl5eXktbW0tZGQiLGZvcm1hdERhdGU6ZnVuY3Rpb24oYixjLGQpe2lmKCJzdHJpbmciIT10eXBlb2YgYiYmKGQ9YyxjPWIsYj0iIiksIWMpcmV0dXJuIiI7aWYoYy5jYWxlbmRhcigpIT09dGhpcyl0aHJvdyBhLmNhbGVuZGFycy5sb2NhbC5pbnZhbGlkRm9ybWF0fHxhLmNhbGVuZGFycy5yZWdpb25hbE9wdGlvbnNbIiJdLmludmFsaWRGb3JtYXQ7Yj1ifHx0aGlzLmxvY2FsLmRhdGVGb3JtYXQsZD1kfHx7fTtmb3IodmFyIGU9ZC5kYXlOYW1lc1Nob3J0fHx0aGlzLmxvY2FsLmRheU5hbWVzU2hvcnQsZj1kLmRheU5hbWVzfHx0aGlzLmxvY2FsLmRheU5hbWVzLGc9ZC5tb250aE5hbWVzU2hvcnR8fHRoaXMubG9jYWwubW9udGhOYW1lc1Nob3J0LGg9ZC5tb250aE5hbWVzfHx0aGlzLmxvY2FsLm1vbnRoTmFtZXMsaT1kLmxvY2FsTnVtYmVyc3x8dGhpcy5sb2NhbC5sb2NhbE51bWJlcnMsaj1mdW5jdGlvbihhLGMpe2Zvcih2YXIgZD0xO3ArZDxiLmxlbmd0aCYmYi5jaGFyQXQocCtkKT09PWE7KWQrKztyZXR1cm4gcCs9ZC0xLE1hdGguZmxvb3IoZC8oY3x8MSkpPjF9LGs9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9IiIrYjtpZihqKGEsZCkpZm9yKDtlLmxlbmd0aDxjOyllPSIwIitlO3JldHVybiBlfSxsPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBqKGEpP2RbYl06Y1tiXX0sbT1pJiZ0aGlzLmxvY2FsLmRpZ2l0cz90aGlzLmxvY2FsLmRpZ2l0czpmdW5jdGlvbihhKXtyZXR1cm4gYX0sbj0iIixvPSExLHA9MDtwPGIubGVuZ3RoO3ArKylpZihvKSInIiE9PWIuY2hhckF0KHApfHxqKCInIik/bis9Yi5jaGFyQXQocCk6bz0hMTtlbHNlIHN3aXRjaChiLmNoYXJBdChwKSl7Y2FzZSJkIjpuKz1tKGsoImQiLGMuZGF5KCksMikpO2JyZWFrO2Nhc2UiRCI6bis9bCgiRCIsYy5kYXlPZldlZWsoKSxlLGYpO2JyZWFrO2Nhc2UibyI6bis9aygibyIsYy5kYXlPZlllYXIoKSwzKTticmVhaztjYXNlInciOm4rPWsoInciLGMud2Vla09mWWVhcigpLDIpO2JyZWFrO2Nhc2UibSI6bis9bShrKCJtIixjLm1vbnRoKCksMikpO2JyZWFrO2Nhc2UiTSI6bis9bCgiTSIsYy5tb250aCgpLXRoaXMubWluTW9udGgsZyxoKTticmVhaztjYXNlInkiOm4rPW0oaigieSIsMik/Yy55ZWFyKCk6KGMueWVhcigpJTEwMDwxMD8iMCI6IiIpK2MueWVhcigpJTEwMCk7YnJlYWs7Y2FzZSJZIjpqKCJZIiwyKSxuKz1jLmZvcm1hdFllYXIoKTticmVhaztjYXNlIkoiOm4rPWMudG9KRCgpO2JyZWFrO2Nhc2UiQCI6bis9KGMudG9KRCgpLXRoaXMuVU5JWF9FUE9DSCkqdGhpcy5TRUNTX1BFUl9EQVk7YnJlYWs7Y2FzZSIhIjpuKz0oYy50b0pEKCktdGhpcy5USUNLU19FUE9DSCkqdGhpcy5USUNLU19QRVJfREFZO2JyZWFrO2Nhc2UiJyI6aigiJyIpP24rPSInIjpvPSEwO2JyZWFrO2RlZmF1bHQ6bis9Yi5jaGFyQXQocCl9cmV0dXJuIG59LHBhcnNlRGF0ZTpmdW5jdGlvbihiLGMsZCl7aWYodm9pZCAwPT09Y3x8bnVsbD09PWMpdGhyb3cgYS5jYWxlbmRhcnMubG9jYWwuaW52YWxpZEFyZ3VtZW50c3x8YS5jYWxlbmRhcnMucmVnaW9uYWxPcHRpb25zWyIiXS5pbnZhbGlkQXJndW1lbnRzO2lmKCIiPT09KGM9Im9iamVjdCI9PXR5cGVvZiBjP2MudG9TdHJpbmcoKTpjKyIiKSlyZXR1cm4gbnVsbDtiPWJ8fHRoaXMubG9jYWwuZGF0ZUZvcm1hdCxkPWR8fHt9O3ZhciBlPWQuc2hvcnRZZWFyQ3V0b2ZmfHx0aGlzLnNob3J0WWVhckN1dG9mZjtlPSJzdHJpbmciIT10eXBlb2YgZT9lOnRoaXMudG9kYXkoKS55ZWFyKCklMTAwK3BhcnNlSW50KGUsMTApO2Zvcih2YXIgZj1kLmRheU5hbWVzU2hvcnR8fHRoaXMubG9jYWwuZGF5TmFtZXNTaG9ydCxnPWQuZGF5TmFtZXN8fHRoaXMubG9jYWwuZGF5TmFtZXMsaD1kLm1vbnRoTmFtZXNTaG9ydHx8dGhpcy5sb2NhbC5tb250aE5hbWVzU2hvcnQsaT1kLm1vbnRoTmFtZXN8fHRoaXMubG9jYWwubW9udGhOYW1lcyxqPS0xLGs9LTEsbD0tMSxtPS0xLG49LTEsbz0hMSxwPSExLHE9ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGQ9MTt3K2Q8Yi5sZW5ndGgmJmIuY2hhckF0KHcrZCk9PT1hOylkKys7cmV0dXJuIHcrPWQtMSxNYXRoLmZsb29yKGQvKGN8fDEpKT4xfSxyPWZ1bmN0aW9uKGIsZCl7dmFyIGU9cShiLGQpLGY9WzIsMyxlPzQ6MixlPzQ6MiwxMCwxMSwyMF1bIm95WUpAISIuaW5kZXhPZihiKSsxXSxnPW5ldyBSZWdFeHAoIl4tP1xcZHsxLCIrZisifSIpLGg9Yy5zdWJzdHJpbmcodikubWF0Y2goZyk7aWYoIWgpdGhyb3coYS5jYWxlbmRhcnMubG9jYWwubWlzc2luZ051bWJlckF0fHxhLmNhbGVuZGFycy5yZWdpb25hbE9wdGlvbnNbIiJdLm1pc3NpbmdOdW1iZXJBdCkucmVwbGFjZSgvXHswXH0vLHYpO3JldHVybiB2Kz1oWzBdLmxlbmd0aCxwYXJzZUludChoWzBdLDEwKX0scz10aGlzLHQ9ZnVuY3Rpb24oYixkLGUsZil7Zm9yKHZhciBnPXEoYixmKT9lOmQsaD0wO2g8Zy5sZW5ndGg7aCsrKWlmKGMuc3Vic3RyKHYsZ1toXS5sZW5ndGgpLnRvTG93ZXJDYXNlKCk9PT1nW2hdLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHYrPWdbaF0ubGVuZ3RoLGgrcy5taW5Nb250aDt0aHJvdyhhLmNhbGVuZGFycy5sb2NhbC51bmtub3duTmFtZUF0fHxhLmNhbGVuZGFycy5yZWdpb25hbE9wdGlvbnNbIiJdLnVua25vd25OYW1lQXQpLnJlcGxhY2UoL1x7MFx9Lyx2KX0sdT1mdW5jdGlvbigpe2lmKGMuY2hhckF0KHYpIT09Yi5jaGFyQXQodykpdGhyb3coYS5jYWxlbmRhcnMubG9jYWwudW5leHBlY3RlZExpdGVyYWxBdHx8YS5jYWxlbmRhcnMucmVnaW9uYWxPcHRpb25zWyIiXS51bmV4cGVjdGVkTGl0ZXJhbEF0KS5yZXBsYWNlKC9cezBcfS8sdik7disrfSx2PTAsdz0wO3c8Yi5sZW5ndGg7dysrKWlmKHApIiciIT09Yi5jaGFyQXQodyl8fHEoIiciKT91KCk6cD0hMTtlbHNlIHN3aXRjaChiLmNoYXJBdCh3KSl7Y2FzZSJkIjptPXIoImQiKTticmVhaztjYXNlIkQiOnQoIkQiLGYsZyk7YnJlYWs7Y2FzZSJvIjpuPXIoIm8iKTticmVhaztjYXNlInciOnIoInciKTticmVhaztjYXNlIm0iOmw9cigibSIpO2JyZWFrO2Nhc2UiTSI6bD10KCJNIixoLGkpO2JyZWFrO2Nhc2UieSI6dmFyIHg9dztvPSFxKCJ5IiwyKSx3PXgsaz1yKCJ5IiwyKTticmVhaztjYXNlIlkiOms9cigiWSIsMik7YnJlYWs7Y2FzZSJKIjpqPXIoIkoiKSsuNSwiLiI9PT1jLmNoYXJBdCh2KSYmKHYrKyxyKCJKIikpO2JyZWFrO2Nhc2UiQCI6aj1yKCJAIikvdGhpcy5TRUNTX1BFUl9EQVkrdGhpcy5VTklYX0VQT0NIO2JyZWFrO2Nhc2UiISI6aj1yKCIhIikvdGhpcy5USUNLU19QRVJfREFZK3RoaXMuVElDS1NfRVBPQ0g7YnJlYWs7Y2FzZSIqIjp2PWMubGVuZ3RoO2JyZWFrO2Nhc2UiJyI6cSgiJyIpP3UoKTpwPSEwO2JyZWFrO2RlZmF1bHQ6dSgpfWlmKHY8Yy5sZW5ndGgpdGhyb3cgYS5jYWxlbmRhcnMubG9jYWwudW5leHBlY3RlZFRleHR8fGEuY2FsZW5kYXJzLnJlZ2lvbmFsT3B0aW9uc1siIl0udW5leHBlY3RlZFRleHQ7aWYoLTE9PT1rP2s9dGhpcy50b2RheSgpLnllYXIoKTprPDEwMCYmbyYmKGsrPS0xPT09ZT8xOTAwOnRoaXMudG9kYXkoKS55ZWFyKCktdGhpcy50b2RheSgpLnllYXIoKSUxMDAtKGs8PWU/MDoxMDApKSxuPi0xKXtsPTEsbT1uO2Zvcih2YXIgeT10aGlzLmRheXNJbk1vbnRoKGssbCk7bT55O3k9dGhpcy5kYXlzSW5Nb250aChrLGwpKWwrKyxtLT15fXJldHVybiBqPi0xP3RoaXMuZnJvbUpEKGopOnRoaXMubmV3RGF0ZShrLGwsbSl9LGRldGVybWluZURhdGU6ZnVuY3Rpb24oYSxiLGMsZCxlKXtjJiYib2JqZWN0IiE9dHlwZW9mIGMmJihlPWQsZD1jLGM9bnVsbCksInN0cmluZyIhPXR5cGVvZiBkJiYoZT1kLGQ9IiIpO3ZhciBmPXRoaXMsZz1mdW5jdGlvbihhKXt0cnl7cmV0dXJuIGYucGFyc2VEYXRlKGQsYSxlKX1jYXRjaChhKXt9YT1hLnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBiPShhLm1hdGNoKC9eYy8pJiZjP2MubmV3RGF0ZSgpOm51bGwpfHxmLnRvZGF5KCksZz0vKFsrLV0/WzAtOV0rKVxzKihkfHd8bXx5KT8vZyxoPWcuZXhlYyhhKTtoOyliLmFkZChwYXJzZUludChoWzFdLDEwKSxoWzJdfHwiZCIpLGg9Zy5leGVjKGEpO3JldHVybiBifTtyZXR1cm4gYj1iP2IubmV3RGF0ZSgpOm51bGwsYT12b2lkIDA9PT1hfHxudWxsPT09YT9iOiJzdHJpbmciPT10eXBlb2YgYT9nKGEpOiJudW1iZXIiPT10eXBlb2YgYT9pc05hTihhKXx8YT09PTEvMHx8YT09PS0xLzA/YjpmLnRvZGF5KCkuYWRkKGEsImQiKTpmLm5ld0RhdGUoYSl9fSl9KGpRdWVyeSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5jYWxlbmRhcnMucGx1cy5taW4ubWFw\"\n    },\n    \"folder\": {\n        \"shortid\": \"NHeujbZ\"\n    },\n    \"__entityPath\": \"/js/jquery.calendars.plus.min.js\"\n}"},{"operation":"insert","path":"/js/jquery.plugin.min.js","entitySet":"assets","entityId":"SDKKbWOLEH2rwrrb","serializedDoc":"{\n    \"name\": \"jquery.plugin.min.js\",\n    \"creationDate\": {\n        \"$$date\": 1621255720478\n    },\n    \"modificationDate\": {\n        \"$$date\": 1621255720478\n    },\n    \"shortid\": \"7nwleXt\",\n    \"_id\": \"SDKKbWOLEH2rwrrb\",\n    \"content\": {\n        \"$$buffer\": \"LyohIFNpbXBsZSBKYXZhU2NyaXB0IEluaGVyaXRhbmNlCiAqIEJ5IEpvaG4gUmVzaWcgaHR0cDovL2Vqb2huLm9yZy8KICogTUlUIExpY2Vuc2VkLgogKi8KIWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPSExO3dpbmRvdy5KUUNsYXNzPWZ1bmN0aW9uKCl7fSxKUUNsYXNzLmNsYXNzZXM9e30sSlFDbGFzcy5leHRlbmQ9ZnVuY3Rpb24gYihjKXtmdW5jdGlvbiBkKCl7IWEmJnRoaXMuX2luaXQmJnRoaXMuX2luaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBlPXRoaXMucHJvdG90eXBlO2E9ITA7dmFyIGY9bmV3IHRoaXM7YT0hMTtmb3IodmFyIGcgaW4gYylpZigiZnVuY3Rpb24iPT10eXBlb2YgY1tnXSYmImZ1bmN0aW9uIj09dHlwZW9mIGVbZ10pZltnXT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPXRoaXMuX3N1cGVyO3RoaXMuX3N1cGVyPWZ1bmN0aW9uKGIpe3JldHVybiBlW2FdLmFwcGx5KHRoaXMsYnx8W10pfTt2YXIgZD1iLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fc3VwZXI9YyxkfX0oZyxjW2ddKTtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgY1tnXSYmIm9iamVjdCI9PXR5cGVvZiBlW2ddJiYiZGVmYXVsdE9wdGlvbnMiPT09Zyl7dmFyIGgsaT1lW2ddLGo9Y1tnXSxrPXt9O2ZvcihoIGluIGkpa1toXT1pW2hdO2ZvcihoIGluIGopa1toXT1qW2hdO2ZbZ109a31lbHNlIGZbZ109Y1tnXTtyZXR1cm4gZC5wcm90b3R5cGU9ZixkLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1kLGQuZXh0ZW5kPWIsZH19KCksLyohIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGNvbGxlY3Rpb24gcGx1Z2lucyB2MS4wLjIuCglXcml0dGVuIGJ5IEtlaXRoIFdvb2QgKHdvb2Qua2VpdGh7YXR9b3B0dXNuZXQuY29tLmF1KSBEZWNlbWJlciAyMDEzLgoJTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIChodHRwOi8va2VpdGgtd29vZC5uYW1lL2xpY2VuY2UuaHRtbCkuICovCmZ1bmN0aW9uKCQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBjYW1lbENhc2UoYSl7cmV0dXJuIGEucmVwbGFjZSgvLShbYS16XSkvZyxmdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9KX1KUUNsYXNzLmNsYXNzZXMuSlFQbHVnaW49SlFDbGFzcy5leHRlbmQoe25hbWU6InBsdWdpbiIsZGVmYXVsdE9wdGlvbnM6e30scmVnaW9uYWxPcHRpb25zOnt9LGRlZXBNZXJnZTohMCxfZ2V0TWFya2VyOmZ1bmN0aW9uKCl7cmV0dXJuImlzLSIrdGhpcy5uYW1lfSxfaW5pdDpmdW5jdGlvbigpeyQuZXh0ZW5kKHRoaXMuZGVmYXVsdE9wdGlvbnMsdGhpcy5yZWdpb25hbE9wdGlvbnMmJnRoaXMucmVnaW9uYWxPcHRpb25zWyIiXXx8e30pO3ZhciBhPWNhbWVsQ2FzZSh0aGlzLm5hbWUpOyRbYV09dGhpcywkLmZuW2FdPWZ1bmN0aW9uKGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxkPXRoaXMsZT10aGlzO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZigic3RyaW5nIj09dHlwZW9mIGIpe2lmKCJfIj09PWJbMF18fCEkW2FdW2JdKXRocm93IlVua25vd24gbWV0aG9kOiAiK2I7dmFyIGY9JFthXVtiXS5hcHBseSgkW2FdLFt0aGlzXS5jb25jYXQoYykpO2lmKGYhPT1kJiZ2b2lkIDAhPT1mKXJldHVybiBlPWYsITF9ZWxzZSAkW2FdLl9hdHRhY2godGhpcyxiKX0pLGV9fSxzZXREZWZhdWx0czpmdW5jdGlvbihhKXskLmV4dGVuZCh0aGlzLmRlZmF1bHRPcHRpb25zLGF8fHt9KX0sX2F0dGFjaDpmdW5jdGlvbihhLGIpe2lmKGE9JChhKSwhYS5oYXNDbGFzcyh0aGlzLl9nZXRNYXJrZXIoKSkpe2EuYWRkQ2xhc3ModGhpcy5fZ2V0TWFya2VyKCkpLGI9JC5leHRlbmQodGhpcy5kZWVwTWVyZ2Use30sdGhpcy5kZWZhdWx0T3B0aW9ucyx0aGlzLl9nZXRNZXRhZGF0YShhKSxifHx7fSk7dmFyIGM9JC5leHRlbmQoe25hbWU6dGhpcy5uYW1lLGVsZW06YSxvcHRpb25zOmJ9LHRoaXMuX2luc3RTZXR0aW5ncyhhLGIpKTthLmRhdGEodGhpcy5uYW1lLGMpLHRoaXMuX3Bvc3RBdHRhY2goYSxjKSx0aGlzLm9wdGlvbihhLGIpfX0sX2luc3RTZXR0aW5nczpmdW5jdGlvbihhLGIpe3JldHVybnt9fSxfcG9zdEF0dGFjaDpmdW5jdGlvbihhLGIpe30sX2dldE1ldGFkYXRhOmZ1bmN0aW9uKGVsZW0pe3RyeXt2YXIgZGF0YT1lbGVtLmRhdGEodGhpcy5uYW1lLnRvTG93ZXJDYXNlKCkpfHwiIjtkYXRhPWRhdGEucmVwbGFjZSgvKFxcPyknL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8iJyI6JyInfSkucmVwbGFjZSgvKFthLXpBLVowLTldKyk6L2csZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWRhdGEuc3Vic3RyaW5nKDAsYykubWF0Y2goLyIvZyk7cmV0dXJuIGQmJmQubGVuZ3RoJTIhPT0wP2IrIjoiOiciJytiKyciOid9KS5yZXBsYWNlKC9cXDovZywiOiIpLGRhdGE9JC5wYXJzZUpTT04oInsiK2RhdGErIn0iKTtmb3IodmFyIGtleSBpbiBkYXRhKWlmKGRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSl7dmFyIHZhbHVlPWRhdGFba2V5XTsic3RyaW5nIj09dHlwZW9mIHZhbHVlJiZ2YWx1ZS5tYXRjaCgvXm5ldyBEYXRlXCgoWy0wLTksXHNdKilcKSQvKSYmKGRhdGFba2V5XT1ldmFsKHZhbHVlKSl9cmV0dXJuIGRhdGF9Y2F0Y2goYSl7cmV0dXJue319fSxfZ2V0SW5zdDpmdW5jdGlvbihhKXtyZXR1cm4gJChhKS5kYXRhKHRoaXMubmFtZSl8fHt9fSxvcHRpb246ZnVuY3Rpb24oYSxiLGMpe2E9JChhKTt2YXIgZD1hLmRhdGEodGhpcy5uYW1lKSxlPWJ8fHt9O3JldHVybiFifHwic3RyaW5nIj09dHlwZW9mIGImJiJ1bmRlZmluZWQiPT10eXBlb2YgYz8oZT0oZHx8e30pLm9wdGlvbnMsZSYmYj9lW2JdOmUpOnZvaWQoYS5oYXNDbGFzcyh0aGlzLl9nZXRNYXJrZXIoKSkmJigic3RyaW5nIj09dHlwZW9mIGImJihlPXt9LGVbYl09YyksdGhpcy5fb3B0aW9uc0NoYW5nZWQoYSxkLGUpLCQuZXh0ZW5kKGQub3B0aW9ucyxlKSkpfSxfb3B0aW9uc0NoYW5nZWQ6ZnVuY3Rpb24oYSxiLGMpe30sZGVzdHJveTpmdW5jdGlvbihhKXthPSQoYSksYS5oYXNDbGFzcyh0aGlzLl9nZXRNYXJrZXIoKSkmJih0aGlzLl9wcmVEZXN0cm95KGEsdGhpcy5fZ2V0SW5zdChhKSksYS5yZW1vdmVEYXRhKHRoaXMubmFtZSkucmVtb3ZlQ2xhc3ModGhpcy5fZ2V0TWFya2VyKCkpKX0sX3ByZURlc3Ryb3k6ZnVuY3Rpb24oYSxiKXt9fSksJC5KUVBsdWdpbj17Y3JlYXRlUGx1Z2luOmZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBhJiYoYj1hLGE9IkpRUGx1Z2luIiksYT1jYW1lbENhc2UoYSk7dmFyIGM9Y2FtZWxDYXNlKGIubmFtZSk7SlFDbGFzcy5jbGFzc2VzW2NdPUpRQ2xhc3MuY2xhc3Nlc1thXS5leHRlbmQoYiksbmV3IEpRQ2xhc3MuY2xhc3Nlc1tjXX19fShqUXVlcnkpOwovLyMgc291cmNlTWFwcGluZ1VSTD1qcXVlcnkucGx1Z2luLm1pbi5tYXA=\"\n    },\n    \"folder\": {\n        \"shortid\": \"NHeujbZ\"\n    },\n    \"__entityPath\": \"/js/jquery.plugin.min.js\"\n}"},{"operation":"insert","path":"/scripts/report-1a","entitySet":"scripts","entityId":"RZFtupD3tVwuWuhF","serializedDoc":"{\n    \"shortid\": \"yhXbvB1S-X\",\n    \"name\": \"report-1a\",\n    \"creationDate\": {\n        \"$$date\": 1621325057315\n    },\n    \"modificationDate\": {\n        \"$$date\": 1625579999355\n    },\n    \"_id\": \"RZFtupD3tVwuWuhF\",\n    \"content\": \"const axios = require('axios')\\n\\nconst ES_INDEX = 'fhir-report-patient'\\nconst ES_USERNAME = 'elastic'\\nconst ES_PASSWORD = 'dev_password_only'\\n\\nasync function beforeRender(req) {\\n  const { from, to, state, district, city, facilityCode } = req.data.params\\n\\n  const esQuery = {\\n    size: 0,\\n    query: {\\n      bool: {\\n        filter: [\\n          {\\n            range: {\\n              'hivDiagnosis.hivPosDate': {\\n                gte: `${from}||/d`,\\n                lte: `${to}||/d`\\n              }\\n            }\\n          },\\n          ...(state !== 'all' // only include this filter if not 'all'\\n            ? [\\n                {\\n                  term: {\\n                    'registration.facility.state': state\\n                  }\\n                }\\n              ]\\n            : []),\\n          ...(district !== 'all' // only include this filter if not 'all'\\n            ? [\\n                {\\n                  term: {\\n                    'registration.facility.district': district\\n                  }\\n                }\\n              ]\\n            : []),\\n          ...(city !== 'all' // only include this filter if not 'all'\\n            ? [\\n                {\\n                  term: {\\n                    'registration.facility.city': city\\n                  }\\n                }\\n              ]\\n            : []),\\n          ...(facilityCode !== 'all' // only include this filter if not 'all'\\n            ? [\\n                {\\n                  term: {\\n                    'registration.facilityCode': facilityCode\\n                  }\\n                }\\n              ]\\n            : [])\\n        ]\\n      }\\n    },\\n    aggs: {\\n      age: {\\n        range: {\\n          script: {\\n            source:\\n              \\\"if (doc['registration.birthDate'].size()==0) { return null } ZonedDateTime dob = doc['registration.birthDate'].value; LocalDate end = LocalDate.parse(params.reportPeriodEnd);return dob.toLocalDate().until(end, ChronoUnit.YEARS);\\\",\\n            params: {\\n              reportPeriodEnd: to\\n            }\\n          },\\n          ranges: [\\n            {\\n              key: '0-4',\\n              to: 5\\n            },\\n            {\\n              key: '5-9',\\n              from: 5,\\n              to: 10\\n            },\\n            {\\n              key: '10-14',\\n              from: 10,\\n              to: 15\\n            },\\n            {\\n              key: '15-19',\\n              from: 15,\\n              to: 20\\n            },\\n            {\\n              key: '20-24',\\n              from: 20,\\n              to: 25\\n            },\\n            {\\n              key: '25-29',\\n              from: 25,\\n              to: 30\\n            },\\n            {\\n              key: '30-24',\\n              from: 30,\\n              to: 35\\n            },\\n            {\\n              key: '35-39',\\n              from: 35,\\n              to: 40\\n            },\\n            {\\n              key: '40-44',\\n              from: 40,\\n              to: 45\\n            },\\n            {\\n              key: '45-49',\\n              from: 45,\\n              to: 50\\n            },\\n            {\\n              key: '50-54',\\n              from: 50,\\n              to: 55\\n            },\\n            {\\n              key: '55-59',\\n              from: 55,\\n              to: 60\\n            },\\n            {\\n              key: '60-64',\\n              from: 60,\\n              to: 65\\n            },\\n            {\\n              key: '65+',\\n              from: 65\\n            }\\n          ]\\n        },\\n        aggs: {\\n          gender: {\\n            terms: {\\n              field: 'registration.gender'\\n            },\\n            aggs: {\\n              distinct: {\\n                cardinality: {\\n                  field: 'registration.golden_id_fingerprint'\\n                }\\n              }\\n            }\\n          },\\n          distinct: {\\n            cardinality: {\\n              field: 'registration.golden_id_fingerprint'\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n\\n  let data\\n\\n  try {\\n    const resData = await axios({\\n      method: 'post',\\n      url: `http://es-analytics:9200/${ES_INDEX}/_search`,\\n      data: esQuery,\\n      headers: {\\n        'Content-Type': 'application/json',\\n        Authorization: `Basic ${new Buffer(\\n          `${ES_USERNAME}:${ES_PASSWORD}`\\n        ).toString('base64')}`\\n      }\\n    })\\n\\n    data = resData.data\\n  } catch (err) {\\n    return console.error(err)\\n  }\\n\\n  const { aggregations: aggs, hits } = data\\n\\n  const results = {\\n    totals: {\\n      total: hits.total.value,\\n      males: 0,\\n      females: 0\\n    },\\n    rows: []\\n  }\\n\\n  for (const ageBucket of aggs.age.buckets) {\\n    const males = (\\n      ageBucket.gender.buckets.find(\\n        (genderBucket) => genderBucket.key === 'male'\\n      ) || { distinct: { value: 0 } }\\n    ).distinct.value\\n\\n    const females = (\\n      ageBucket.gender.buckets.find(\\n        (genderBucket) => genderBucket.key === 'female'\\n      ) || { distinct: { value: 0 } }\\n    ).distinct.value\\n\\n    results.totals.males += males\\n    results.totals.females += females\\n\\n    results.rows.push({\\n      ageGroup: ageBucket.key,\\n      males: males,\\n      females: females,\\n      malesPercent: (males / ageBucket.distinct.value) * 100,\\n      femalesPercent: (females / ageBucket.distinct.value) * 100,\\n      total: ageBucket.distinct.value,\\n      totalPercent: (ageBucket.distinct.value / results.totals.total) * 100\\n    })\\n  }\\n\\n  results.totals.malesPercent =\\n    (results.totals.males / results.totals.total) * 100\\n  results.totals.femalesPercent =\\n    (results.totals.females / results.totals.total) * 100\\n\\n  req.data = Object.assign(req.data, results)\\n}\\n\",\n    \"folder\": {\n        \"shortid\": \"3Mqr0aV\"\n    },\n    \"__entityPath\": \"/scripts/report-1a\"\n}"},{"operation":"insert","path":"/scripts/report-5a","entitySet":"scripts","entityId":"jl5kBSF0bxcJGvSm","serializedDoc":"{\n    \"shortid\": \"E2HOJBdp6\",\n    \"name\": \"report-5a\",\n    \"creationDate\": {\n        \"$$date\": 1629972558663\n    },\n    \"modificationDate\": {\n        \"$$date\": 1630267168128\n    },\n    \"inheritedReadPermissions\": [],\n    \"inheritedEditPermissions\": [],\n    \"_id\": \"jl5kBSF0bxcJGvSm\",\n    \"isGlobal\": false,\n    \"content\": \"const axios = require('axios')\\n\\nconst ES_INDEX = 'fhir-report-patient'\\nconst ES_USERNAME = 'elastic'\\nconst ES_PASSWORD = 'dev_password_only'\\n\\nasync function beforeRender(req) {\\n    const { from, to, state, district, city, facilityId } = req.data.params\\n\\n    const esQuery = {\\n        size: 0,\\n        query: {\\n            bool: {\\n                filter: [{\\n                        range: {\\n                            'hivPositive.artStartDate': {\\n                                gte: `${from}||/d`,\\n                                lte: `${to}||/d`\\n                            }\\n                        }\\n                    },\\n                    ...(state !== 'all' // only include this filter if not 'all'\\n                        ?\\n                        [{\\n                            term: {\\n                                'registration.facility.state': state\\n                            }\\n                        }] : []),\\n                    ...(district !== 'all' // only include this filter if not 'all'\\n                        ?\\n                        [{\\n                            term: {\\n                                'registration.facility.district': district\\n                            }\\n                        }] : []),\\n                    ...(city !== 'all' // only include this filter if not 'all'\\n                        ?\\n                        [{\\n                            term: {\\n                                'registration.facility.city': city\\n                            }\\n                        }] : []),\\n                    ...(facilityId !== 'all' // only include this filter if not 'all'\\n                        ?\\n                        [{\\n                            term: {\\n                                'registration.facility.hfuid': facilityId\\n                            }\\n                        }] : [])\\n                ]\\n            }\\n        },\\n        aggs: {\\n            cd4Categories: {\\n                range: {\\n                    field: 'hivPositive.cd4ViralLoad',\\n                    ranges: [{\\n                            key: '< 200',\\n                            to: 200\\n                        },\\n                        {\\n                            key: '200 – 349',\\n                            from: 200,\\n                            to: 349\\n                        },\\n                        {\\n                            key: '350 – 499',\\n                            from: 350,\\n                            to: 499\\n                        },\\n                        {\\n                            key: '≥500',\\n                            from: 500\\n                        },\\n                    ]\\n                },\\n                aggs: {\\n                    gender: {\\n                        terms: {\\n                            field: 'registration.gender'\\n                        },\\n                        aggs: {\\n                            distinct: {\\n                                cardinality: {\\n                                    field: 'registration.golden_id_fingerprint'\\n                                }\\n                            }\\n                        }\\n                    },\\n                    distinct: {\\n                        cardinality: {\\n                            field: 'registration.golden_id_fingerprint'\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n    }\\n\\n    let data\\n\\n    try {\\n        const resData = await axios({\\n                    method: 'post',\\n                    url: `http://es-analytics:9200/${ES_INDEX}/_search`,\\n                    data: esQuery,\\n                    headers: {\\n                        'Content-Type': 'application/json',\\n                        Authorization: `Basic ${new Buffer(\\n          `${ES_USERNAME}:${ES_PASSWORD}`\\n        ).toString('base64')}`\\n      }\\n    })\\n\\n    data = resData.data\\n  } catch (err) {\\n    return console.error(err)\\n  }\\n\\n  const { aggregations: aggs, hits } = data\\n  femalesfemales\\n  const results = {\\n    totals: {\\n      total: hits.total.value,\\n      males: 0,\\n      females: 0,\\n      other: 0,\\n      unknown:0\\n    },\\n    rows: []\\n  }\\n\\n  for (const cd4Bucket of aggs.cd4Categories.buckets) {\\n    const males = (\\n      cd4Bucket.gender.buckets.find(\\n        (genderBucket) => genderBucket.key === 'male'\\n      ) || { distinct: { value: 0 } }\\n    ).distinct.value\\n\\n    const females = (\\n      cd4Bucket.gender.buckets.find(\\n        (genderBucket) => genderBucket.key === 'female'\\n      ) || { distinct: { value: 0 } }\\n    ).distinct.value\\n\\n    const other = (\\n      cd4Bucket.gender.buckets.find(\\n        (genderBucket) => genderBucket.key === 'other'\\n      ) || { distinct: { value: 0 } }\\n    ).distinct.value\\n\\n    const unknown = (\\n      cd4Bucket.gender.buckets.find(\\n        (genderBucket) => genderBucket.key === 'unknown'\\n      ) || { distinct: { value: 0 } }\\n    ).distinct.value\\n\\n    results.totals.males += males\\n    results.totals.females += females\\n    results.totals.other += other\\n    results.totals.unknown += unknown\\n\\n\\n    results.rows.push({\\n      ageGroup: cd4Bucket.key,\\n      males: males,\\n      females: females,\\n      other: other,\\n      unknown: unknown,\\n      malesPercent: (males / cd4Bucket.distinct.value) * 100,\\n      femalesPercent: (females / cd4Bucket.distinct.value) * 100,\\n      otherPercent: (other / cd4Bucket.distinct.value) * 100,\\n      unknownPercent: (unknown / cd4Bucket.distinct.value) * 100,\\n      total: cd4Bucket.distinct.value,\\n      totalPercent: (cd4Bucket.distinct.value / results.totals.total) * 100\\n    })\\n  }\\n\\n  results.totals.malesPercent =\\n    (results.totals.males / results.totals.total) * 100\\n  results.totals.femalesPercent =\\n    (results.totals.females / results.totals.total) * 100\\n  results.totals.otherPercent =\\n    (results.totals.other / results.totals.total) * 100\\n  results.totals.unknownPercent =\\n    (results.totals.unknown / results.totals.total) * 100\\n\\n  req.data = Object.assign(req.data, results)\\n}\",\n    \"folder\": {\n        \"shortid\": \"3Mqr0aV\"\n    },\n    \"__entityPath\": \"/scripts/report-5a\"\n}"},{"operation":"insert","path":"/scripts/report-3a","entitySet":"scripts","entityId":"2it1h3cJmNtvkHyC","serializedDoc":"{\n    \"shortid\": \"9IG7QwBZmk\",\n    \"name\": \"report-3a\",\n    \"creationDate\": {\n        \"$$date\": 1629357845122\n    },\n    \"modificationDate\": {\n        \"$$date\": 1629357845122\n    },\n    \"inheritedReadPermissions\": [],\n    \"inheritedEditPermissions\": [],\n    \"_id\": \"2it1h3cJmNtvkHyC\",\n    \"content\": \"const axios = require('axios')\\n\\nconst ES_INDEX = 'fhir-report-patient'\\nconst ES_USERNAME = 'elastic'\\nconst ES_PASSWORD = 'dev_password_only'\\n\\nasync function beforeRender(req) {\\n  const { from, to, state, district, city, facilityCode } = req.data.params\\n\\n  const esQuery = {\\n    size: 0,\\n    query: {\\n      bool: {\\n        filter: [\\n          {\\n            range: {\\n              'death.date': {\\n                gte: `${from}||/d`,\\n                lte: `${to}||/d`\\n              }\\n            }\\n          },\\n          {\\n            exists: {\\n              field: 'hivDiagnosis.hivPosDate'\\n            }\\n          },\\n          ...(state !== 'all' // only include this filter if not 'all'\\n            ? [\\n                {\\n                  term: {\\n                    'registration.facility.state': state\\n                  }\\n                }\\n              ]\\n            : []),\\n          ...(district !== 'all' // only include this filter if not 'all'\\n            ? [\\n                {\\n                  term: {\\n                    'registration.facility.district': district\\n                  }\\n                }\\n              ]\\n            : []),\\n          ...(city !== 'all' // only include this filter if not 'all'\\n            ? [\\n                {\\n                  term: {\\n                    'registration.facility.city': city\\n                  }\\n                }\\n              ]\\n            : []),\\n          ...(facilityCode !== 'all' // only include this filter if not 'all'\\n            ? [\\n                {\\n                  term: {\\n                    'registration.facilityCode': facilityCode\\n                  }\\n                }\\n              ]\\n            : [])\\n        ]\\n      }\\n    },\\n    aggs: {\\n      age: {\\n        range: {\\n          field: 'death.ageAtDeath',\\n          ranges: [\\n            {\\n              key: '0-4',\\n              to: 5\\n            },\\n            {\\n              key: '5-9',\\n              from: 5,\\n              to: 10\\n            },\\n            {\\n              key: '10-14',\\n              from: 10,\\n              to: 15\\n            },\\n            {\\n              key: '15-19',\\n              from: 15,\\n              to: 20\\n            },\\n            {\\n              key: '20-24',\\n              from: 20,\\n              to: 25\\n            },\\n            {\\n              key: '25-29',\\n              from: 25,\\n              to: 30\\n            },\\n            {\\n              key: '30-24',\\n              from: 30,\\n              to: 35\\n            },\\n            {\\n              key: '35-39',\\n              from: 35,\\n              to: 40\\n            },\\n            {\\n              key: '40-44',\\n              from: 40,\\n              to: 45\\n            },\\n            {\\n              key: '45-49',\\n              from: 45,\\n              to: 50\\n            },\\n            {\\n              key: '50-54',\\n              from: 50,\\n              to: 55\\n            },\\n            {\\n              key: '55-59',\\n              from: 55,\\n              to: 60\\n            },\\n            {\\n              key: '60-64',\\n              from: 60,\\n              to: 65\\n            },\\n            {\\n              key: '65+',\\n              from: 65\\n            }\\n          ]\\n        },\\n        aggs: {\\n          gender: {\\n            terms: {\\n              field: 'registration.gender'\\n            },\\n            aggs: {\\n              distinct: {\\n                cardinality: {\\n                  field: 'registration.golden_id_fingerprint'\\n                }\\n              }\\n            }\\n          },\\n          distinct: {\\n            cardinality: {\\n              field: 'registration.golden_id_fingerprint'\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n\\n  let data\\n\\n  try {\\n    const resData = await axios({\\n      method: 'post',\\n      url: `http://es-analytics:9200/${ES_INDEX}/_search`,\\n      data: esQuery,\\n      headers: {\\n        'Content-Type': 'application/json',\\n        Authorization: `Basic ${new Buffer(\\n          `${ES_USERNAME}:${ES_PASSWORD}`\\n        ).toString('base64')}`\\n      }\\n    })\\n\\n    data = resData.data\\n  } catch (err) {\\n    return console.error(err)\\n  }\\n\\n  const { aggregations: aggs, hits } = data\\n\\n  const results = {\\n    totals: {\\n      total: hits.total.value,\\n      males: 0,\\n      females: 0\\n    },\\n    rows: []\\n  }\\n\\n  for (const ageBucket of aggs.age.buckets) {\\n    const males = (\\n      ageBucket.gender.buckets.find(\\n        (genderBucket) => genderBucket.key === 'male'\\n      ) || { distinct: { value: 0 } }\\n    ).distinct.value\\n\\n    const females = (\\n      ageBucket.gender.buckets.find(\\n        (genderBucket) => genderBucket.key === 'female'\\n      ) || { distinct: { value: 0 } }\\n    ).distinct.value\\n\\n    results.totals.males += males\\n    results.totals.females += females\\n\\n    results.rows.push({\\n      ageGroup: ageBucket.key,\\n      males: males,\\n      females: females,\\n      malesPercent: (males / ageBucket.distinct.value) * 100,\\n      femalesPercent: (females / ageBucket.distinct.value) * 100,\\n      total: ageBucket.distinct.value,\\n      totalPercent: (ageBucket.distinct.value / results.totals.total) * 100\\n    })\\n  }\\n\\n  results.totals.malesPercent =\\n    (results.totals.males / results.totals.total) * 100\\n  results.totals.femalesPercent =\\n    (results.totals.females / results.totals.total) * 100\\n\\n  req.data = Object.assign(req.data, results)\\n}\\n\",\n    \"folder\": {\n        \"shortid\": \"3Mqr0aV\"\n    },\n    \"__entityPath\": \"/scripts/report-3a\"\n}"},{"operation":"insert","path":"/scripts/report-params","entitySet":"scripts","entityId":"yHXVkLNa5Ed3yqVn","serializedDoc":"{\n    \"shortid\": \"CMuLz7MgjP\",\n    \"name\": \"report-params\",\n    \"creationDate\": {\n        \"$$date\": 1622717092286\n    },\n    \"modificationDate\": {\n        \"$$date\": 1625830141142\n    },\n    \"inheritedReadPermissions\": [],\n    \"inheritedEditPermissions\": [],\n    \"_id\": \"yHXVkLNa5Ed3yqVn\",\n    \"content\": \"const axios = require('axios')\\n\\nconst ES_INDEX = 'fhir-raw-organization'\\nconst SYS_HFUID = 'http://test.org/identifier/hiv-organization'\\nconst ES_USERNAME = 'elastic'\\nconst ES_PASSWORD = 'dev_password_only'\\n\\nasync function beforeRender(req) {\\n  const res = await axios({\\n    method: 'get',\\n    url: `http://es-analytics:9200/${ES_INDEX}/_search?_source=resource.address,resource.name,resource.identifier&size=10000`,\\n    headers: {\\n      'Content-Type': 'application/json',\\n      Authorization: `Basic ${new Buffer(\\n        `${ES_USERNAME}:${ES_PASSWORD}`\\n      ).toString('base64')}`\\n    }\\n  })\\n\\n  if (res.status != 200) {\\n    throw new Error(`Received error status: ${res.status} ${res.data}`)\\n  }\\n\\n  const distinctCountries = new Set()\\n  const distinctStates = new Set()\\n  const distinctDistricts = new Set()\\n  const distinctCities = new Set()\\n\\n  req.data.facilities = res.data.hits.hits.map((hit) => {\\n    const resource = hit._source.resource\\n\\n    distinctCountries.add(resource.address[0].country)\\n    distinctStates.add(resource.address[0].state)\\n    distinctDistricts.add(resource.address[0].district)\\n    distinctCities.add(resource.address[0].city)\\n\\n    return {\\n      country: resource.address[0].country,\\n      state: resource.address[0].state,\\n      district: resource.address[0].district,\\n      city: resource.address[0].city,\\n      facility: resource.name,\\n      facilityCode: resource.identifier.find((i) => i.system === SYS_HFUID)\\n        .value\\n    }\\n  })\\n\\n  req.data.distinctCountries = [...distinctCountries]\\n  req.data.distinctStates = [...distinctStates]\\n  req.data.distinctDistricts = [...distinctDistricts]\\n  req.data.distinctCities = [...distinctCities]\\n}\\n\",\n    \"folder\": {\n        \"shortid\": \"3Mqr0aV\"\n    },\n    \"__entityPath\": \"/scripts/report-params\"\n}"}],"modificationDate":{"$$date":1630269759870},"shortid":"u92CwQF","_id":"bC98706foKaZmsN7","$entitySet":"versions"}
{"message":"commit 2","creationDate":{"$$date":1630312938866},"changes":[{"operation":"update","path":"/report-5a","entitySet":"templates","entityId":"BUgofsmWqPjxJzYE","serializedPatch":"{\n    \"documentProperties\": [],\n    \"config\": \"Index: /report-5a\\n===================================================================\\n--- /report-5a\\n+++ /report-5a\\n@@ -7,1 +7,2 @@\\n-        \\\"printBackground\\\": true\\n+        \\\"printBackground\\\": true,\\n+        \\\"landscape\\\": false\\n@@ -13,1 +14,1 @@\\n-        \\\"$$date\\\": 1630267230322\\n+        \\\"$$date\\\": 1630270992664\\n\"\n}"},{"operation":"update","path":"/scripts/report-5a","entitySet":"scripts","entityId":"jl5kBSF0bxcJGvSm","serializedPatch":"{\n    \"documentProperties\": [],\n    \"config\": \"Index: /scripts/report-5a\\n===================================================================\\n--- /scripts/report-5a\\n+++ /scripts/report-5a\\n@@ -8,1 +8,1 @@\\n-        \\\"$$date\\\": 1630267168128\\n+        \\\"$$date\\\": 1630270989374\\n@@ -13,1 +13,1 @@\\n-    \\\"isGlobal\\\": false,\\n+    \\\"isGlobal\\\": true,\\n\"\n}"}],"modificationDate":{"$$date":1630312938866},"shortid":"MwXu5JN","_id":"vxv9n0Ix91bdgSnn","$entitySet":"versions"}
